{"version":3,"sources":["node_modules/browser-pack/_prelude.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/main.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/pickup-anywhere-form-after/pickup-anywhere-form-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/pickup-anywhere-form-after/slsp-close-pickup-anywhere-form/slsp-close-pickup-anywhere-form.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/pickup-anywhere-form-after/slsp-close-pickup-anywhere-form/slsp-close-pickup-anywhere-form.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/pickup-anywhere-form-after/slsp-home-delivery-label/slsp-home-delivery-label.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/pickup-anywhere-form-after/slsp-home-delivery-label/slsp-home-delivery-label.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-advanced-search-after/prm-advanced-search-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-advanced-search-after/slsp-advanced-search-clear-button/slsp-advanced-search-clear-button.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-advanced-search-after/slsp-advanced-search-clear-button/slsp-advanced-search-clear-button.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-members-after/prm-alma-other-members-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-members-after/slsp-collapse-other-inst/slsp-collapse-other-inst.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-members-after/slsp-collapse-other-inst/slsp-collapse-other-inst.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-members-after/slsp-icon-label-other-members/slsp-icon-label-other-members.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-members-after/slsp-icon-label-other-members/slsp-icon-label-other-members.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-units-after/prm-alma-other-units-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-units-after/slsp-icon-label-other-units/slsp-icon-label-other-units.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-units-after/slsp-icon-label-other-units/slsp-icon-label-other-units.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-viewit-items-after/prm-alma-viewit-items-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-viewit-items-after/slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-viewit-items-after/slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-viewit-items-after/slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-viewit-items-after/slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-viewit-items-after/slsp-translate-public-note/slsp-translate-public-note.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-viewit-items-after/slsp-translate-public-note/slsp-translate-public-note.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-citation-after/prm-citation-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-citation-after/slsp-citation-select/slsp-citation-select.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-citation-after/slsp-citation-select/slsp-citation-select.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-facet-exact-after/primo-explore-eth-okm-link/eth-okm-link.config.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-facet-exact-after/primo-explore-eth-okm-link/eth-okm-link.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-facet-exact-after/primo-explore-eth-okm-link/eth-okm-link.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-facet-exact-after/primo-explore-eth-okm-link/services/eth-config.service.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-facet-exact-after/prm-facet-exact-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-facet-exact-after/slsp-odn-link/slsp-odn-link.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-facet-exact-after/slsp-odn-link/slsp-odn-link.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-favorites-edit-labels-menu-after/prm-favorites-edit-labels-menu-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-favorites-edit-labels-menu-after/slsp-save-label-button/slsp-save-label-button.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-favorites-edit-labels-menu-after/slsp-save-label-button/slsp-save-label-button.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-fines-after/prm-fines-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-fines-after/slsp-closed-fines-bar/slsp-closed-fines-bar.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-fines-after/slsp-closed-fines-bar/slsp-closed-fines-bar.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-full-view-after/prm-full-view-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-full-view-after/slsp-icon-label/slsp-icon-label.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-full-view-after/slsp-icon-label/slsp-icon-label.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-gallery-collection-after/prm-gallery-collection-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-gallery-collection-after/slsp-collection-id/slsp-collection-id.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-gallery-collection-after/slsp-collection-id/slsp-collection-id.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-get-it-request-after/prm-get-it-request-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-get-it-request-after/slsp-pickup-information/slsp-pickup-information.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-get-it-request-after/slsp-pickup-information/slsp-pickup-information.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-get-it-request-after/slsp-refine-journal-request/slsp-refine-journal-request.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-get-it-request-after/slsp-refine-journal-request/slsp-refine-journal-request.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-loan-after/slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-loan-after/slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-loan-after/slsp-loan-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-loan-after/slsp-renew-item-text/slsp-renew-item-text.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-loan-after/slsp-renew-item-text/slsp-renew-item-text.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-holdings-after/prm-location-holdings-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-holdings-after/slsp-holding-collapse/slsp-holding-collapse.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-holdings-after/slsp-holding-collapse/slsp-holding-collapse.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-holdings-after/slsp-i-button/slsp-i-button.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-holdings-after/slsp-i-button/slsp-i-button.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-item-after/hsg-display-item-policy/hsg-display-item-policy.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-item-after/hsg-display-item-policy/hsg-display-item-policy.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-item-after/hsg-location-item-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-item-after/slsp-cug-policy/slsp-cug-policy.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-item-after/slsp-cug-policy/slsp-cug-policy.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-location-items-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-location-items-filter/eth-location-items-filter.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-location-items-filter/eth-location-items-filter.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-mapongo/eth-mapongo-check.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-mapongo/eth-mapongo-check.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-mapongo/eth-mapongo-libraries.service.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-mapongo/eth-mapongo.config.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-mapongo/eth-mapongo.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-mapongo/eth-mapongo.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/slsp-icon-label-location-items/slsp-icon-label-location-items.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/slsp-icon-label-location-items/slsp-icon-label-location-items.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-locations-after/eth-locations-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-locations-after/eth-locations-filter/eth-locations-filter.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-locations-after/eth-locations-filter/eth-locations-filter.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-locations-after/slsp-collapse-related/slsp-collapse-related.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-locations-after/slsp-collapse-related/slsp-collapse-related.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-locations-after/slsp-icon-label-locations/slsp-icon-label-locations.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-locations-after/slsp-icon-label-locations/slsp-icon-label-locations.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-login-after/prm-login-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-login-after/slsp-login-box/slsp-login-box.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-login-after/slsp-login-box/slsp-login-box.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-offer-details-tile-after/prm-offer-details-tile-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-offer-details-tile-after/slsp-book-request-form-msg/slsp-book-request-form-msg.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-offer-details-tile-after/slsp-book-request-form-msg/slsp-book-request-form-msg.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-offer-details-tile-after/slsp-multivolume-request/slsp-multivolume-request.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-offer-details-tile-after/slsp-multivolume-request/slsp-multivolume-request.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-opac-after/prm-opac-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-opac-after/slsp-ovp-reservation/slsp-ovp-reservation.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-opac-after/slsp-ovp-reservation/slsp-ovp-reservation.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-personal-info-after/slsp-edit-personal-details/slsp-edit-personal-details.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-personal-info-after/slsp-edit-personal-details/slsp-edit-personal-details.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-personal-info-after/slsp-invoices/slsp-invoices.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-personal-info-after/slsp-invoices/slsp-invoices.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-personal-info-after/slsp-personal-info-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-request-after/bcu-fees-link/bcu-fees-link.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-request-after/bcu-fees-link/bcu-fees-link.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-request-after/slsp-alma-request/slsp-alma-request.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-request-after/slsp-alma-request/slsp-alma-request.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-request-after/slsp-request-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-requests-after/slsp-request-cancel-button/slsp-request-cancel-button.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-requests-after/slsp-request-cancel-button/slsp-request-cancel-button.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-requests-after/slsp-requests-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-bar-after/bcu-search-bar-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-bar-after/bcu-search-slots/bcu-search-slots.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-bar-after/bcu-search-slots/bcu-search-slots.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-bar-after/slsp-ra-beta-icon/slsp-ra-beta-icon.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-bar-after/slsp-ra-beta-icon/slsp-ra-beta-icon.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-result-list-after/prm-search-result-list-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-result-list-after/slsp-top-pagination-switch/slsp-top-pagination-switch.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-result-list-after/slsp-top-pagination-switch/slsp-top-pagination-switch.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-result-tool-bar-after/prm-search-result-tool-bar-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-result-tool-bar-after/slsp-top-pagination-switch/slsp-top-pagination-switch.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-send-email-after/prm-send-email-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-send-email-after/slsp-send-email-info/slsp-send-email-info.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-send-email-after/slsp-send-email-info/slsp-send-email-info.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-button-after/prm-service-button-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-button-after/slsp-digitization-button-label/slsp-digitization-button-label.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-button-after/slsp-digitization-button-label/slsp-digitization-button-label.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-button-after/slsp-reservation-button/slsp-reservation-button.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-button-after/slsp-reservation-button/slsp-reservation-button.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-details-after/prm-service-details-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-details-after/slsp-collapse-details/hsg-translator.service.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-details-after/slsp-collapse-details/slsp-collapse-details.config.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-details-after/slsp-collapse-details/slsp-collapse-details.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-details-after/slsp-collapse-details/slsp-collapse-details.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-ngrs-after/bcu-rapido-no-further-options/bcu-rapido-no-further-options.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-ngrs-after/bcu-rapido-no-further-options/bcu-rapido-no-further-options.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-ngrs-after/prm-service-ngrs-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-ngrs-after/slsp-rapido-fees-link/slsp-rapido-fees-link.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-ngrs-after/slsp-rapido-fees-link/slsp-rapido-fees-link.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-physical-best-offer-after/eth-disable-request-button/eth-disable-request-button.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-physical-best-offer-after/eth-disable-request-button/eth-disable-request-button.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-physical-best-offer-after/prm-service-physical-best-offer-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-physical-best-offer-after/slsp-icon-label-rapido/slsp-icon-label-rapido.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-physical-best-offer-after/slsp-icon-label-rapido/slsp-icon-label-rapido.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-physical-best-offer-after/slsp-rapido-digital-offer/slsp-rapido-digital-offer.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-physical-best-offer-after/slsp-rapido-digital-offer/slsp-rapido-digital-offer.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-tabs-and-scopes-selector-after/bcu-scopes-selector/bcu-scopes-selector.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-tabs-and-scopes-selector-after/bcu-scopes-selector/bcu-scopes-selector.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-tabs-and-scopes-selector-after/bcu-tabs-and-scopes-selector-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-top-bar-before/prm-top-bar-before.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-top-bar-before/slsp-git-hint/slsp-git-hint.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-top-bar-before/slsp-git-hint/slsp-git-hint.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-top-bar-before/slsp-git-hint/slsp-git-hint.service.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-top-bar-before/slsp-keyboard-focus/slsp-keyboard-focus.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-top-bar-before/slsp-keyboard-focus/slsp-keyboard-focus.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-union-catalog-login-after/prm-union-catalog-login-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-union-catalog-login-after/slsp-union-login-box/slsp-union-login-box.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-union-catalog-login-after/slsp-union-login-box/slsp-union-login-box.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-user-area-expandable-after/bcu-lang-switch/bcu-lang-switch.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-user-area-expandable-after/bcu-lang-switch/bcu-lang-switch.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.service.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-user-area-expandable-after/slsp-user-area-expandable-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-http-intercept-pickup-information/index.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-http-intercept-pickup-information/js/slsp-http-intercept-pickup-information.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-http-intercept-requests/index.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-http-intercept-requests/js/slsp-http-intercept-requests.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-ill-signin-order-alert/index.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-ill-signin-order-alert/js/slsp-ill-signin-order-alert.module.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","angular","_slspClosePickupAnywhereForm","_slspHomeDeliveryLabel","pickupAnywhereFormAfterModule","component","bindings","parentCtrl","template","requires","push","slspClosePickupAnywhereFormModule","name","slspHomeDeliveryLabelModule","slspClosePickupAnywhereFormController","_classCallCheck","this","afterCtrl","console","error","message","hidePickupAnywhereForm","emit","$inject","controller","slspHomeDeliveryLabelController","observer","labelLocation","radioButton","document","querySelector","label","MutationObserver","classList","contains","style","display","observe","attributes","attributeFilter","parentNode","appendChild","disconnect","_slspHomeDeliveryLabelController","_slspAdvancedSearchClearButton","prmAdvancedSearchAfterModule","slspAdvancedSearchClearButtonModule","slspAdvancedSearchClearButtonController","$timeout","$compile","$scope","_this","limit","incrementButton","element","clearButton","resetButton","replaceWith","decrementButton","insertBefore","nextSibling","limitIndex","rowArray","boolOperator","searchOperator","searchCategory","searchQuery","clearSearchForm","_slspCollapseOtherInst","_slspIconLabelOtherMembers","prmAlmaOtherMembersAfterModule","slspCollapseOtherInstModule","slspIconLabelOtherMembersModule","slspCollapseOtherInstController","noItemAtPickupLocation","almaAlertBar","log","serviceMode","isCollapsed","item","delivery","displayedAvailability","querySelectorAll","prepend","addClass","slspIconLabelOtherMembersController","iconLabelOtherMembersP2","availabilityType","iconLabelOtherMembersE","_slspIconLabelOtherUnits","prmAlmaOtherUnitsAfterModule","slspIconLabelOtherUnitsModule","slspIconLabelOtherUnitsController","iconLabelOtherUnitsE","_slspIconLabelViewitItems","_slspCollapseRelatedEResources","_slspTranslatePublicNote","prmAlmaViewitItemsAfterModule","slspIconLabelViewitItemsModule","slspCollapseRelatedEResourcesModule","slspTranslatePublicNoteModule","slspCollapseRelatedEResourcesController","serviceType","forEach","relatedDiv","buttonElement","closestPrmAlmaViewitItems","closest","mdListElements","index","add","createElement","innerHTML","addEventListener","toggle","titleElement","titleParentElement","replaceChild","undefined","slspIconLabelViewitItemsController","iconLabelViewitItemsDigital","iconLabelRidOffDigital","iconLabelViewitItems","iconLabelRidOff","detach","slspTranslatePublicNoteController","$filter","noteDe","noteEn","noteFr","noteIt","noteBreak","remove","lang","sms","$root","$$childHead","$ctrl","userSessionManagerService","getInterfaceLanguage","_slspCitationSelect","prmCitationAfterModule","slspCitationSelectModule","slspCitationSelectController","citationSelectList","citationSelect","append","ethOkmLinkConfig","groupName","de","en","fr","it","ethOkmLinkController","$location","ethConfigService","$element","config","q1","searchValue","prmOkmElement","getLabel","prmFacet","facets","filter","displayedType","limitCount","facetGroupCollapsed","values","facetGroup","search","query","Array","isArray","map","split","join","window","appConfig","vid","replace","searchAlternatives","url","encodeURIComponent","image","_ethConfig","_ethOkmLink","_ethOkmLink2","ethOkmLinkModule","factory","restrict","$rootScope","getLanguage","getUserLanguage","$window","interfaceLanguage","key","getUrl","_slspOdnLink","prmFacetExactAfterModule","slspOdnLinkModule","slspOdnLinkController","facetElement","odnLink","facetGrp","searchService","searchFieldsService","mainSearch","getElementById","_slspSaveLabelButton","prmFavoritesEditLabelsMenuAfterModule","slspSaveLabelButtonModule","slspSaveLabelButtonController","form","data","find","after","_slspClosedFinesBar","prmFinesAfterModule","slspClosedFinesBarModule","slspClosedFinesBarController","showClosedFines","finesTypeDropDownSelection","_currentFinesArray","totalNumOfFines","currentFinesArray","fine","fineData","words","fineType","firstWordRemoved","expandedDisplay","firstLineRight","splice","unshift","_slspIconLabel","prmFullViewAfterModule","slspIconLabelModule","slspIconLabelController","_slspCollectionId","prmGalleryCollectionAfterModule","slspCollectionIdModule","slspCollectionIdController","prmGalleryCollection","collectionId","getCollectionId","setAttribute","collection","pid","value","_slspPickupInformation","_slspRefineJournalRequest","prmGetItRequestAfterModule","slspPickupInformationModule","slspRefineJournalRequestModule","slspPickupInformationController","getInstitutionName","bind","getLibraryName","getSupplyTime","getLoanPeriod","getPatronCost","getCurrency","getChosenPlaceRadio","pickupAnywhereService","getSelectedPickupInformation","institutionName","libraryName","_bestOffer","supplyTime","loanPeriod","patronCost","currency","chosenPlaceRadio","slspRefineJournalRequestController","submitBtn","pickupInfo","isRefined","_refined","isPhysicalForm","openphysicalform","openPhysicalForm","isPhysicalJournal","refineOfferDisabled","_refineOfferDisabled","volumeData","formData","myVolume","publicationData","myNote","myPublicationDate","physicalGetItRequestElem","hasNoBestOfferClass","enableRefineButton","disableRefineButton","_lastVolumeData","_lastPublicationData","noteField","_submitHandlerRegistered","event","noteData","combinedNote","includes","disableRequestButton","enableRequestButton","parent","podId","requestButton","attr","removeAttr","slspHideRapidoLoanLinkController","itemType","itemBarcode","hideTitle","itembarcode","loansService","requestParams","type","setTitle","title","_slspHideRapidoLoanLink","slspHideRapidoLoanLinkModule","_slspRenewItemText","slspLoanAfterModule","slspRenewItemTextModule","slspRenewItemTextController","getRenewText","renewstatuses","renewstatus","_slspIButton","_slspHoldingCollapse","prmLocationHoldingsAfterModule","slspIButtonModule","slspHoldingCollapseModule","slspHoldingCollapseController","labels","holdingExpandLabel","holdingCollapseLabel","vm","$watch","currLoc","newValue","oldValue","isHoldingExpandedData","addCollapseClass","holdingExpand","holdingExpandButton","__replaced","holdingCollapse","holdingCollapseButton","slspIButtonController","biblinkBase","getLibrary","getLibraryCode","location","librarycodeTranslation","libraryCode","addSpecialInfoClass","hsgDisplayItemPolicyController","$document","ctrl","setItemPolicyText","policy","selectItem","itemFields","registerWatcher","that","componentName","nodeName","toLocaleLowerCase","from","findIndex","loc","items","_hsgDisplayItemPolicy","hsgDisplayItemPolicyModule","_slspCugPolicy","hsgLocationItemAfterModule","slspCugPolicyModule","slspCugPolicyController","userGroup","jwtUtilService","getDecodedToken","trim","_ethMapongoCheck","_ethMapongo","_slspIconLabelLocationItems","_ethLocationItemsFilter","ethLocationItemsAfterModule","ethMapongoCheckModule","ethMapongoModule","slspIconLabelLocationItemsModule","ethLocationItemsFilterModule","ethLocationItemsFilterController","filterLabel","filterButton","filterButtonReplaced","ethMapongoCheckController","ethMapongoLibrariesService","isMapongoLibrary","noLocationItemAfter","locationItemAfter","parentElement","getElementsByTagName","aPrmLocationItemAfter","slice","recordid","pnx","control","sourcerecordid","addCallnumberEntry","barcodeEntry","prmLocationItemAfter","isMapongoSubLocation","_additionalData","secondarylocationname","isAvailable","itemstatusname","subLocationCode","getSubLocationCode","callnumber","fullItemFields","indexOf","addCallnumber","barcode","_ethMapongoLibraries","libraries","shortname","baseUrl","locationCodeWhiteList","locationWhiteList","availabilityStatus","l","subLocation","getBaseUrl","lib","filterLibraries","s","ethMapongoConfig","qrc","ethMapongoController","src","sublocation","_ethMapongo2","slspIconLabelLocationItemsController","iconLabelLocationItems","iconLabelLocationItems2","serviceScrollId","iconLabelLocationItems3","_ethLocationsFilter","_slspIconLabelLocations","_slspCollapseRelated","ethLocationsAfterModule","ethLocationsFilterModule","slspIconLabelLocationsModule","slspCollapseRelatedModule","ethLocationsFilterController","slspCollapseRelatedController","locations","relatedLocationsListLimit","slspIconLabelLocationsController","iconLabelLocations","iconLabelLocations2","iconLabelLocations3","_slspLoginBox","prmLoginAfterModule","slspLoginBoxModule","slspLoginBoxController","authMeth1","authMeth1b","authMeth2","_slspMultivolumeRequest","_slspBookRequestFormMsg","prmOfferDetailsTileAfterModule","slspMultivolumeRequestModule","slspBookRequestFormMsgModule","slspBookRequestFormMsgController","slspMultivolumeRequestController","previousUnavailableVolume","domManipulated","currentUnavailableVolume","isNoOfferAfterRefine","isUnavailableResource","resourceType","getResourceType","updatePhysicalGetItRequestClass","physicalGetItRequestDiv","removeClass","_slspOvpReservation","prmOpacAfterModule","slspOvpReservationModule","slspOvpReservationController","reservationLabel","processDoCheck","compiledHtml","unavailability","bestlocation","reservationButton","slspEditPersonalDetailsController","detailsBaseEdu","detailsBaseReg","exclude","grpA","grpB","getPatronGrp","personalInfoService","personalInfo","patron","patronstatus","registration","institution","patronstatuscode","grpLabelA","labelA","grpLabelB","labelB","buttonMove","_slspEditPersonalDetails","slspEditPersonalDetailsModule","slspInvoicesController","$http","$translate","$interval","invoices","isLoading","refreshInterval","tabLabels","jwt","sessionStorage","getItem","post","jsonrpc","method","params","id","headers","Content-Type","Accept","token","withCredentials","cache","then","response","$apply","catch","status","statusText","documentLink","_this2","retryCount","arguments","existingWindow","newWindow","button","isReusingWindow","closed","open","write","close","pop","get","responseType","blob","Blob","fileURL","URL","createObjectURL","href","revokeObjectURL","reader","FileReader","onload","readAsText","alert","fetchPdf","newScope","compiledTabContent","newTab","contentWrapper","_this3","tabsContainer","tabsCtrl","tabs","currentLang","use","translatedLabel","some","tab","scope","$new","select","deselect","getIndex","isActive","selectedIndex","isLeft","isRight","hasFocus","$on","refreshInkBar","pagination","updateVisible","$applyAsync","fetchInvoices","shouldPageForward","shouldPageBack","updatePagination","_this4","addCustomTab","cancel","_slspInvoices","slspInvoicesModule","slspPersonalInfoAfterModule","bcuFeesLinkController","info","children","className","instant","feesInfo","_bcuFeesLink","bcuFeesLinkModule","slspAlmaRequestController","requestLoan","requestDigi","_slspAlmaRequest","slspAlmaRequestModule","slspRequestAfterModule","slspRequestCancelButtonController","currentRequestArray","request","requestType","statusCode","isCancelable","_slspRequestCancelButton","slspRequestCancelButtonModule","slspRequestsAfterModule","_bcuSearchSlots","_slspRaBetaIcon","bcuSearchBarAfterModule","bcuSearchSlotsModule","slspRaBetaIconModule","bcuSearchSlotsController","showTabsAndScopes","instClass","getInstitutionCode","slspRaBetaIconController","aiLogoAppended","aiLogoElement","aiLogoElements","_slspTopPaginationSwitch","prmSearchResultListAfterModule","slspTopPaginationSwitchModule","slspTopPaginationSwitchController","enableTopPagination","prmSearchResultToolBarAfterModule","_slspSendEmailInfo","prmSendEmailAfterModule","slspSendEmailInfoModule","slspSendEmailInfoController","sendEmailInfoLabel","sendEmailForm","html","decodeJWT","_slspDigitizationButtonLabel","_slspReservationButton","prmServiceButtonAfterModule","slspDigitizationButtonLabelModule","slspReservationButtonModule","slspDigitizationButtonLabelController","digiButtonLabel","digiItemButtonLabel","service","_digiButtonLabel","slspReservationButtonController","itemReservationLabel","language","statusName","requestParameters","prmOpacElement","itemReservationButton","_slspCollapseDetails","prmServiceDetailsAfterModule","slspCollapseDetailsModule","hsgTranslatorService","$log","defaultLang","getLang","labelSet","slspCollapseDetailsConfig","ignore","charCount","itemCount","icons","expand","collapse","slspCollapseDetailsController","$sce","translator","waiting","iconExpand","iconCollapse","expandButtonLabel","collapseButtonLabel","NUMBER_OF_DETAILS_TO_SHOW","rootEl","deregister","makeFoldable","details","_details","textLength","configItem","detail","_typeof","lowerBound","addMarkup","getItemContainer","itemContainer","count","longtext","listitems","listitem","msg","trustAsHtml","_hsgTranslator","_slspCollapseDetails2","constant","bcuRapidoNoFurtherOptionsController","almaRSServiceAvailable","isi","isSignedIn","rapidoSection","rapidoTOC","hasClass","_bcuRapidoNoFurtherOptions","bcuRapidoNoFurtherOptionsModule","_slspRapidoFeesLink","prmServiceNgrsAfterModule","slspRapidoFeesLinkModule","slspRapidoFeesLinkController","rapidoFeesLink","ethDisableRequestButtonController","journalRequest","observeDomChanges","targetNode","mutationsList","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","checkAndHandleButton","err","return","childList","subtree","noAvailableCopies","noAvailableCopiesLine1","hasAvailableInInstitution","resType","addata","ristype","delCategory","deliveryCategory","almaInstitutionsList","hasAlmaP","String","_ethDisableRequestButton","ethDisableRequestButtonModule","_slspRapidoDigitalOffer","_slspIconLabelRapido","prmServicePhysicalBestOfferAfterModule","slspRapidoDigitalOfferModule","slspIconLabelRapidoModule","slspIconLabelRapidoController","iconLabel2","existingIcon2","isdigitaloffer","iconLabel","existingIcon","slspRapidoDigitalOfferController","loaderTemplate","isDone","loadingText","text","tilesplaceholderactive","rapidoCosts","bestoffer","unavailableInAllMembersPod","unavailableResource","reservation","readingRoomPod","bcuScopesSelectorController","setTimeout","searchScopes","onclick","getElementsByClassName","click","_bcuScopesSelector","bcuScopesSelectorModule","bcuTabsAndScopesSelectorAfterModule","_slspGitHint","_slspKeyboardFocus","prmTopBarBeforeModule","slspGitHintModule","slspKeyboardFocusModule","slspGitHintController","slspGitHintService","currentTime","Date","getMessage","startTime","injector","endTime","topBarBefore","_slspGitHint2","getTime","trustAsResourceUrl","X-From-ExL-API-Gateway","httpError","slspKeyboardFocusController","body","on","off","_slspUnionLoginBox","prmUnionCatalogLoginAfterModule","slspUnionLoginBoxModule","slspUnionLoginBoxController","cancelLogin","bcuLangSwitchController","$parent","languages","changeLanguage","initTooltipPositioning","changeLangService","addLangParamToUrl","i18nService","setLanguage","$state","go","current","reload","getAriaLabels","aria_label_de","aria_label_en","aria_label_fr","aria_label_it","tooltip","tooltipText","left","right","transform","rect","getBoundingClientRect","viewportWidth","innerWidth","_bcuLangSwitch","bcuLangSwitchModule","slspIllSigninOrderLoggedOutController","slspIllSigninOrderLoggedOutService","usrNme","isGuest","_slspIllSigninOrderLoggedOut","_slspIllSigninOrderLoggedOut2","slspIllSigninOrderLoggedOutModule","jwtHelper","decodeToken","decodedToken","userName","slspUserAreaExpandableAfterModule","slspHttpInterceptPickupInformation","$httpProvider","interceptors","$q","_request","requestError","reject","responseError","_response","test","personalDelivery","slspHttpInterceptRequests","list_of_hold_states","list_of_photocopy_states","Object","keys","list_of_hold_states_regexp","RegExp","m","toLowerCase","holds","hold","holdstatus","list_of_photocopy_states_regexp","photocopies","photocopy","requeststatus","getAlert","ga","almaHowToGetitService","reqAlert","_htmlMsg","myEl2"],"mappings":"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","file":"custom.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","//import './slsp-courier-info';\nimport './slsp-ill-signin-order-alert';\nimport './prm-locations-after';\nimport './prm-location-items-after';\nimport './slsp-http-intercept-requests';\nimport './prm-user-area-expandable-after';\nimport './prm-loan-after';\nimport './prm-personal-info-after';\nimport './prm-alma-other-members-after';\nimport './prm-service-ngrs-after';\nimport './prm-service-physical-best-offer-after';\nimport './slsp-http-intercept-pickup-information';\nimport './prm-search-bar-after';\nimport './prm-tabs-and-scopes-selector-after';\nimport './prm-service-button-after';\nimport './prm-full-view-after';\nimport './prm-request-after';\nimport './prm-requests-after';\nimport './prm-alma-viewit-items-after';\nimport './prm-alma-other-units-after';\nimport './prm-login-after';\nimport './prm-location-holdings-after';\nimport './prm-offer-details-tile-after';\nimport './prm-fines-after';\nimport './prm-service-details-after';\nimport './prm-location-item-after';\nimport './prm-union-catalog-login-after';\nimport './prm-opac-after';\nimport './prm-facet-exact-after';\nimport './prm-citation-after';\nimport './prm-send-email-after';\nimport './prm-favorites-edit-labels-menu-after';\nimport './prm-search-result-tool-bar-after';\nimport './prm-search-result-list-after';\nimport './prm-top-bar-before';\nimport './prm-advanced-search-after';\nimport './prm-get-it-request-after';\nimport './pickup-anywhere-form-after';\nimport './prm-gallery-collection-after';\n\n\n\n\n\n\nvar app = angular.module('centralCustom', ['angularLoad', 'slspIllSigninOrderAlert', 'ethLocationsAfterModule', 'ethLocationItemsAfterModule', 'slspHttpInterceptRequests', 'slspUserAreaExpandableAfterModule', 'slspLoanAfterModule', 'slspPersonalInfoAfterModule', 'prmAlmaOtherMembersAfterModule', 'prmServiceNgrsAfterModule', 'prmServicePhysicalBestOfferAfterModule', 'slspHttpInterceptPickupInformation', 'bcuSearchBarAfterModule', 'bcuTabsAndScopesSelectorAfterModule', 'prmServiceButtonAfterModule', 'prmFullViewAfterModule', 'slspRequestAfterModule', 'slspRequestsAfterModule', 'prmAlmaViewitItemsAfterModule', 'prmAlmaOtherUnitsAfterModule', 'prmLoginAfterModule', 'prmLocationHoldingsAfterModule', 'prmOfferDetailsTileAfterModule', 'prmFinesAfterModule', 'prmServiceDetailsAfterModule', 'hsgLocationItemAfterModule', 'prmUnionCatalogLoginAfterModule', 'prmOpacAfterModule', 'prmFacetExactAfterModule', 'prmCitationAfterModule' , 'prmSendEmailAfterModule', 'prmFavoritesEditLabelsMenuAfterModule', 'prmSearchResultToolBarAfterModule', 'prmSearchResultListAfterModule', 'prmTopBarBeforeModule', 'prmAdvancedSearchAfterModule', 'prmGetItRequestAfterModule', 'pickupAnywhereFormAfterModule', 'prmGalleryCollectionAfterModule']);","import { slspClosePickupAnywhereFormModule } from './slsp-close-pickup-anywhere-form/slsp-close-pickup-anywhere-form.module';\nimport { slspHomeDeliveryLabelModule } from './slsp-home-delivery-label/slsp-home-delivery-label.module';\n\nexport const pickupAnywhereFormAfterModule = angular\n    .module('pickupAnywhereFormAfterModule', [])\n    .component('pickupAnywhereFormAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-close-pickup-anywhere-form-component after-ctrl=\"$ctrl\"></slsp-close-pickup-anywhere-form-component>\n            <slsp-home-delivery-label-component after-ctrl=\"$ctrl\"></slsp-home-delivery-label-component>\n            <slsp-pickup-anywhere-form-after parent-ctrl=\"$parent.$ctrl\"></<slsp-pickup-anywhere-form-after>`\n    });\n\n\npickupAnywhereFormAfterModule.requires.push(slspClosePickupAnywhereFormModule.name);\npickupAnywhereFormAfterModule.requires.push(slspHomeDeliveryLabelModule.name);","//-----------------------------------------------\n\nexport class slspClosePickupAnywhereFormController {\n    constructor() {\n        this.parentCtrl = null;\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            //console.log(this.parentCtrl);\n        } catch (e) {\n            console.error(\"***SLSP*** An error occurred: ClosePickupAnywhereForm\");\n            console.error(e.message);\n        }\n    }\n\n    closePickupAnywhereForm() {\n        if (this.parentCtrl) {\n            this.parentCtrl.hidePickupAnywhereForm.emit();\n        } else {\n            console.error(\"slspClosePickupAnywhereFormController\");\n        }\n    }\n}\n\nslspClosePickupAnywhereFormController.$inject = [];","import { slspClosePickupAnywhereFormController } from './slsp-close-pickup-anywhere-form.controller';\nimport { slspClosePickupAnywhereFormHtml } from './slsp-close-pickup-anywhere-form.html';\n\n\nexport const slspClosePickupAnywhereFormModule = angular\n    .module('slspClosePickupAnywhereFormModule', [])\n    .controller('slspClosePickupAnywhereFormController', slspClosePickupAnywhereFormController)\n    .component('slspClosePickupAnywhereFormComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspClosePickupAnywhereFormController',\n        template: slspClosePickupAnywhereFormHtml\n    })","//-----------------------------------------------\n\nexport class slspHomeDeliveryLabelController {\n    constructor() {\n        this.observer = null;\n    }\n\n    $doCheck() {\n        // Beobachte den Radiobutton auf Klassennderungen\n        const radioButton = document.querySelector('md-radio-button[value=\"pickupAtLibrary\"]');\n        const label = document.querySelector('#homeDeliveryLabel');\n        if (radioButton && label) {\n            // MutationObserver fr Sichtbarkeit\n            if (!this.observer) {\n                this.observer = new MutationObserver(() => {\n                    if (radioButton.classList.contains('md-checked')) {\n                        label.style.display = 'none';\n                    } else {\n                        label.style.display = 'block';\n                    }\n                });\n                this.observer.observe(radioButton, { attributes: true, attributeFilter: ['class'] });\n            }\n            // Initialer Zustand\n            if (radioButton.classList.contains('md-checked')) {\n                label.style.display = 'none';\n            } else {\n                label.style.display = 'block';\n            }\n\n            // Label verschieben\n            const labelLocation = document.querySelector('.form_item[ng-if=\"$ctrl.showHomeDelivery\"]');\n            if (labelLocation && labelLocation !== label.parentNode) {\n                labelLocation.appendChild(label);\n            }\n        }\n    }\n\n    $onDestroy() {\n        if (this.observer) {\n            this.observer.disconnect();\n        }\n    }\n\n   \n}\n\nslspHomeDeliveryLabelController.$inject = [];","import { slspHomeDeliveryLabelController } from './slsp-home-delivery-label.controller.js';\nimport { slspHomeDeliveryLabelHtml } from './slsp-home-delivery-label.html';\n\n\nexport const slspHomeDeliveryLabelModule = angular\n    .module('slspHomeDeliveryLabelModule', [])\n    .controller('slspHomeDeliveryLabelController', slspHomeDeliveryLabelController)\n    .component('slspHomeDeliveryLabelComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspHomeDeliveryLabelController',\n        template: slspHomeDeliveryLabelHtml\n    })","import { slspAdvancedSearchClearButtonModule } from './slsp-advanced-search-clear-button/slsp-advanced-search-clear-button.module';\n\nexport const prmAdvancedSearchAfterModule = angular\n    .module('prmAdvancedSearchAfterModule', [])\n    .component('prmAdvancedSearchAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-advanced-search-clear-button-component after-ctrl=\"$ctrl\"></slsp-advanced-search-clear-button-component>\n            <slsp-advanced-search-after parent-ctrl=\"$parent.$ctrl\"></<slsp-advanced-search-after>`\n    });\n\n\nprmAdvancedSearchAfterModule.requires.push(slspAdvancedSearchClearButtonModule.name);","\n//-----------------slspAdvancedSearchClearButton------------------------------\n\nexport class slspAdvancedSearchClearButtonController {\n\n    constructor($timeout, $compile, $scope) {\n        this.$timeout = $timeout;\n        this.$compile = $compile;\n        this.$scope = $scope;\n    }\n\n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.afterCtrl = this.afterCtrl.parentCtrl;\n                this.afterCtrl.limit = 2;\n                \n                //console.log(\"slspAdvancedSearchClearButtonController: \", this.afterCtrl);\n\n                let incrementButton = angular.element(document.querySelector(`button[ng-click=\"$ctrl.incrementLimit()\"`));\n                let decrementButtonHtml = `\n                    <button type=\"button\" class=\"decrement-limit button-with-icon md-primary zero-margin button-with-icon md-button md-primoExplore-theme\" ng-click=\"$ctrl.decrementLimit()\" ng-hide=\"$ctrl.afterCtrl.limit <= 2\">\n                        <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\">\n                            <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"></path>\n                        </svg>\n                        <span translate=\"customized.search-advanced.delete\"></span>\n                    </button>`;\n                let clearButton = angular.element(document.querySelector(`button[ng-click=\"$ctrl.clearSearchForm()\"`));\n                let resetButtonHtml = `\n                    <button class=\"button-with-icon zero-margin button-notice button-with-icon md-button md-primoExplore-theme\" type=\"button\" ng-click=\"$ctrl.resetForm()\">\n                        <prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"replay\">\n                            <md-icon ng-if=\"($ctrl.iconDefinition && !$ctrl.isCustom && !$ctrl.isEmailMode()) && !$ctrl.useFallBack\" md-svg-icon=\"primo-ui:replay\" role=\"presentation\" class=\"md-primoExplore-theme\">\n                                <svg id=\"replay_cache250\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" y=\"960\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\">\n                                    <path d=\"M12,5V1L7,6L12,11V7A6,6 0 0,1 18,13A6,6 0 0,1 12,19A6,6 0 0,1 6,13H4A8,8 0 0,0 12,21A8,8 0 0,0 20,13A8,8 0 0,0 12,5Z\"></path>\n                                </svg>\n                            </md-icon>\n                            <prm-icon-after parent-ctrl=\"$ctrl\"></prm-icon-after>\n                        </prm-icon>\n                        <span translate=\"link.title.search.clear\"></span>\n                    </button>`;\n                         \n                let resetButton = this.$compile(resetButtonHtml)(this.$scope);\n                if (clearButton.length) {\n                    clearButton.replaceWith(resetButton);\n                }\n\n                let decrementButton = this.$compile(decrementButtonHtml)(this.$scope);\n                incrementButton[0].parentNode.insertBefore(decrementButton[0], incrementButton[0].nextSibling);\n\n            }, 0);\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: slspAdvancedSearchClearButton\\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n    decrementLimit() {\n        if (this.afterCtrl.limit > 2) {\n            this.afterCtrl.limit -= 1;\n\n            const limitIndex = this.afterCtrl.limit; // Index des letzten Elements basierend auf dem Limit\n            if (this.afterCtrl.rowArray[limitIndex]) {\n                this.afterCtrl.rowArray[limitIndex].boolOperator = \"AND\";\n                this.afterCtrl.rowArray[limitIndex].searchOperator = \"contains\";\n                this.afterCtrl.rowArray[limitIndex].searchCategory = \"any\";\n                this.afterCtrl.rowArray[limitIndex].searchQuery = '';\n\n               \n            }\n        }\n    }\n    resetForm() {\n        this.afterCtrl.clearSearchForm();\n        this.afterCtrl.limit = 2;\n    }\n}\n\nslspAdvancedSearchClearButtonController.$inject = ['$timeout', '$compile', '$scope'];\n\n","import { slspAdvancedSearchClearButtonController } from './slsp-advanced-search-clear-button.controller';\nimport { slspAdvancedSearchClearButtonHtml } from './slsp-advanced-search-clear-button.html';\n\nexport const slspAdvancedSearchClearButtonModule = angular\n    .module('slspAdvancedSearchClearButtonModule', [])\n    .controller('slspAdvancedSearchClearButtonController', slspAdvancedSearchClearButtonController)\n    .component('slspAdvancedSearchClearButtonComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspAdvancedSearchClearButtonController',\n        template: slspAdvancedSearchClearButtonHtml\n\n    })","\nimport {slspCollapseOtherInstModule} from './slsp-collapse-other-inst/slsp-collapse-other-inst.module';\nimport {slspIconLabelOtherMembersModule} from './slsp-icon-label-other-members/slsp-icon-label-other-members.module';\n\n\nexport const prmAlmaOtherMembersAfterModule = angular\n    .module('prmAlmaOtherMembersAfterModule', [])\n        .component('prmAlmaOtherMembersAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-collapse-other-inst-component after-ctrl=\"$ctrl\"></slsp-collapse-other-inst-component>\n            <slsp-icon-label-other-members-component after-ctrl=\"$ctrl\"></slsp-icon-label-other-members-component>\n            <slsp-alma-other-members-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-other-members-after>`\n        });\n\nprmAlmaOtherMembersAfterModule.requires.push(slspCollapseOtherInstModule.name);\nprmAlmaOtherMembersAfterModule.requires.push(slspIconLabelOtherMembersModule.name);","\n\n//--------CollapseOtherInst ---------------------------------------\n\n\nexport class slspCollapseOtherInstController {\n\n    constructor( $scope, $compile) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            console.log(this.parentCtrl);\n            if (this.parentCtrl.serviceMode !== 'howovp') {\n           \n                this.parentCtrl.isCollapsed = true;\n            }\n            else  {\n               \n                    this.parentCtrl.isCollapsed = false;\n            }\n              \n\n                if (this.parentCtrl.item.delivery.displayedAvailability == 'no_inventory') {\n                        this.noItemAtPickupLocation = noItemAtPickupLocation ;\n                        let noItemAtPickupLocation = document.querySelectorAll(`prm-alma-other-members:nth-child(2)`);\n                        let htmlnoItemAtPickupLocation = `<div class=\"bar alert-bar zero-margin-bottom layout-align-center-center layout-row\"><span class=\"center\" translate=\"customized.alert.nolocations\"></span></div>`;\n                        \n                        let almaAlertBar = document.querySelectorAll('alma-htgi-svc');\n                            \n                            angular.element(noItemAtPickupLocation).prepend(this.$compile(htmlnoItemAtPickupLocation)(this.$scope)).addClass('noItemAtPickupLocation');\n                            angular.element(almaAlertBar).addClass('alma-alert-bar-hide');\n                }\n            }\n        \n            \n            \n       \n        catch (e) {\n            console.error(\"***SLSP*** an error occured: slspCollapseOtherInstController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n }\n\n\nslspCollapseOtherInstController.$inject =  ['$scope', '$compile'];\n\n","\n    import {slspCollapseOtherInstController} from './slsp-collapse-other-inst.controller';\n    import {slspCollapseOtherInstHtml} from './slsp-collapse-other-inst.html';\n\n    export const slspCollapseOtherInstModule = angular\n        .module('slspCollapseOtherInstModule', [])\n            .controller('slspCollapseOtherInstController', slspCollapseOtherInstController)\n            .component('slspCollapseOtherInstComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspCollapseOtherInstController',\n                template: slspCollapseOtherInstHtml\n            })","\n\n//--------slspIconLabel ---------------------------------------\n\n\nexport class slspIconLabelOtherMembersController {\n\n    constructor( $scope, $compile, $timeout ) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n    \n\n    $onInit() {\n        try{\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n                \n                if (this.parentCtrl.availabilityType == \"E\") {\n                    \n                        this.iconLabelOtherMembersE = iconLabelOtherMembersE ;\n                        let iconLabelOtherMembersE = document.querySelectorAll(`prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('E')\"] md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme`);\n                        let htmlOtherMembersE = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.viewit_other.icon\"></div></div>`;\n                            \n                            angular.element(iconLabelOtherMembersE).prepend(this.$compile(htmlOtherMembersE)(this.$scope)).addClass('icnLblOtherMembersE');\n                }\n\n                if (this.parentCtrl.availabilityType == \"P\") {\n                    \n                                        \n                    this.iconLabelOtherMembersP2 = iconLabelOtherMembersP2 ;\n                    let iconLabelOtherMembersP2 = document.querySelectorAll(`prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('P')\"] md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme`);\n                    let htmlOtherMembersP2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_4\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\n                        \n                        angular.element(iconLabelOtherMembersP2).prepend(this.$compile(htmlOtherMembersP2)(this.$scope)).addClass('icnLblOtherMembersP2');\n                }\n\n\n          \n                \n            },0);   \n        }\n        \n        catch(e){\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\n            console.error(e.message);\n        }\n    }\n    \n}\n\nslspIconLabelOtherMembersController.$inject =  [ '$scope', '$compile', '$timeout'];\n\n","\n    import {slspIconLabelOtherMembersController} from './slsp-icon-label-other-members.controller';\n    import {slspIconLabelOtherMembersHtml} from './slsp-icon-label-other-members.html';\n\n    export const slspIconLabelOtherMembersModule = angular\n        .module('slspIconLabelOtherMembersModule', [])\n            .controller('slspIconLabelOtherMembersController', slspIconLabelOtherMembersController)\n            .component('slspIconLabelOtherMembersComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIconLabelOtherMembersController',\n                template: slspIconLabelOtherMembersHtml\n            })","import { slspIconLabelOtherUnitsModule } from './slsp-icon-label-other-units/slsp-icon-label-other-units.module';\n\nexport const prmAlmaOtherUnitsAfterModule = angular\n    .module('prmAlmaOtherUnitsAfterModule', [])\n    .component('prmAlmaOtherUnitsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `<slsp-icon-label-other-units-component after-ctrl=\"$ctrl\"></slsp-icon-label-other-units-component><slsp-alma-other-units-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-other-units-after>`\n    });\n\n\nprmAlmaOtherUnitsAfterModule.requires.push(slspIconLabelOtherUnitsModule.name);","//--------slspIconLabel ---------------------------------------\n\n\nexport class slspIconLabelOtherUnitsController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n\n\n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n\n                let iconLabelOtherUnitsE = document.querySelectorAll(`prm-alma-other-units md-content md-list.md-primoExplore-theme`);\n                let htmlOtherUnitsE = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.online\"></div></div>`;\n\n                angular.element(iconLabelOtherUnitsE).prepend(this.$compile(htmlOtherUnitsE)(this.$scope)).addClass('icnLblOtherUnitsE');\n\n                //not collapsed by default\n                this.parentCtrl.isCollapsed = false;\n\n\n            }, 0);\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured:  \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n}\n\nslspIconLabelOtherUnitsController.$inject = ['$scope', '$compile', '$timeout'];","import { slspIconLabelOtherUnitsController } from './slsp-icon-label-other-units.controller';\nimport { slspIconLabelOtherUnitsHtml } from './slsp-icon-label-other-units.html';\n\nexport const slspIconLabelOtherUnitsModule = angular\n    .module('slspIconLabelOtherUnitsModule', [])\n    .controller('slspIconLabelOtherUnitsController', slspIconLabelOtherUnitsController)\n    .component('slspIconLabelOtherUnitsComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspIconLabelOtherUnitsController',\n        template: slspIconLabelOtherUnitsHtml\n    })","import { slspIconLabelViewitItemsModule } from './slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.module';\nimport { slspCollapseRelatedEResourcesModule } from './slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.module';\nimport { slspTranslatePublicNoteModule } from './slsp-translate-public-note/slsp-translate-public-note.module';\n\nexport const prmAlmaViewitItemsAfterModule = angular\n    .module('prmAlmaViewitItemsAfterModule', [])\n    .component('prmAlmaViewitItemsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `<slsp-icon-label-viewit-items-component after-ctrl=\"$ctrl\"></slsp-icon-label-viewit-items-component>\n                    <slsp-collapse-related-e-resources-component after-ctrl=\"$ctrl\"></slsp-collapse-related-e-resources-component>\n                    <slsp-translate-public-note-component after-ctrl=\"$ctrl\"></slsp-translate-public-note-component>\n                    <slsp-alma-viewit-items-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-viewit-items-after>`\n    });\n\n\nprmAlmaViewitItemsAfterModule.requires.push(slspIconLabelViewitItemsModule.name);\nprmAlmaViewitItemsAfterModule.requires.push(slspCollapseRelatedEResourcesModule.name);\nprmAlmaViewitItemsAfterModule.requires.push(slspTranslatePublicNoteModule.name);","export class slspCollapseRelatedEResourcesController {\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n        this.isCollapsed = false; // Flag to prevent infinite loop\n    }\n\n    $onInit() {\n        this.parentCtrl = this.afterCtrl ? this.afterCtrl.parentCtrl : null;\n    }\n\n    $doCheck() {\n        if (this.isCollapsed) return; // Prevent further execution if already collapsed\n\n        try {\n            this.$timeout(() => {\n                if (this.afterCtrl) {\n                    this.parentCtrl = this.afterCtrl.parentCtrl;\n                }\n                if (this.parentCtrl && (this.parentCtrl.serviceType === 'ELECTRONIC_RELATED' || this.parentCtrl.serviceType === 'DIGITAL_RELATED')) {\n                    const relatedDivs = document.querySelectorAll('.ELECTRONIC_RELATED, .DIGITAL_RELATED');\n                    relatedDivs.forEach(relatedDiv => {\n                        const closestPrmAlmaViewitItems = relatedDiv.closest('prm-alma-viewit-items');\n                        const mdListElements = closestPrmAlmaViewitItems.querySelectorAll('md-list');\n\n                        mdListElements.forEach((element, index) => {\n                            if (index === 0) { // Adjust the condition as needed\n                                element.classList.add('collapsed');\n                            }\n                        });\n\n                        const existingButton = closestPrmAlmaViewitItems.querySelector('.collapse-related');\n                        if (!existingButton) {\n                            const buttonElement = document.createElement('button');\n                            buttonElement.classList.add('section-title', 'md-button', 'md-primoExplore-theme', 'md-ink-ripple', 'collapse-related', 'collapsed');\n                            buttonElement.innerHTML = `<div layout=\"row\" layout-align=\"start center\" class=\"layout-align-start-center layout-row\"><h3 class=\"medium-uppercase-bold\" aria-expanded=\"false\"><br><span translate=\"c.uresolverServicesForRelatedTitles\" class=\"bold-text\"></span><prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"chevron-right\" class=\"arrow-icon\" style=\"\"><md-icon ng-if=\"($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())\" md-svg-icon=\"primo-ui:chevron-right\" role=\"presentation\" class=\"md-primoExplore-theme\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" y=\"384\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"></path></svg></md-icon></prm-icon></h3></div>`;\n\n                            buttonElement.addEventListener('click', () => {\n                                mdListElements.forEach((element) => {\n                                    element.classList.toggle('collapsed');\n                                });\n                                buttonElement.querySelector('.arrow-icon').classList.toggle('rotate-90');\n                            });\n\n                            const titleElement = closestPrmAlmaViewitItems.querySelector('span[translate=\"c.uresolverServicesForRelatedTitles\"]');\n                            if (titleElement) {\n                                const titleParentElement = titleElement.parentNode;\n                                const titleGrandParentElement = titleParentElement.parentNode;\n                                titleGrandParentElement.replaceChild(buttonElement, titleParentElement);\n\n                                // Add a timeout to ensure that the element is compiled after the DOM has fully rendered\n                                this.$timeout(() => {\n                                    this.$compile(buttonElement)(this.$scope);\n                                });\n                            }\n                        }\n                    });\n\n                    this.isCollapsed = true; // Set the flag to true to prevent further execution\n                }\n            }, 0);\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    getServiceType() {\n        if (this.parentCtrl && this.parentCtrl.serviceType !== undefined) {\n            return this.parentCtrl.serviceType;\n        }\n        return '';\n    }\n}\n\nslspCollapseRelatedEResourcesController.$inject = ['$scope', '$compile', '$timeout'];","import { slspCollapseRelatedEResourcesController } from './slsp-collapse-related-e-resources.controller';\nimport {slspCollapseRelatedEResourcesHtml} from './slsp-collapse-related-e-resources.html';\n\nexport const slspCollapseRelatedEResourcesModule = angular\n    .module('slspCollapseRelatedEResourcesModule', [])\n    .controller('slspCollapseRelatedEResourcesController', slspCollapseRelatedEResourcesController)\n    .component('slspCollapseRelatedEResourcesComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspCollapseRelatedEResourcesController',\n        template: slspCollapseRelatedEResourcesHtml\n\n    })","\n\n//--------slspIconLabel ---------------------------------------\n\n\nexport class slspIconLabelViewitItemsController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n\n\n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n\n                if (this.parentCtrl.serviceType == \"ELECTRONIC\") {\n\n                    this.iconLabelViewitItems = iconLabelViewitItems;\n                    let iconLabelViewitItems = document.querySelectorAll(\"#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-viewit > prm-alma-viewit-items:nth-child(1) > md-list\");\n                    let htmlViewitItems = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.online\"></div></div>`;\n                    let iconLabelRidOff = document.querySelectorAll(\".icnWrp:nth-child(2)\")\n                    angular.element(iconLabelRidOff).detach();\n                    angular.element(iconLabelViewitItems).prepend(this.$compile(htmlViewitItems)(this.$scope)).addClass('icnLblViewitItems');\n\n\n                }\n                else if (this.parentCtrl.serviceType == \"DIGITAL\") {\n\n                    this.iconLabelViewitItemsDigital = iconLabelViewitItemsDigital;\n                    let iconLabelViewitItemsDigital = document.querySelectorAll(\"#getit_link1_0>div>prm-full-view-service-container>div.section-body>div>prm-alma-viewit>prm-alma-viewit-items:nth-child(2)>md-list\");\n                    let htmlViewitItemsDigital = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.online\"></div></div>`;\n                    let iconLabelRidOffDigital = document.querySelectorAll(\".icnWrp:nth-child(2)\")    \n                        angular.element(iconLabelRidOffDigital).detach();\n                    angular.element(iconLabelViewitItemsDigital).prepend(this.$compile(htmlViewitItemsDigital)(this.$scope)).addClass('icnLblViewitItemsDigital');\n\n\n                }\n                else {\n                    return\n                }\n\n                ///console.log(this.parentCtrl);\n\n            }, 0);\n        }\n\n        catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n}\n\nslspIconLabelViewitItemsController.$inject = ['$scope', '$compile', '$timeout'];\n\n","\n    import {slspIconLabelViewitItemsController} from './slsp-icon-label-viewit-items.controller';\n    import {slspIconLabelViewitItemsHtml} from './slsp-icon-label-viewit-items.html';\n\n    export const slspIconLabelViewitItemsModule = angular\n        .module('slspIconLabelViewitItemsModule', [])\n            .controller('slspIconLabelViewitItemsController', slspIconLabelViewitItemsController)\n            .component('slspIconLabelViewitItemsComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIconLabelViewitItemsController',\n                template: slspIconLabelViewitItemsHtml\n            })","//-------- ---------------------------------------\n\n\nexport class slspTranslatePublicNoteController {\n    constructor($scope, $compile, $filter) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$filter = $filter;\n    }\n\n    $doCheck() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            //console.log(this.parentCtrl);\n\n            let noteDe = document.querySelectorAll(\".note-de\");\n            let noteEn = document.querySelectorAll(\".note-en\");\n            let noteFr = document.querySelectorAll(\".note-fr\");\n            let noteIt = document.querySelectorAll(\".note-it\");\n            let noteBreak = document.querySelectorAll('p[ng-if=\"item.authNote\"] br, p[ng-if=\"item.publicNote\"] br');\n            angular.element(noteBreak).remove();\n\n            let lang = 'de';\n            let sms = this.$scope.$root.$$childHead.$ctrl.userSessionManagerService;\n            if (sms) {\n                lang = sms.getInterfaceLanguage();\n            }\n            //console.log(lang);\n\n            if (lang !== 'de') {\n                angular.element(noteDe).remove();\n            }\n            if (lang !== 'en') {\n                angular.element(noteEn).remove();\n            }\n            if (lang !== 'fr') {\n                angular.element(noteFr).remove();\n            }\n            if (lang !== 'it') {\n                angular.element(noteIt).remove();\n            }\n\n        } catch (e) {\n            console.error('***SLSP*** Ein Fehler ist aufgetreten: TranslatePublicNoteController \\n\\n');\n            console.error(e.message);\n        }\n    }\n}\n\nslspTranslatePublicNoteController.$inject = ['$scope', '$compile', '$filter'];\n","import { slspTranslatePublicNoteController } from './slsp-translate-public-note.controller';\n\nexport const slspTranslatePublicNoteModule = angular\n    .module('slspTranslatePublicNoteModule', [])\n    .controller('slspTranslatePublicNoteController', slspTranslatePublicNoteController)\n    .component('slspTranslatePublicNoteComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspTranslatePublicNoteController',\n\n    })","import { slspCitationSelectModule } from './slsp-citation-select/slsp-citation-select.module';\n\nexport const prmCitationAfterModule = angular\n    .module('prmCitationAfterModule', [])\n    .component('prmCitationAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-citation-select-component after-ctrl=\"$ctrl\"></slsp-citation-select-component>\n            <slsp-citation-after parent-ctrl=\"$parent.$ctrl\"></<slsp-citation-after>`\n    });\n\n\nprmCitationAfterModule.requires.push(slspCitationSelectModule.name);","\n\nexport class slspCitationSelectController {\n\n    constructor($scope, $timeout, $compile) {\n        this.$scope = $scope;\n        this.$timeout = $timeout;\n        this.$compile = $compile;\n    }\n \n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n    \n                let citationSelectRadio = '<div class=\"md-container slsp-citation-select\"><div class=\"md-off\"></div><div class=\"md-on\"></div></div>';\n    \n                let citationSelectList = document.querySelectorAll('prm-citation ul li button');\n                \n                angular.forEach(citationSelectList, (citationSelect) => {\n                    angular.element(citationSelect).append(this.$compile(citationSelectRadio)(this.$scope)).addClass('slsp-citation-select-radio');\n                });\n    \n                //console.log(citationSelectRadio);\n    \n            }, 0);\n    \n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido hide Library\\n\\n\");\n            console.error(e.message);\n        }\n    }\n    \n    \n}\n\nslspCitationSelectController.$inject = ['$scope', '$timeout', '$compile'];","import { slspCitationSelectController } from './slsp-citation-select.controller';\nimport { slspCitationSelectHtml } from './slsp-citation-select.html';\n\nexport const slspCitationSelectModule = angular\n    .module('slspCitationSelectModule', [])\n    .controller('slspCitationSelectController', slspCitationSelectController)\n    .component('slspCitationSelectComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspCitationSelectController',\n        template: slspCitationSelectHtml\n\n    })","export const ethOkmLinkConfig = function(){\n    return {\n        label: {\n            groupName: {\n                de: 'Meine Suche schicken an',\n                en: 'Send my search to',\n                fr: 'Envoyer ma recherche ',\n                it: 'Invia la mia ricerca a',\n            }\n        }\n    }\n}\n","export class ethOkmLinkController {\n\n    constructor($location, ethConfigService, ethOkmLinkConfig, $element) {\n        this.$location = $location;\n        this.ethConfigService = ethConfigService;\n        this.config = ethOkmLinkConfig;\n        this.$element = $element;\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.groupName = this.ethConfigService.getLabel(this.config, 'groupName');\n            //console.log(this);\n            // is group already added?\n            let filteredFacets = this.prmFacet.facets.filter(f => {\n                return (f.name === this.groupName)\n            })\n            // push new Group to facetGroup array, if not already done\n            if (filteredFacets.length === 0) {\n                this.prmFacet.facets.push({\n                    name: this.groupName,\n                    displayedType: 'exact',\n                    limitCount: 0,\n                    facetGroupCollapsed: false,\n                    values: []\n                })\n            }\n            // Controller for new facetGroup\n            if (this.parentCtrl.facetGroup.name === this.groupName) {\n                let q1 = this.$location.search().query;\n                let aQ = Array.isArray(q1) ? q1 : [q1];\n                let searchValue = aQ.map(e => {\n                    return e.split(\",\")[2] || '';\n                }).join(' ');\n                let vid = window.appConfig.vid.replace(':', '-');\n                this.searchAlternatives = [\n                    {\n                        label: \"Open Knowledge Maps (BASE)\",\n                        url: \"https://openknowledgemaps.org/search?service=base&type=get&sorting=most-relevant&min_descsize=300&q=\" + encodeURIComponent(searchValue),\n                        image: \"custom/41SLSP_NETWORK-CENTRAL_PACKAGE/img/logo-okmaps.png\"\n                    },\n                    {\n                        label: \"Open Knowledge Maps (Pubmed)\",\n                        url: \"https://openknowledgemaps.org/search?service=pubmed&type=get&sorting=most-relevant&min_descsize=300&q=\" + encodeURIComponent(searchValue),\n                        image: \"custom/41SLSP_NETWORK-CENTRAL_PACKAGE/img/logo-okmaps.png\"\n                    }\n                ]\n                let currentElement = this.$element[0];\n                let prmOkmElement = currentElement.closest('prm-facet-exact');\n                angular.element(prmOkmElement).addClass('send-my-search-facet-group');\n            }\n\n\n\n        }\n        catch (e) {\n            console.error(\"***ETH*** an error occured: ethOkmLinkController.onInit()\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nethOkmLinkController.$inject = ['$location', 'ethConfigService', 'ethOkmLinkConfig', '$element'];\n","/**\n* @ngdoc module\n* @name ethOkmLinkModule\n*\n* @description\n*\n* - integrate links to Open Knowledge Maps (Base and PubMed) in Primo VE.\n* - Adds a facet group \"Send my search to\" with two links to OKM Base and OKM PubMed.\n*\n* <b>AngularJS Dependencies</b><br>\n* Service /js/services {@link ETH.ethConfigService}<br>\n* Service /js/services {@link ETH.ethOkmLinkConfig}<br>\n*\n* <b>CSS/Image Dependencies</b><br>\n* CSS ./css/eth-okm-link.css\n* IMG ./img/Logo_Open_Knowledge_Maps.jpg\n*\n*/\nimport {ethConfigService} from './services/eth-config.service';\nimport {ethOkmLinkConfig} from './eth-okm-link.config';\nimport {ethOkmLinkHtml} from './eth-okm-link.html';\nimport {ethOkmLinkController} from './eth-okm-link.controller';\n\nexport const ethOkmLinkModule = angular\n    .module('ethOkmLinkModule', [])\n        .factory('ethConfigService', ethConfigService)\n        .factory('ethOkmLinkConfig', ethOkmLinkConfig)\n        .controller('ethOkmLinkController', ethOkmLinkController)\n        .component('ethOkmLinkComponent',{\n            require: {prmFacet: '^^prmFacet' },\n            restrict: 'E',\n            bindings: {afterCtrl: '<'},\n            controller: 'ethOkmLinkController',\n            template: ethOkmLinkHtml\n        })\n","/**\n* @ngdoc service\n* @key ethConfigService\n*\n* @description\n*\n* Service to get and handle informations from a module config:\n* - getLabel()\n* - getUrl()\n* - getLanguage()\n*\n */\nexport const ethConfigService = ['$rootScope', function( $rootScope ){\n\n    function getLanguage(){\n        try{\n            let sms = $rootScope.$$childHead.$ctrl.userSessionManagerService;\n            if (!sms) {\n                console.error(\"***ETH*** ethConfigService: userSessionManagerService not available\");\n                return 'en';\n            }\n            else{\n                return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getLanguage():\");\n            console.error(e.message);\n            return 'en';\n        }\n    }\n\n\n    function getLabel(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.label[key]) {\n                console.error(\"***ETH*** ethConfigService.getLabel: '\" + key + \"' not in config\");\n                return key;\n            }\n            if(config.label[key][lang]){\n                return config.label[key][lang];\n            }\n            else{\n                return config.label[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getLabel():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    function getUrl(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.url[key]) {\n                console.error(\"***ETH*** ethConfigService.getUrl: '\" + key + \"' not in config\");\n                return '';\n            }\n            if(config.url[key][lang]){\n                return config.url[key][lang];\n            }\n            else{\n                return config.url[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getUrl():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    return {\n        getLanguage: getLanguage,\n        getLabel: getLabel,\n        getUrl: getUrl\n    };\n}]\n","import { ethOkmLinkModule } from './primo-explore-eth-okm-link/eth-okm-link.module';\nimport { slspOdnLinkModule } from './slsp-odn-link/slsp-odn-link.module';\n\nexport const prmFacetExactAfterModule = angular\n    .module('prmFacetExactAfterModule', [])\n    .component('prmFacetExactAfter', {\n        bindings: { parentCtrl: '<' },\n        \n        template: `\n        <eth-okm-link-component after-ctrl=\"$ctrl\"></eth-okm-link-component>\n        <slsp-odn-link-component after-ctrl=\"$ctrl\"></slsp-odn-link-component>\n            <slsp-facet-exact-after parent-ctrl=\"$parent.$ctrl\"></<slsp-facet-exact-after>`\n    });\n\n\nprmFacetExactAfterModule.requires.push(ethOkmLinkModule.name);\nprmFacetExactAfterModule.requires.push(slspOdnLinkModule.name);","//-----------------open data navigator link------------------------------\r\n\r\nexport class slspOdnLinkController {\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            const facetGrp = this.parentCtrl.facetGroup.name;\r\n            const searchValue = this.parentCtrl.searchService.searchFieldsService.mainSearch;\r\n\r\n            if (\r\n                facetGrp === \"Send my search to\" ||\r\n                facetGrp === \"Meine Suche schicken an\" ||\r\n                facetGrp === \"Envoyer ma recherche \" ||\r\n                facetGrp === \"Invia la mia ricerca a\"\r\n            ) {\r\n                const facetElement = angular.element(document.querySelectorAll(`.okm-wrap`));\r\n                // Prfen, ob der Link schon existiert\r\n                if (!document.getElementById(\"odn-link-component\")) {\r\n                    const odnLink = `<div id=\"odn-link-component\" class=\"md-chips md-chips-wrap\"><div class=\"md-chip send-my-search-link\"><div class=\"md-chip-content layout-row\"><strong><a href=\"https://opendatanavigator.switch.ch/search?f.%40type=Dataset&q=${searchValue}\" target=\"_blank\" class=\"odnLink md-primoExplore-theme\" style=\"min-width:100%\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 128 129\" fill=\"none\"><g clip-path=\"url(#clip0_95_350)\"><circle cx=\"64.0001\" cy=\"64.6653\" r=\"61.9518\" fill=\"white\" stroke=\"#D9D9D9\" stroke-width=\"4.09648\"/><circle cx=\"64.0004\" cy=\"64.6654\" r=\"5.18592\" fill=\"#D9D9D9\"/><path d=\"M57.1287 46.3325L47.0392 35.679L105.426 22.863L88.2503 39.1297L57.1287 46.3325Z\" fill=\"#F59900\"/><path d=\"M79.3656 69.8125L89.4551 80.4661L105.425 22.8617L88.2492 39.1284L79.3656 69.8125Z\" fill=\"#00247D\"/><path d=\"M68.9389 79.3262L79.0283 89.9797L20.6411 102.796L37.8172 86.529L68.9389 79.3262Z\" fill=\"#F59900\"/><path d=\"M46.7019 55.8445L36.6124 45.1909L20.6421 102.795L37.8183 86.5286L46.7019 55.8445Z\" fill=\"#00247D\"/></g><defs><clipPath id=\"clip0_95_350\"><rect width=\"128\" height=\"128\" fill=\"white\" transform=\"translate(0 0.665283)\"/></clipPath></defs></svg><span >Open Data Navigator (Datasets)</span></a></strong></div></div></div>`;\r\n                    facetElement.append(odnLink);\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occurred: open data navigator link \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nslspOdnLinkController.$inject = ['$scope'];\r\n\r\n\r\n","import { slspOdnLinkController } from './slsp-odn-link.controller';\r\nimport { slspOdnLinkHtml } from './slsp-odn-link.html';\r\n\r\n\r\nexport const slspOdnLinkModule = angular\r\n    .module('slspOdnLinkModule', [])\r\n    .controller('slspOdnLinkController', slspOdnLinkController)\r\n    .component('slspOdnLinkComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspOdnLinkController',\r\n        template: slspOdnLinkHtml\r\n    })","import { slspSaveLabelButtonModule } from './slsp-save-label-button/slsp-save-label-button.module';\n\nexport const prmFavoritesEditLabelsMenuAfterModule = angular\n    .module('prmFavoritesEditLabelsMenuAfterModule', [])\n    .component('prmFavoritesEditLabelsMenuAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-save-label-button-component after-ctrl=\"$ctrl\"></slsp-save-label-button-component>\n            <slsp-favorites-edit-labels-menu-after parent-ctrl=\"$parent.$ctrl\"></<slsp-favorites-edit-labels-menu-after>`\n    });\n\n\nprmFavoritesEditLabelsMenuAfterModule.requires.push(slspSaveLabelButtonModule.name);","//-----------------slsp-save-label-button------------------------------\n\nexport class slspSaveLabelButtonController {\n    constructor($scope, $compile, $element) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$element = $element;\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n\n            // Erstellen Sie den \"Add\" -Button\n            let buttonAdd = '<button type=\"submit\" class=\"slsp-save-label-button\"><md-icon class=\"md-primoExplore-theme\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" id=\"ic_add_24px_cache88\" x=\"24\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg></md-icon></button>';\n\n            // Holen Sie sich alle passenden Formulare\n            let labelForms = document.querySelectorAll('form[ng-submit=\"$ctrl.addNewLabel()\"]');\n\n            // Fgen Sie den \"Add\"-Button fr jedes Formular hinzu, wenn er noch nicht hinzugefgt wurde\n            labelForms.forEach(form => {\n                if (!angular.element(form).data('buttonAdded')) {\n                    let mdInputContainer = angular.element(form).find('md-input-container');\n                    mdInputContainer.after(buttonAdd);\n                    angular.element(form).data('buttonAdded', true);\n                }\n            });\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: slsp-save-label-button\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nslspSaveLabelButtonController.$inject = ['$scope', '$compile', '$element'];\n","import { slspSaveLabelButtonController } from './slsp-save-label-button.controller';\nimport { slspSaveLabelButtonHtml } from './slsp-save-label-button.html';\n\nexport const slspSaveLabelButtonModule = angular\n    .module('slspSaveLabelButtonModule', [])\n    .controller('slspSaveLabelButtonController', slspSaveLabelButtonController)\n    .component('slspSaveLabelButtonComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspSaveLabelButtonController',\n        template: slspSaveLabelButtonHtml\n\n    })","import { slspClosedFinesBarModule } from './slsp-closed-fines-bar/slsp-closed-fines-bar.module';\n\nexport const prmFinesAfterModule = angular\n    .module('prmFinesAfterModule', [])\n    .component('prmFinesAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-closed-fines-bar-component after-ctrl=\"$ctrl\"></slsp-closed-fines-bar-component>\n            <slsp-fines-after parent-ctrl=\"$parent.$ctrl\"></<slsp-fines-after>`\n    });\n\n\nprmFinesAfterModule.requires.push(slspClosedFinesBarModule.name);","//-----------------RapidoHideLibrary------------------------------\n\nexport class slspClosedFinesBarController {\n    constructor($scope) {\n        this.$scope = $scope;\n        this.showClosedFines = false; \n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            //console.log(this.parentCtrl);\n        } catch (e) {\n            console.error(\"***SLSP*** an error occurred: RequestCancelButton \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n    $doCheck() {\n        // Check if the conditions for showing the HTML code are met\n        if (this.parentCtrl.finesTypeDropDownSelection === 'closed' || this.parentCtrl.finesTypeDropDownSelection === 'all') {\n            const currentFinesArray = this.parentCtrl.totalNumOfFines;\n            if (angular.isArray(currentFinesArray) && currentFinesArray.length > 0) {\n                this.showClosedFines = true;\n            } else {\n                this.showClosedFines = false;\n            }\n        } else {\n            this.showClosedFines = false;\n        }\n\n        // Perform the word replacement independently\n        const currentFinesArray = this.parentCtrl.totalNumOfFines;\n        if (angular.isArray(currentFinesArray) && currentFinesArray.length > 0) {\n            angular.forEach(currentFinesArray, (fine) => {\n                if (fine.fineType === 'CLOSED') {\n                    //console.log('Fine is closed:', fine);\n                    if (!fine.firstWordRemoved) {\n                        // Replace the first 2 words in the line right text with the fine data\n                        let fineData = fine.expandedDisplay[0].data;\n                        let firstLineRightText = fine.firstLineRight;\n                        const words = firstLineRightText.split(/\\s+/);\n                        words.splice(0, 2);\n                        words.unshift(fineData);\n                        fine.firstLineRight = words.join(' ');\n                        fine.firstWordRemoved = true;\n                        //console.log(currentFinesArray);\n                    } else {\n                        //console.log('First word already removed for fine:', fine);\n                    }\n                }\n            });\n        }\n    }\n}\n\nslspClosedFinesBarController.$inject = ['$scope'];","import { slspClosedFinesBarController } from './slsp-closed-fines-bar.controller';\nimport { slspClosedFinesBarHtml } from './slsp-closed-fines-bar.html';\n\n\nexport const slspClosedFinesBarModule = angular\n    .module('slspClosedFinesBarModule', [])\n    .controller('slspClosedFinesBarController', slspClosedFinesBarController)\n    .component('slspClosedFinesBarComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspClosedFinesBarController',\n        template: slspClosedFinesBarHtml\n    })","\nimport {slspIconLabelModule} from './slsp-icon-label/slsp-icon-label.module';\n\nexport const prmFullViewAfterModule = angular\n    .module('prmFullViewAfterModule', [])\n        .component('prmFullViewAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-icon-label-component after-ctrl=\"$ctrl\"></slsp-icon-label-component><slsp-full-view-after parent-ctrl=\"$parent.$ctrl\"></slsp-full-view-after>`\n        });\n\n        prmFullViewAfterModule.requires.push(slspIconLabelModule.name);\n","//--------slspIconLabel ---------------------------------------\n\n\nexport class slspIconLabelController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n\n\n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n\n                //console.log(this.parentCtrl.$scope.$ctrl.fullViewService)\n\n                // this.iconLabel3 = iconLabel3 ;\n                // let iconLabel3 = document.querySelectorAll('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-viewit > prm-alma-viewit-items > md-list');\n                // let html3 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\">online</div></div>`;\n\n                //     angular.element(iconLabel3).prepend(this.$compile(html3)(this.$scope)).addClass('icnLbl3');\n\n\n                //     this.iconLabel4 = iconLabel4 ;\n                //     let iconLabel4 = document.querySelectorAll('md-content > prm-location-items > md-list');\n\n                //     let html4 = `<div class=\"icnWrp><div class=\"iconDiv4\"></div><div class=\"iconLabel\">pickup</div></div>`;\n\n                //         angular.element(iconLabel4).prepend(this.$compile(html4)(this.$scope)).addClass('icnLbl3');\n\n                // this.iconLabel5 = iconLabel5 ;\n                // let iconLabel5 = document.querySelectorAll('md-content > prm-locations > div.padding-left-medium > md-list:nth-child(1)');\n\n                // let html5 = `<div class=\"icnWrp\"><div class=\"iconDiv5\"></div><div class=\"iconLabel\">pickup2</div></div>`;\n\n                //     angular.element(iconLabel5).prepend(this.$compile(html5)(this.$scope)).addClass('icnLbl3');\n\n\n            }, 1000);\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n}\n\nslspIconLabelController.$inject = ['$scope', '$compile', '$timeout'];","\n    import {slspIconLabelController} from './slsp-icon-label.controller';\n    import {slspIconLabelHtml} from './slsp-icon-label.html';\n\n    export const slspIconLabelModule = angular\n        .module('slspIconLabelModule', [])\n            .controller('slspIconLabelController', slspIconLabelController)\n            .component('slspIconLabelComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIconLabelController',\n                template: slspIconLabelHtml\n            })","import { slspCollectionIdModule } from './slsp-collection-id/slsp-collection-id.module';\n\nexport const prmGalleryCollectionAfterModule = angular\n    .module('prmGalleryCollectionAfterModule', [])\n    .component('prmGalleryCollectionAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-collection-id-component after-ctrl=\"$ctrl\"></slsp-collection-id-component>\n            <slsp-gallery-collection-after parent-ctrl=\"$parent.$ctrl\"></slsp-gallery-collection-after>`\n    });\n\n\nprmGalleryCollectionAfterModule.requires.push(slspCollectionIdModule.name);","//-----------------slspCollectionIdController------------------------------\n\nexport class slspCollectionIdController {\n\n    constructor($scope, $element) {\n        this.$scope = $scope;\n        this.$element = $element;\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            //console.log(this.$scope);\n            //console.log(this.$element);\n\n            // Set collection-id attribute on the parent prm-gallery-collection element\n            const collectionId = this.getCollectionId();\n            if (collectionId) {\n                const prmGalleryCollection = this.$element[0].closest('prm-gallery-collection');\n                if (prmGalleryCollection) {\n                    prmGalleryCollection.setAttribute('collection-id', collectionId);\n                }\n            }\n\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: slspCollectionIdController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n    getCollectionId() {\n        if (this.parentCtrl.collection !== undefined && this.parentCtrl.collection.pid !== undefined) {\n            return this.parentCtrl.collection.pid.value;\n        } else {\n            return;\n        }\n    }\n}\n\n\nslspCollectionIdController.$inject = ['$scope', '$element'];","import { slspCollectionIdController } from './slsp-collection-id.controller';\nimport { slspCollectionIdHtml } from './slsp-collection-id.html';\n\nexport const slspCollectionIdModule = angular\n    .module('slspCollectionIdModule', [])\n    .controller('slspCollectionIdController', slspCollectionIdController)\n    .component('slspCollectionIdComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspCollectionIdController',\n        template: slspCollectionIdHtml\n\n    })","import { slspPickupInformationModule } from './slsp-pickup-information/slsp-pickup-information.module';\nimport { slspRefineJournalRequestModule } from './slsp-refine-journal-request/slsp-refine-journal-request.module';\n\n\nexport const prmGetItRequestAfterModule = angular\n    .module('prmGetItRequestAfterModule', [])\n    .component('prmGetItRequestAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-pickup-information-component after-ctrl=\"$ctrl\"></slsp-pickup-information-component>\n            <slsp-refine-journal-request-component after-ctrl=\"$ctrl\"></slsp-refine-journal-request-component>\n            <slsp-get-it-request-after parent-ctrl=\"$parent.$ctrl\"></<slsp-get-it-request-after>`\n    });\n\n\nprmGetItRequestAfterModule.requires.push(slspPickupInformationModule.name);\nprmGetItRequestAfterModule.requires.push(slspRefineJournalRequestModule.name);","\r\n\r\n//-----------------------------------------------\r\n\r\n\r\nexport class slspPickupInformationController {\r\n\r\n    constructor( $scope ) {\r\n        this.$scope = $scope;\r\n        \r\n    }\r\n\r\n      \r\n    $onInit() {\r\n            try{\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                this.getInstitutionName = this.getInstitutionName.bind(this);\r\n                this.getLibraryName = this.getLibraryName.bind(this);\r\n                this.getSupplyTime = this.getSupplyTime.bind(this);\r\n                this.getLoanPeriod = this.getLoanPeriod.bind(this);\r\n                this.getPatronCost = this.getPatronCost.bind(this);\r\n                this.getCurrency = this.getCurrency.bind(this);\r\n                this.getChosenPlaceRadio = this.getChosenPlaceRadio.bind(this);\r\n                //this.getIsUnavailableResource = this.getIsUnavailableResource.bind(this);\r\n\r\n                //console.log(this.parentCtrl);\r\n                //console.log(this.parentCtrl.jwtUtilService.getDecodedToken());             \r\n                //if=\"!$ctrl.isDigitalOffer() && !$ctrl.isUnavailableResource()\"\r\n                \r\n            }\r\n                               \r\n            \r\n            catch(e){\r\n                console.error(\"***SLSP*** an error occured: slsp Pickup Information Controller\\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n            \r\n        }\r\n        getInstitutionName() {\r\n            if (this.parentCtrl.pickupAnywhereService !== undefined) {\r\n                return this.parentCtrl.pickupAnywhereService.getSelectedPickupInformation().institutionName;\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n        getLibraryName() {\r\n            if (this.parentCtrl.pickupAnywhereService !== undefined) {\r\n                return this.parentCtrl.pickupAnywhereService.getSelectedPickupInformation().libraryName;\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n        getSupplyTime() {\r\n            if (this.parentCtrl && this.parentCtrl._bestOffer && this.parentCtrl._bestOffer.supplyTime) {\r\n                return this.parentCtrl._bestOffer.supplyTime;\r\n            } else {\r\n                return null; // Rckgabe von null, wenn kein Wert vorhanden ist\r\n            }\r\n        }\r\n        \r\n        getLoanPeriod() {\r\n            if (this.parentCtrl && this.parentCtrl._bestOffer && this.parentCtrl._bestOffer.loanPeriod) {\r\n                return this.parentCtrl._bestOffer.loanPeriod;\r\n            } else {\r\n                return null; // Rckgabe von null, wenn kein Wert vorhanden ist\r\n            }\r\n        }\r\n        \r\n        getPatronCost() {\r\n            if (this.parentCtrl && this.parentCtrl._bestOffer && this.parentCtrl._bestOffer.patronCost) {\r\n                return this.parentCtrl._bestOffer.patronCost;\r\n            } else {\r\n                return null; // Rckgabe von null, wenn kein Wert vorhanden ist\r\n            }\r\n        }\r\n        \r\n        getCurrency() {\r\n            if (this.parentCtrl && this.parentCtrl._bestOffer && this.parentCtrl._bestOffer.currency) {\r\n                return this.parentCtrl._bestOffer.currency;\r\n            } else {\r\n                return null; // Rckgabe von null, wenn kein Wert vorhanden ist\r\n            }\r\n        }\r\n        getChosenPlaceRadio() {\r\n            if (this.parentCtrl.pickupAnywhereService !== undefined) {\r\n                return this.parentCtrl.pickupAnywhereService.getSelectedPickupInformation().chosenPlaceRadio;\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n\r\n    }\r\n    slspPickupInformationController.$inject = ['$scope'];\r\n","\n    import {slspPickupInformationController} from './slsp-pickup-information.controller';\n    import {slspPickupInformationHtml} from './slsp-pickup-information.html';\n\n    export const slspPickupInformationModule = angular\n        .module('slspPickupInformationModule', [])\n            .controller('slspPickupInformationController', slspPickupInformationController)\n            .component('slspPickupInformationComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspPickupInformationController',\n                template: slspPickupInformationHtml\n            })","//-----------------------------------------------\r\n\r\n\r\nexport class slspRefineJournalRequestController {\r\n\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n\r\n    }\r\n\r\n\r\n    $doCheck() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n            let isRefined = this.parentCtrl._refined;\r\n            let isPhysicalForm = this.parentCtrl.openphysicalform.openPhysicalForm;\r\n            let isPhysicalJournal = this.parentCtrl.isPhysicalJournal();\r\n            let refineOfferDisabled = this.parentCtrl._refineOfferDisabled;\r\n            let volumeData = this.parentCtrl.formData.myVolume;\r\n            let noteData = this.parentCtrl.formData.myNote;\r\n            let publicationData = this.parentCtrl.formData.myPublicationDate;\r\n            // Prfen, ob #physicalGetItRequest die Klasse no-best-offer hat\r\n            const physicalGetItRequestElem = document.querySelector('#physicalGetItRequest');\r\n            const hasNoBestOfferClass = physicalGetItRequestElem && physicalGetItRequestElem.classList.contains('no-best-offer');\r\n\r\n\r\n            // console.log('openphysicalform', this.parentCtrl.openphysicalform.openPhysicalForm);\r\n            // console.log('parentCtrl', this.parentCtrl);\r\n            // console.log('volumeData', volumeData);\r\n            // console.log('_refineOfferDisabled)', this.parentCtrl._refineOfferDisabled);\r\n\r\n            /*  console.log('_refined', this.parentCtrl._refined);\r\n             console.log('sendDisabled', this.parentCtrl.sendDisabled());\r\n             \r\n              */\r\n\r\n            // console.log('isPhysicalJournal', this.parentCtrl.isPhysicalJournal());\r\n            //\r\n            // console.log('_refineOfferInProgress', this.parentCtrl._refineOfferInProgress);\r\n            // console.log('_isPhysicalJournalFormValid',this.parentCtrl._isPhysicalJournalFormValid);\r\n            // console.log('isJournal',this.parentCtrl.isJournal());\r\n            // console.log('isdigitaloffer',this.parentCtrl.isdigitaloffer);\r\n            // console.log('getNoOfferOfferDetails',this.parentCtrl.getNoOfferOfferDetails());\r\n            //console.log('formData:',this.parentCtrl.formData);\r\n            //console.log('requestSubmitted:',this.parentCtrl._requestSubmitted);\r\n\r\n            if (isPhysicalJournal && isPhysicalForm) {\r\n                if (!publicationData) {\r\n                    this.disableRefineButton();\r\n                } else {\r\n                    this.enableRefineButton();\r\n                }\r\n                if (\r\n                    (this._lastVolumeData !== undefined && this._lastVolumeData !== volumeData) ||\r\n                    (this._lastPublicationData !== undefined && this._lastPublicationData !== publicationData)\r\n                ) {\r\n                    this.parentCtrl._refined = false;\r\n                }\r\n                this._lastVolumeData = volumeData;\r\n                this._lastPublicationData = publicationData;\r\n\r\n                this.parentCtrl.noteField.label = 'customized.journal.note';\r\n\r\n                // Button-Handler nur einmal registrieren\r\n                if (!this._submitHandlerRegistered) {\r\n                    const submitBtn = document.querySelector('button.button-with-icon.button-confirm');\r\n                    if (submitBtn) {\r\n                        submitBtn.addEventListener('click', (event) => {\r\n                            // Mische publicationData und noteData vor dem Absenden\r\n                            let publicationData = this.parentCtrl.formData.myPublicationDate;\r\n                            let noteData = this.parentCtrl.formData.myNote;\r\n                            let currentNote = noteData || '';\r\n                            let alreadyCombined = currentNote.includes(publicationData);\r\n                            let combinedNote = '';\r\n                            if (!alreadyCombined) {\r\n                                if (publicationData && noteData) {\r\n                                    combinedNote = publicationData + ' | ' + noteData;\r\n                                } else if (publicationData) {\r\n                                    combinedNote = publicationData;\r\n                                } else if (noteData) {\r\n                                    combinedNote = noteData;\r\n                                }\r\n                                this.parentCtrl.formData.myNote = combinedNote;\r\n                            }\r\n                        }, true); // Capture-Phase\r\n                        this._submitHandlerRegistered = true;\r\n                    }\r\n                }\r\n\r\n                if (!isRefined || hasNoBestOfferClass || refineOfferDisabled) {\r\n                    this.disableRequestButton();\r\n                } else {\r\n                    this.enableRequestButton();\r\n                }\r\n\r\n                let resetButton = angular.element(document.querySelector('span[translate=\"nui.reset\"]'));\r\n                if (resetButton && resetButton.parent()) {\r\n                    resetButton.parent().addClass('hidden');\r\n                }\r\n                let getItNgrs = angular.element(document.querySelector('div.getItNgrs'));\r\n                getItNgrs.addClass('physical-journal');\r\n\r\n                //console.log('podID:', this.parentCtrl._bestOffer.podId);\r\n\r\n                /* reading room POD */\r\n                if (this.parentCtrl._bestOffer !== undefined && this.parentCtrl._bestOffer.podId == '452167832730000041' ||\r\n                    this.parentCtrl._bestOffer !== undefined && this.parentCtrl._bestOffer.podId == '452167827350000041' ||\r\n                    this.parentCtrl._bestOffer !== undefined && this.parentCtrl._bestOffer.podId == '452497325370000041' ||\r\n                    this.parentCtrl._bestOffer !== undefined && this.parentCtrl._bestOffer.podId == '452497929300000041' ||\r\n                    this.parentCtrl._bestOffer !== undefined && this.parentCtrl._bestOffer.podId == '452084165700000041' ||\r\n                    this.parentCtrl._bestOffer !== undefined && this.parentCtrl._bestOffer.podId == '529457897220000041') {\r\n\r\n                    let pickupInfo = document.querySelectorAll('prm-service-ngrs');\r\n                    angular.element(pickupInfo).addClass('reading-room');\r\n\r\n                }\r\n            }\r\n            // neue Bedingung fr Bcher\r\n            if (!isPhysicalJournal && isPhysicalForm) {\r\n                let getItNgrs = angular.element(document.querySelector('div.getItNgrs'));\r\n                getItNgrs.addClass('physical-book');\r\n            }\r\n        }\r\n\r\n        catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slsp Pickup Information Controller\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n\r\n    }\r\n\r\n    disableRequestButton() {\r\n        const requestButton = angular.element(document.querySelector('button.button-with-icon.button-confirm.md-button.md-primoExplore-theme.md-ink-ripple'));\r\n        if (requestButton) {\r\n            requestButton.attr('disabled', 'disabled');\r\n        }\r\n    }\r\n\r\n    enableRequestButton() {\r\n        const requestButton = angular.element(document.querySelector('button.button-with-icon.button-confirm.md-button.md-primoExplore-theme.md-ink-ripple'));\r\n        if (requestButton) {\r\n            requestButton.removeAttr('disabled');\r\n        }\r\n    }\r\n\r\n    disableRefineButton() {\r\n        const requestButton = angular.element(document.querySelector('button[ng-if=\"$ctrl.refineOfferIsVisible()\"]'));\r\n        if (requestButton) {\r\n            requestButton.attr('disabled', 'disabled');\r\n        }\r\n    }\r\n\r\n    enableRefineButton() {\r\n        const requestButton = angular.element(document.querySelector('button[ng-if=\"$ctrl.refineOfferIsVisible()\"]'));\r\n        if (requestButton) {\r\n            requestButton.removeAttr('disabled');\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\nslspRefineJournalRequestController.$inject = ['$scope'];\r\n","\r\n    import {slspRefineJournalRequestController} from './slsp-refine-journal-request.controller';\r\n    import {slspRefineJournalRequestHtml} from './slsp-refine-journal-request.html';\r\n\r\n    export const slspRefineJournalRequestModule = angular\r\n        .module('slspRefineJournalRequestModule', [])\r\n            .controller('slspRefineJournalRequestController', slspRefineJournalRequestController)\r\n            .component('slspRefineJournalRequestComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspRefineJournalRequestController',\r\n                template: slspRefineJournalRequestHtml\r\n            })","export class slspHideRapidoLoanLinkController {\n    constructor($element) {\n        this.itemType = null;\n        this.itemBarcode = null;\n        this.hideTitle = false;\n        this.$element = $element;\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.itemBarcode = this.parentCtrl.item.itembarcode;\n            this.itemType = this.parentCtrl.loansService.requestParams.type;\n\n            if (this.itemBarcode.includes(\"RAPIDO\") || this.itemBarcode.includes(\"41SLSP\")) {\n                this.setTitle = setTitle;\n\n                function setTitle() {\n                    return this.parentCtrl.item.title;\n                }\n\n                this.hideTitle = true;\n\n                // Hinzufgen der hide-title Klasse zum Groelternelement prm-loan\n                this.$element.parent().parent().addClass('hide-title');\n\n                //console.log(this.$element.parent().parent())\n            }\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: slspHideRapidoLoanLinkController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\nslspHideRapidoLoanLinkController.$inject = ['$element'];","import { slspHideRapidoLoanLinkController } from './slsp-hide-rapido-loan-link.controller';\nimport { slspHideRapidoLoanLinkHtml } from './slsp-hide-rapido-loan-link.html';\n\nexport const slspHideRapidoLoanLinkModule = angular\n    .module('slspHideRapidoLoanLinkModule', [])\n    .controller('slspHideRapidoLoanLinkController', slspHideRapidoLoanLinkController)\n    .component('slspHideRapidoLoanLinkComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspHideRapidoLoanLinkController',\n        template: slspHideRapidoLoanLinkHtml\n    })","import { slspRenewItemTextModule } from './slsp-renew-item-text/slsp-renew-item-text.module';\nimport { slspHideRapidoLoanLinkModule } from './slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.module';\n\n\nexport const slspLoanAfterModule = angular\n    .module('slspLoanAfterModule', [])\n    .component('prmLoanAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-renew-item-text-component after-ctrl=\"$ctrl\"></slsp-renew-item-text-component>\n            <slsp-hide-rapido-loan-link-component after-ctrl=\"$ctrl\"></slsp-hide-rapido-loan-link-component>\n            <slsp-loan-after parent-ctrl=\"$parent.$ctrl\"></slsp-loan-after>`\n    });\n\nslspLoanAfterModule.requires.push(slspRenewItemTextModule.name);\nslspLoanAfterModule.requires.push(slspHideRapidoLoanLinkModule.name);","//--------Renewstatus display of loan items ---------------------------------------\n\nexport class slspRenewItemTextController {\n\n    constructor() {\n\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.getRenewText = getRenewText;\n\n            function getRenewText() {\n                if (this.parentCtrl.item.renewstatuses !== undefined && this.parentCtrl.item.renewstatuses.renewstatus[0] !== undefined) {\n                    return this.parentCtrl.item.renewstatuses.renewstatus[0];\n                } else {\n                    return\n                }\n\n            }\n\n            \n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: slspRenewItemTextController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nslspRenewItemTextController.$inject = [];","\n\n\n\n\n    import {slspRenewItemTextController} from './slsp-renew-item-text.controller';\n    import {slspRenewItemTextHtml} from './slsp-renew-item-text.html';\n\n    export const slspRenewItemTextModule = angular\n        .module('slspRenewItemTextModule', [])\n            .controller('slspRenewItemTextController', slspRenewItemTextController)\n            .component('slspRenewItemTextComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspRenewItemTextController',\n                template: slspRenewItemTextHtml\n            })","import { slspIButtonModule } from './slsp-i-button/slsp-i-button.module';\nimport { slspHoldingCollapseModule } from './slsp-holding-collapse/slsp-holding-collapse.module';\n\n\nexport const prmLocationHoldingsAfterModule = angular\n    .module('prmLocationHoldingsAfterModule', [])\n    .component('prmLocationHoldingsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n\t\t\n        <slsp-i-button-component after-ctrl=\"$ctrl\"></slsp-i-button-component>\n        <slsp-holding-collapse-component after-ctrl=\"$ctrl\"></slsp-holding-collapse-component>\n        <slsp-location-holdings-after parent-ctrl=\"$parent.$ctrl\"></slsp-location-holdings-after>\n        \n\t\t`\n    });\n\n\nprmLocationHoldingsAfterModule.requires.push(slspIButtonModule.name);\nprmLocationHoldingsAfterModule.requires.push(slspHoldingCollapseModule.name);\n","export class slspHoldingCollapseController {\n    constructor($scope, $element, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$element = $element;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n        this.labels = {\n            holdingExpandLabel: '<md-icon md-svg-icon=\"hardware:ic_keyboard_arrow_down_24px\" class=\"md-primoExplore-theme\" role=\"img\" aria-label=\"hardware:ic_keyboard_arrow_down_24px\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" id=\"ic_keyboard_arrow_down_24px_cache189\" y=\"264\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z\"></path></svg></md-icon><span translate=\"customized.holdings.expand\"></span>',\n            holdingCollapseLabel: '<md-icon class=\"hsg-fold-icon-collapse md-primoExplore-theme\" md-svg-icon=\"hardware:ic_keyboard_arrow_down_24px\" role=\"img\" aria-label=\"hardware:ic_keyboard_arrow_down_24px\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" id=\"ic_keyboard_arrow_down_24px_cache231\" y=\"264\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z\"></path></svg></md-icon><span translate=\"customized.holdings.collapse\"></span>'\n        };\n    }\n\n\n    $onInit() {\n        this.parentCtrl = this.afterCtrl.parentCtrl;\n        let vm = this; // speichern Sie eine Referenz auf das aktuelle Objekt\n\n        this.$scope.$watch(\n            function () {\n                return vm.parentCtrl.currLoc;\n            },\n            function (newValue, oldValue) {\n                if (newValue !== undefined && newValue.isHoldingExpandedData !== undefined && newValue.isHoldingExpandedData === true) {\n                    let addCollapseClass = document.querySelectorAll(\"prm-location-holdings\");\n                    angular.element(addCollapseClass).addClass('holding-data-expandable');\n                }\n            }\n        );\n    }\n\n    $doCheck() {\n        try {\n            let holdingExpand = document.querySelectorAll('button[ng-if=\"($ctrl.currLoc.locationNoItems ?  $ctrl.summaryLinesVisible : !$ctrl.summaryLinesVisible) && $ctrl.currLoc.summaryHoldings.baseSummaryShort.length > 0 && $ctrl.currLoc.isHoldingExpandedData\"] > span[translate=\"nui.locations.viewMore\"]');\n            let holdingExpandButton = document.querySelectorAll('button[ng-if=\"($ctrl.currLoc.locationNoItems ?  $ctrl.summaryLinesVisible : !$ctrl.summaryLinesVisible) && $ctrl.currLoc.summaryHoldings.baseSummaryShort.length > 0 && $ctrl.currLoc.isHoldingExpandedData\"]');\n            holdingExpand.forEach(element => {\n                if (!element.__replaced) {\n                    angular.element(element).replaceWith(this.$compile(this.labels.holdingExpandLabel)(this.$scope));\n                    element.__replaced = true;\n                }\n                angular.element(holdingExpandButton).addClass('holding-expand-button');\n            });\n\n            let holdingCollapse = document.querySelectorAll('button[ng-if=\"($ctrl.currLoc.locationNoItems ?  !$ctrl.summaryLinesVisible : $ctrl.summaryLinesVisible) && $ctrl.currLoc.summaryHoldings.baseSummaryShort.length > 0 && $ctrl.currLoc.isHoldingExpandedData\"] > span[translate=\"nui.locations.viewLess\"]');\n            let holdingCollapseButton = document.querySelectorAll('button[ng-if=\"($ctrl.currLoc.locationNoItems ?  !$ctrl.summaryLinesVisible : $ctrl.summaryLinesVisible) && $ctrl.currLoc.summaryHoldings.baseSummaryShort.length > 0 && $ctrl.currLoc.isHoldingExpandedData\"]');\n            holdingCollapse.forEach(element => {\n                if (!element.__replaced) {\n                    angular.element(element).replaceWith(this.$compile(this.labels.holdingCollapseLabel)(this.$scope));\n                    element.__replaced = true;\n                }\n                angular.element(holdingCollapseButton).addClass('holding-collapse-button');\n            });\n\n\n        } catch (e) {\n            console.error(\"***SLSP*** an error occurred: slspHoldingCollapseController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nslspHoldingCollapseController.$inject = ['$scope', '$element', '$compile', '$timeout'];\n","    import { slspHoldingCollapseController } from './slsp-holding-collapse.controller';\n    import { slspHoldingCollapseHtml } from './slsp-holding-collapse.html';\n\n\n    export const slspHoldingCollapseModule = angular\n        .module('slspHoldingCollapseModule', [])\n        .controller('slspHoldingCollapseController', slspHoldingCollapseController)\n        .component('slspHoldingCollapseComponent', {\n            bindings: { afterCtrl: '<' },\n            controller: 'slspHoldingCollapseController',\n            template: slspHoldingCollapseHtml\n        })","export class slspIButtonController {\n\n    constructor($scope, $rootScope) {\n        this.$scope = $scope;\n\n        this.$rootScope = $rootScope;\n\n        this.biblinkBase = \"https:\\/\\/registration.slsp.ch\\/libraries\\/\\?library\\=\";\n    }\n\n    $onInit() {\n        this.parentCtrl = this.afterCtrl.parentCtrl;\n        this.getLibrary = this.getLibrary.bind(this);\n        this.getLibraryCode = this.getLibraryCode.bind(this);\n        this.getLanguage = this.getLanguage.bind(this);\n    }\n\n    getLibrary() {\n        if (this.parentCtrl.currLoc !== undefined && this.parentCtrl.currLoc.location !== undefined) {\n            return this.parentCtrl.currLoc.location.librarycodeTranslation;\n        } else {\n            return;\n        }\n    }\n\n    getLibraryCode() {\n        if (this.parentCtrl.currLoc !== undefined && this.parentCtrl.currLoc.location !== undefined) {\n            return this.parentCtrl.currLoc.location.libraryCode;\n        } else {\n            return;\n        }\n    }\n\n    getLanguage() {\n\n        let sms = this.$rootScope.$$childHead.$ctrl.userSessionManagerService;\n        if (!sms) {\n            return 'en';\n        } else {\n            return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n        }\n    }\n\n    specialInfoBox() {\n        let addSpecialInfoClass = document.querySelectorAll(\"prm-location-items\");\n        angular.element(addSpecialInfoClass).addClass('special-library-info');\n    }\n\n}\n\nslspIButtonController.$inject = ['$scope', '$rootScope'];","    import { slspIButtonController } from './slsp-i-button.controller';\n    import { slspIButtonHtml } from './slsp-i-button.html';\n\n\n    export const slspIButtonModule = angular\n        .module('slspIButtonModule', [])\n        .controller('slspIButtonController', slspIButtonController)\n        .component('slspIButtonComponent', {\n            bindings: { afterCtrl: '<' },\n            controller: 'slspIButtonController',\n            template: slspIButtonHtml\n        })","export class hsgDisplayItemPolicyController {\n\n\tconstructor($scope, $document, $element) {\n\t\tthis.$scope = $scope\n\t\tthis.$document = $document\n\t\tthis.$element = $element\n\t}\n\n\t$onInit() {\n\t\tthis.ctrl = this.afterCtrl.parentCtrl\n\t\tthis.setItemPolicyText()\n\t\t\n\t}\n\t\n\tsetItemPolicyText() {\n\t\tconst policy = this.selectItem().itemFields[3]\n\t\tthis.selectItem().itemFields[3] = policy.replace(/^\\d{2} /, '')\n\t\t/*\n\t\tafter setting the item policy the first time, register\n\t\ta watcher to change it again, in case it gets reset\n\t\t*/\n\t\tthis.registerWatcher()\n\t\treturn\n\t}\n\n\tregisterWatcher() {\n\t\tlet that = this\n\t\tthis.$scope.$watch(\n\t\t\tfunction () {\n\t\t\t\treturn that.selectItem().itemFields[3]\n\t\t\t},\n\t\t\tfunction (newValue, oldValue) {\n\t\t\t\tif (newValue !== oldValue) {\n\t\t\t\t\tthat.setItemPolicyText()\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\t}\n\n\tselectItem() {\n\t\tlet componentName = this.$element[0].nodeName.toLocaleLowerCase()\n\t\tlet index = Array.from(this.$document.find(componentName)).findIndex(e => e == this.$element[0])\n\t\treturn this.ctrl.loc.items[index]\n\t}\n}\n\nhsgDisplayItemPolicyController.$inject = ['$scope', '$document', '$element']\n","import { hsgDisplayItemPolicyController } from './hsg-display-item-policy.controller'\n\n\nexport const hsgDisplayItemPolicyModule = angular\n\t.module('hsgDisplayItemPolicyModule', [])\n\t.controller('hsgDisplayItemPolicyController', hsgDisplayItemPolicyController)\n\t.component('hsgDisplayItemPolicyComponent', {\n\t\tbindings: { afterCtrl: '<' },\n\t\tcontroller: 'hsgDisplayItemPolicyController'\n\t})\n","import { hsgDisplayItemPolicyModule } from './hsg-display-item-policy/hsg-display-item-policy.module'\nimport { slspCugPolicyModule } from './slsp-cug-policy/slsp-cug-policy.module'\n//import { slspOvpItemReservationModule } from './slsp-ovp-item-reservation/slsp-ovp-item-reservation.module'\n\nexport const hsgLocationItemAfterModule = angular\n\t.module('hsgLocationItemAfterModule', [])\n.component('prmLocationItemAfter', {\n\t\tbindings: { parentCtrl: '<' },\n\t\ttemplate: `\n\t\t\t<hsg-display-item-policy-component after-ctrl=\"$ctrl\"></hsg-display-item-policy-component>\n\t\t\t<slsp-cug-policy-component after-ctrl=\"$ctrl\"></slsp-cug-policy-component>\n\t\t\t<slsp-ovp-item-reservation-component after-ctrl=\"$ctrl\"></slsp-ovp-item-reservation-component>\n\t\t\t<slsp-location-item-after parent-ctrl=\"$parent.$ctrl\"></<slsp-location-item-after>\n\t\t`\n\t})\n\nhsgLocationItemAfterModule.requires.push(hsgDisplayItemPolicyModule.name)\nhsgLocationItemAfterModule.requires.push(slspCugPolicyModule.name)\n//hsgLocationItemAfterModule.requires.push(slspOvpItemReservationModule.name)\n","//-----------------Custom User Groups Policy------------------------------\n\nexport class slspCugPolicyController {\n    constructor($scope) {\n        this.$scope = $scope;\n    }\n\n    $doCheck() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            let userGroup = this.parentCtrl.userSessionManagerService.jwtUtilService.getDecodedToken().userGroup;\n            //console.log(this.parentCtrl);\n\n            for (let i = 0; i < this.parentCtrl.loc.items.length; i++) {\n                if (['GUEST', '01', '02', '03', '04', '05', '06', '11', '12', '13', '14', '15', '16', '17', '18', '91', '92', '98', '99', 'STAFF'].includes(userGroup)) {\n                   \n                    this.parentCtrl.loc.items[i].itemFields[1] = \"\";\n\n                } else if (this.parentCtrl.loc.items[i].itemFields[1].trim() !== \"\") {\n\n                    this.parentCtrl.loc.items[i].itemFields[3] = \"\";\n                }\n\n            }\n        } catch (e) {\n            console.error(\"***SLSP*** an error occurred: Rapido hide Library\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nslspCugPolicyController.$inject = ['$scope'];\n\n","import { slspCugPolicyController } from './slsp-cug-policy.controller';\n\n\nexport const slspCugPolicyModule = angular\n    .module('slspCugPolicyModule', [])\n    .controller('slspCugPolicyController', slspCugPolicyController)\n    .component('slspCugPolicyComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspCugPolicyController',\n\n    })","import { ethMapongoCheckModule } from './eth-mapongo/eth-mapongo-check.module';\nimport { ethMapongoModule } from './eth-mapongo/eth-mapongo.module';\nimport { slspIconLabelLocationItemsModule } from './slsp-icon-label-location-items/slsp-icon-label-location-items.module';\nimport { ethLocationItemsFilterModule } from './eth-location-items-filter/eth-location-items-filter.module';\n\nexport const ethLocationItemsAfterModule = angular\n    .module('ethLocationItemsAfterModule', [])\n    .component('prmLocationItemsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n\t\t<eth-mapongo-check after-ctrl=\"$ctrl\"></eth-mapongo-check>\n        <slsp-icon-label-location-items-component after-ctrl=\"$ctrl\"></slsp-icon-label-location-items-component>\n        <eth-location-items-filter-component after-ctrl=\"$ctrl\"></eth-location-items-filter-component>\n        <slsp-location-items-after parent-ctrl=\"$parent.$ctrl\"></slsp-location-items-after>\n        \n\t\t`\n    });\n\nethLocationItemsAfterModule.requires.push(ethMapongoCheckModule.name);\nethLocationItemsAfterModule.requires.push(ethMapongoModule.name);\nethLocationItemsAfterModule.requires.push(slspIconLabelLocationItemsModule.name);\nethLocationItemsAfterModule.requires.push(ethLocationItemsFilterModule.name);","export class ethLocationItemsFilterController {\n\n    constructor($timeout, $scope, $compile) {\n        this.$timeout = $timeout;\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.filterLabel = '<span class=\"filter-label\" translate=\"nui.aria.locationItems.filters\"></span>';\n    }\n\n    $doCheck() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n  \n            // Check if the filter button exists\n            let filterButton = document.querySelectorAll('button[ng-if=\"($ctrl.isFilter || $ctrl.isFiltered) && $ctrl.isAnyFilterFilled()\"] svg');\n            if (filterButton.length > 0) {\n                angular.element(filterButton).replaceWith(this.$compile(this.filterLabel)(this.$scope));\n            } else {\n                // Stop the loop if the element is replaced\n                this.filterButtonReplaced = true;\n            }\n         \n         \n        }\n        catch(e){\n            console.error(\"***SLSP*** an error occured: ethLocationItemsFilterController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nethLocationItemsFilterController.$inject = ['$timeout', '$scope', '$compile'];\n","/**\n* @ngdoc module\n* @name ethLocationsFilterModule\n*\n* @description\n*\n* Customization for the locations filter:<br>\n* - the locations filter is visible by default\n*\n* If there is 1 location: prmLocationItemsAfter\n*\n* If there are multiple locations: prmLocationAfter;\n* after all locations: prmLocationsAfter;\n* after choosing a location: prmLocationItemsAfter\n*\n*\n* <b>AngularJS Dependencies</b><br>\n*\n*\n* <b>CSS/Image Dependencies</b><br>\n* CSS eth-locations-filter.css\n*\n*\n*/\nimport {ethLocationItemsFilterController} from './eth-location-items-filter.controller';\n\nexport const ethLocationItemsFilterModule = angular\n    .module('ethLocationItemsFilterModule', [])\n        .controller('ethLocationItemsFilterController', ethLocationItemsFilterController)\n        .component('ethLocationItemsFilterComponent', {\n            bindings: {afterCtrl: '<'},\n            controller: 'ethLocationItemsFilterController'\n        })\n","export class ethMapongoCheckController {\n\n    constructor( $scope, $compile, $element, ethMapongoLibrariesService ) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$element = $element;\n        this.ethMapongoLibrariesService = ethMapongoLibrariesService;\n        this.isMapongoLibrary = true;\n        this.noLocationItemAfter = 0;\n     }\n\n    $onInit() {\n        this.parentCtrl = this.afterCtrl.parentCtrl;\n    }\n\n    $doCheck() {\n        try{\n            // are location item elements loaded and rendered? Or \"show more items\" pushed?\n            let locationItemAfter = this.$element[0].parentElement.parentElement.getElementsByTagName('prm-location-item-after');\n            let noLocationItemAfter = locationItemAfter.length;\n            if(noLocationItemAfter <= this.noLocationItemAfter){\n                return;\n            }\n            this.noLocationItemAfter = noLocationItemAfter;\n\n            // mapongo library?\n            if(!this.isMapongoLibrary)return;\n            if (!this.ethMapongoLibrariesService.isMapongoLibrary(this.parentCtrl.loc.location.libraryCode)) {\n                this.isMapongoLibrary = false;\n                return;\n            }\n\n            // array of html collection prm-location-item-after\n            let aPrmLocationItemAfter = [].slice.call(locationItemAfter);\n            this.recordid = this.parentCtrl.item.pnx.control.sourcerecordid[0];\n\n            // iterate items of a location (Exemplare), get reference to after directive of location-item and inject eth-mapongo-directive\n            for(let i = 0; i < this.parentCtrl.loc.items.length; i++){\n                if(i >= aPrmLocationItemAfter.length){\n                    // more items than initially rendered\n                    return;\n                }\n\n                let item = this.parentCtrl.loc.items[i];\n                let prmLocationItemAfter = aPrmLocationItemAfter[i];\n\n                // is mapongo directive already injected?\n                let ethMapongo = prmLocationItemAfter.querySelector('eth-mapongo');\n                if(!!ethMapongo){\n                    continue;\n                }\n\n                if (!this.ethMapongoLibrariesService.isMapongoSubLocation(this.parentCtrl.loc.location.libraryCode, item._additionalData.secondarylocationname)) {\n                    continue;\n                }\n\t\t\t\t\n                if(!this.ethMapongoLibrariesService.isAvailable(item._additionalData.itemstatusname)){\n                    continue;\n                }\n\t\t\t\t\n\n                this.subLocationCode = this.ethMapongoLibrariesService.getSubLocationCode(this.parentCtrl.loc.location.libraryCode, item._additionalData.secondarylocationname);\n                this.callnumber = item._additionalData.callnumber;\n                let addCallnumberEntry = item.fullItemFields.filter(function(e) {return e.indexOf(\"Zustzliche Signatur:\") > -1 || e.indexOf(\"Additional call number:\") > -1;} );\n                this.addCallnumber = \"\";\n                if (addCallnumberEntry.length > 0) {\n                    this.addCallnumber = addCallnumberEntry[0].replace(\"Zustzliche Signatur: \",\"\").replace(\"Additional call number: \",\"\");\n                }\n                if(this.addCallnumber != \"\"){\n                    // todo: is it always correct to use 'Additional call number' if it exists?\n                    this.callnumber = this.addCallnumber;\n                }\n\n                let barcodeEntry = item.fullItemFields.filter(function(e) {return e.indexOf(\"Barcode:\") > -1 || e.indexOf(\"Strichcode:\") > -1;} );\n                this.barcode = \"\";\n                if (barcodeEntry.length > 0) {\n                    this.barcode = barcodeEntry[0].replace(\"Barcode: \",\"\").replace(\"Strichcode: \",\"\");\n                }\n\t\t\t\t\n                // inject eth-mapongo element (handled by eth-mapongo.module)\n                angular.element(prmLocationItemAfter).append(this.$compile('<eth-mapongo after-ctrl=\"$ctrl\" class=\"eth-mapongo-container\" recordid=\"' + this.recordid + '\" barcode=\"' + this.barcode + '\" callnumber=\"' + this.callnumber + '\" sublocation=\"' + this.subLocationCode + '\"parent-ctrl=\"$ctrl.parentCtrl\"></eth-mapongo>')(this.$scope));\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** ethMapongoCheckController.$doCheck:\");\n            console.error(e.message);\n        }\n\n    }\n}\n\nethMapongoCheckController.$inject = [ '$scope', '$compile', '$element', 'ethMapongoLibrariesService'];\n","/**\n* @ngdoc module\n* @name ethMapongoCheckModule\n*\n* @description\n* checks if mapongo should be injected\n* - checks if the current library and location (Standort) are registered for Mapongo\n* - checks the item status\n* - may inject an eth-mapongo directive and specific attributes for it in prm-location-item-after (handled by eth-mapongo.module.js)\n*\n* A prm controller works only for prmLocationItems. There is no prmLocationItem controller\n* $ctrl in prmLocationItemAfter is a reference to prmLocationItems Controller\n*\n* If there is 1 location: prmLocationItemsAfter\n*\n* If there are multiple locations: prmLocationAfter;\n* after all locations: prmLocationsAfter;\n* after choosing a location: prmLocationItemsAfter\n*\n*\n* <b>AngularJS Dependencies</b><br>\n* Service {@link ETH.ethMapongoLibrariesService}<br>\n*\n*\n* <b>CSS/Image Dependencies</b><br>\n*\n*\n* @example\n* ZHAW MMS IDs: 991128155109705501, 990013732410205503; 2 Exemplare: 990058665580205503; 5 Exemplare: 991129451879705501\n*\n*/\nimport {ethMapongoLibrariesService} from './eth-mapongo-libraries.service';\nimport {ethMapongoCheckController} from './eth-mapongo-check.controller';\n\nexport const ethMapongoCheckModule = angular\n    .module('ethMapongoCheckModule', [])\n        .factory('ethMapongoLibrariesService', ethMapongoLibrariesService)\n        .controller('ethMapongoCheckController', ethMapongoCheckController)\n        .component('ethMapongoCheck', {\n            bindings: {afterCtrl: '<'},\n            controller: 'ethMapongoCheckController'\n        })\n","/**\n* @ngdoc service\n* @name ethMapongoLibrariesService\n*\n* @description\n*\n* Holds informations about the libraries which use mapongo\n*\n*\n* <b>Used by</b><br>\n*\n* Module {@link ETH.ethMapongoModule}<br>\n*\n*\n */\nexport const ethMapongoLibrariesService = [function () {\n    // todo: are the locations correct and complete?\n    const libraries = [\n        {\n            \"shortname\": \"ZHdK-MIZ\",\n            \"name\": \"ZHdK-MIZ\",\n            \"libraryCode\": \"E65\",\n            \"baseUrl\": \"https://zhdk.mapongo.de\",\n            \"locationCodeWhiteList\": [\"E65G1\", \"E65G2\", \"E65E1\", \"E65U1\", \"E65U4\"],\n            \"locationWhiteList\": [\"Galeriegeschoss\", \"Galeriegeschoss\", \"Eingangsgeschoss\", \"Untergeschoss\", \"Untergeschoss Curating Degree Zero Archive\"]\n        },\n        {\n            \"shortname\": \"ZHAW-HSB-ZH\",\n            \"name\": \"ZHAW Hochschulbibliothek Zrich\",\n            \"libraryCode\": \"E97\",\n            \"baseUrl\": \"https://zhdk.mapongo.de\",\n            \"locationCodeWhiteList\": [\"E97E1\"],\n            \"locationWhiteList\": [\"Eingangsgeschoss\"]\n        },\n        {\n            \"shortname\": \"ZHAW-HSB-WIN\",\n            \"name\": \"ZHAW Hochschulbibliothek Winterthur\",\n            \"libraryCode\": \"E51\",\n            \"baseUrl\": \"https://zhaw.mapongo.de\",\n            \"locationCodeWhiteList\": [\"E51BA\", \"E51B0\", \"E51B9\", \"E51B2\", \"E51B8\", \"E51BN\", \"E51BL\", \"E51BG\", \"E51BT\", \"E51BB\", \"E51BW\", \"E51BA\", \"E51BK\", \"E51BR\"],\n            \"locationWhiteList\": [\"Architektur und Bau - 1. ZG\", \"Neuerwerbungen - EG\", \"Handapparate - EG\", \"Compactus, offen - EG\", \"Zeitschriften - EG\", \"Allgemeines und Nachschlagewerke - EG\", \"Angewandte Linguistik - EG\", \"Gesundheit und Medizin - EG\", \"Technik und Naturwissenschaften - 1. ZG\", \"Wissenschaft und Bildung - EG\", \"Wirtschaft und Management - 1. ZG\", \"Architektur und Bau - 1. ZG\", \"Kunst und Unterhaltung - EG\", \"Recht und Politik - 2. ZG\"]\n        },\n        {\n            \"shortname\": \"PHZH\",\n            \"name\": \"PH Zrich, Bibliothek\",\n            \"libraryCode\": \"UPHZH\",\n            \"baseUrl\": \"https://phzh.mapongo.de\",\n            \"locationCodeWhiteList\": [\"ULFHF\", \"ULFHG\", \"ULFHN\", \"ULFHS\"],\n            \"locationWhiteList\": [\"Stockwerk F - frei zugnglich\", \"Stockwerk G - frei zugnglich\", \"Stockwerk H Nord - frei zugnglich\", \"Stockwerk H Sd - frei zugnglich\"]\n        },\n        {\n            \"shortname\": \"HGK-MED\",\n            \"name\": \"FHNW HGK-Mediathek Basel\",\n            \"libraryCode\": \"E75\",\n            \"baseUrl\": \"https://mediathek.hgk.fhnw.ch/nebis\",\n            \"locationCodeWhiteList\": [\"HAP\", \"E75BI\", \"E75AC\", \"E75MA\", \"E75VS\"],\n            \"locationWhiteList\": [\"Handapparat\", \"Mediathek\", \"Archiv\", \"Magazin\", \"Verschiedene Standorte\"]\n        },\n        {\n            \"shortname\": \"FHNW-CMU\",\n            \"name\": \"FHNW Campus Muttenz Bibliothek\",\n            \"libraryCode\": \"E44\",\n            \"baseUrl\": \"https://fhnw-cmu.mapongo.de\",\n            \"locationCodeWhiteList\": [\"E44TE\", \"E44BI\", \"E44MG\", \"E44VS\"],\n            \"locationWhiteList\": [\"Ausleihe nur intern an Angehrige PH FHNW fr Lehre und Forschung\", \"Bibliothek\", \"Magazin: Nicht frei zugnglich, zur Abholung bestellen\", \"Verschiedene Standorte\"]\n        },\n        {\n            \"shortname\": \"FHNW-PH-S\",\n            \"name\": \"FHNW Bibliothek Solothurn\",\n            \"libraryCode\": \"E39\",\n            \"baseUrl\": \"https://fhnw-solothurn.mapongo.de\",\n            \"locationCodeWhiteList\": [\"E39BJ\", \"E39BI\", \"E39BB\", \"E39KA\", \"E39LS\", \"E39LE\", \"E39TK\", \"E39ZS\"],\n            \"locationWhiteList\": [\"Belletristik Kinder/Jugend\", \"Bibliothek\", \"Bilderbcher\", \"Kamishibai\", \"Benutzung nur vor Ort\", \"Lernspiele\", \"Themenkisten\", \"Zeitschriften\"]\n        },\n        {\n            \"shortname\": \"UBH\",\n            \"name\": \"Basel - UB Hauptbibliothek\",\n            \"libraryCode\": \"A100\",\n            \"baseUrl\": \"https://ub.unibas.mapongo.de\",\n            \"locationCodeWhiteList\": [\"100FH\", \"100FHZ\", \"LS\"],\n            \"locationWhiteList\": [\"Freihand\", \"Freihand Zeitschriften\", \"Lesesaal (Nutzung an Ort)\"]\n        }\n\n    ];\n\n    // todo: are the statuses correct and complete?\n    const availabilityStatus = ['Exemplar ist vorhanden', 'Item in place', 'Exemplaire en rayon', 'Copia in posizione'];\n\n    function getMapongoLibrary(libraryCode) {\n        let filterLibraries = libraries.filter(l => { return l.libraryCode === libraryCode; });\n        if (filterLibraries.length > 0)\n            return filterLibraries[0];\n        else\n            return null;\n    }\n\n    function isMapongoLibrary(libraryCode) {\n        let filterLibraries = libraries.filter(l => { return l.libraryCode === libraryCode });\n        if (filterLibraries.length > 0) return true;\n        else return false;\n    }\n\n    function isMapongoSubLocation(libraryCode, subLocation) {\n        let filterLibraries = libraries.filter(l => { return l.libraryCode === libraryCode && l.locationWhiteList.indexOf(subLocation) > -1; });\n        if (filterLibraries.length > 0) return true;\n        else return false;\n    }\n\n    function getSubLocationCode(libraryCode, subLocation) {\n        let filterLibraries = libraries.filter(l => { return l.libraryCode === libraryCode });\n        if (filterLibraries.length === 0) return null;\n        let i = filterLibraries[0].locationWhiteList.indexOf(subLocation);\n        return filterLibraries[0].locationCodeWhiteList[i];\n    }\n\n    function getBaseUrl(libraryCode) {\n        let lib = getMapongoLibrary(libraryCode);\n        if (lib) {\n            return lib.baseUrl;\n        }\n        else {\n            return \"\";\n        }\n\n    }\n\n    function isAvailable(itemstatusname) {\n        let filterStatus = availabilityStatus.filter(s => { return s === itemstatusname });\n        if (filterStatus.length > 0) return true;\n        return false;\n    }\n\n    return {\n        isMapongoLibrary: isMapongoLibrary,\n        isMapongoSubLocation: isMapongoSubLocation,\n        getBaseUrl: getBaseUrl,\n        getSubLocationCode: getSubLocationCode,\n        isAvailable: isAvailable\n    };\n\n\n}];\n","export const ethMapongoConfig = function(){\n    return {\n        label: {\n            qrc: {\n                de: 'Karte auf Smartphone laden',\n                en: 'Load map on your smartphone',\n                fr: 'Charger la carte sur votre smartphone'\n            }\n        }\n    }\n}\n","export class ethMapongoController {\n\n    constructor(ethMapongoLibrariesService, ethConfigService, ethMapongoConfig) {\n        this.ethMapongoLibrariesService = ethMapongoLibrariesService;\n        this.ethConfigService = ethConfigService;\n        this.config = ethMapongoConfig;\n        this.lang = this.ethConfigService.getLanguage();\n    }\n\n    $onInit() {\n        // reference to prmLocationItemsController (all items)\n        this.parentCtrl = this.afterCtrl.parentCtrl;\n    };\n\n    getMapongoImageSrc() {\n        let src = \"\";\n        try{\n            if (!this.parentCtrl.loc || !this.parentCtrl.loc.location) {\n                console.error(\"***ETH*** ethMapongoController.getMapongoImageSrc: loc or loc.location not available\");\n                return;\n            }\n            let loc = this.parentCtrl.loc.location;\n            let baseUrl = this.ethMapongoLibrariesService.getBaseUrl(loc.libraryCode);\n\n            src = baseUrl + \"/static_images/projects/1/search_thumbnail.jpg?project_id=1&search_key=\" + encodeURIComponent(this.callnumber);\n            if (loc.libraryCode === \"E51\" || loc.libraryCode === \"UPHZH\" ) {\n                src += \"&search_context2=\" + encodeURIComponent(this.sublocation);\n            }\n            if (loc.libraryCode === \"E65\") {\n                src += \"&e=\" + encodeURIComponent(this.recordid);\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** EthMapongoController.getMapongoImageSrc:\");\n            console.error(e.message);\n        }\n        return src;\n    }\n\n    getMapongoUrl() {\n        let url = \"\";\n        try{\n            let loc = this.parentCtrl.loc.location;\n            let baseUrl = this.ethMapongoLibrariesService.getBaseUrl(loc.libraryCode);\n\n            url = baseUrl + \"/viewer?project_id=1&search_key=\" + encodeURIComponent(this.callnumber) + \"&language=\" + this.lang + \"&e=\" + encodeURIComponent(this.recordid);\n            // ZHAW-HSB-WIN\n            if (loc.libraryCode === \"E51\" || loc.libraryCode === \"UPHZH\" ) {\n                url += \"&search_context2=\" + encodeURIComponent(this.sublocation);\n            }\n            if (this.barcode != \"\") {\n                    url += \"&bcd=\" + this.barcode;\n            }\n\n        }\n        catch(e){\n            console.error(\"***ETH*** EthMapongoController.getMapongoUrl:\");\n            console.error(e.message);\n        }\n        return url;\n    }\n\n    getMapongoQRC() {\n        let src = \"\";\n        try{\n            let loc = this.parentCtrl.loc.location;\n            let baseUrl = this.ethMapongoLibrariesService.getBaseUrl(loc.libraryCode);\n\n            src = baseUrl + \"/static_images/projects/1/search_qrcode.png?project_id=1&search_key=\" + encodeURIComponent(this.callnumber) + \"&language=\" + this.lang + \"&e=\" + encodeURIComponent(this.recordid);\n            if (loc.libraryCode === \"E51\" || loc.libraryCode === \"UPHZH\" ) {\n                src += \"&search_context2=\" + encodeURIComponent(this.sublocation);\n            }\n            if (this.barcode != \"\") {\n                src += \"&bcd=\" + this.barcode;\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** EthMapongoController.getMapongoQRC:\");\n            console.error(e.message);\n        }\n        return src;\n    }\n\n\n}\n\nethMapongoController.$inject = [ 'ethMapongoLibrariesService', 'ethConfigService', 'ethMapongoConfig'];\n","/**\n * @ngdoc module\n * @name ethMapongoModule\n *\n * @description\n * - renders Link, map and QRCode for mapongo\n *\n *\n * <b>AngularJS Dependencies</b><br>\n * Service {@link ETH.ethMapongoLibrariesService}<br>\n * Service /js/services {@link ETH.ethConfigService}<br>\n * Service {@link ETH.ethMapongoConfig}<br>\n *\n *\n * <b>CSS/Image Dependencies</b><br>\n * CSS /css/mapongo.css\n *\n * @example\n * ZHAW MMS IDs: 991128155109705501, 990013732410205503; 2 Exemplare: 990058665580205503; 5 Exemplare: 991129451879705501\n *\n */\nimport { ethConfigService } from './eth-config.service';\nimport { ethMapongoConfig } from './eth-mapongo.config';\nimport { ethMapongoLibrariesService } from './eth-mapongo-libraries.service';\nimport { ethMapongoController } from './eth-mapongo.controller';\nimport { ethMapongoHtml } from './eth-mapongo.html';\n\nexport const ethMapongoModule = angular\n    .module('ethMapongoModule', [])\n    .factory('ethConfigService', ethConfigService)\n    .factory('ethMapongoConfig', ethMapongoConfig)\n    .factory('ethMapongoLibrariesService', ethMapongoLibrariesService)\n    .controller('ethMapongoController', ethMapongoController)\n    .component('ethMapongo', {\n        bindings: {\n            afterCtrl: '<',\n            recordid: '@',\n            callnumber: '@',\n            barcode: '@',\n            sublocation: '@'\n        },\n        controller: 'ethMapongoController',\n        template: ethMapongoHtml\n    })","\n\n//--------slspIconLabel ---------------------------------------\n\n\nexport class slspIconLabelLocationItemsController {\n\n    constructor( $scope, $compile, $timeout ) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n    \n\n    $onInit() {\n        try{\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n                \n                if (this.parentCtrl.serviceScrollId === \"getit_link1_0\") {\n                    \n                        this.iconLabelLocationItems = iconLabelLocationItems ;\n                        let iconLabelLocationItems = document.querySelectorAll(\"#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column\");\n                        let htmlLocationItems = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\n                                                                                        \n                            angular.element(iconLabelLocationItems).prepend(this.$compile(htmlLocationItems)(this.$scope)).addClass('icnLblLocationItems');\n                }\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_1\") {\n                    \n                    this.iconLabelLocationItems3 = iconLabelLocationItems3 ;\n                    let iconLabelLocationItems3 = document.querySelectorAll(\"#getit_link1_1 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column\");\n                    let htmlLocationItems3 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\n                                                                                    \n                        angular.element(iconLabelLocationItems3).prepend(this.$compile(htmlLocationItems3)(this.$scope)).addClass('icnLblLocationItems3');\n            }\n\n\n\n\n\n                if (this.parentCtrl.serviceScrollId === \"alma_other_members\") {\n                    \n                    this.iconLabelLocationItems2 = iconLabelLocationItems2 ;\n                    let iconLabelLocationItems2 = document.querySelectorAll(\"prm-alma-other-members md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column\");\n                    let htmlLocationItems2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\n                                                                                    \n                        angular.element(iconLabelLocationItems2).prepend(this.$compile(htmlLocationItems2)(this.$scope)).addClass('icnLblLocationItems2');\n            }\n\n\n                         \n                \n            },0);   \n        }\n        \n        catch(e){\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\n            console.error(e.message);\n        }\n    }\n    \n}\n\nslspIconLabelLocationItemsController.$inject =  [ '$scope', '$compile', '$timeout'];\n\n","\n    import {slspIconLabelLocationItemsController} from './slsp-icon-label-location-items.controller';\n    import {slspIconLabelLocationItemsHtml} from './slsp-icon-label-location-items.html';\n\n    export const slspIconLabelLocationItemsModule = angular\n        .module('slspIconLabelLocationItemsModule', [])\n            .controller('slspIconLabelLocationItemsController', slspIconLabelLocationItemsController)\n            .component('slspIconLabelLocationItemsComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIconLabelLocationItemsController',\n                template: slspIconLabelLocationItemsHtml\n            })","import {ethLocationsFilterModule} from './eth-locations-filter/eth-locations-filter.module';\nimport {slspIconLabelLocationsModule} from './slsp-icon-label-locations/slsp-icon-label-locations.module';\nimport {slspCollapseRelatedModule} from './slsp-collapse-related/slsp-collapse-related.module';\n\nexport const ethLocationsAfterModule = angular\n    .module('ethLocationsAfterModule', [])\n        .component('prmLocationsAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<eth-locations-filter-component after-ctrl=\"$ctrl\"></eth-locations-filter-component><slsp-icon-label-locations-component after-ctrl=\"$ctrl\"></slsp-icon-label-locations-component><slsp-collapse-related-component after-ctrl=\"$ctrl\"></slsp-collapse-related-component><slsp-locations-after parent-ctrl=\"$parent.$ctrl\"></slsp-locations-after>`\n        });\n\nethLocationsAfterModule.requires.push(ethLocationsFilterModule.name);\nethLocationsAfterModule.requires.push(slspIconLabelLocationsModule.name);\nethLocationsAfterModule.requires.push(slspCollapseRelatedModule.name);","export class ethLocationsFilterController {\n\n    constructor($timeout, $scope, $compile) {\n        this.$timeout = $timeout;\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.filterLabel = '<span class=\"filter-label\" translate=\"nui.aria.locationItems.filters\"></span>';\n    }\n\n    $doCheck() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n\n            // Check if the filter button exists\n            let filterButton = document.querySelectorAll('button[ng-if=\"$ctrl.displayFiltersButton && !$ctrl.locationsPrefilterActive\"] svg');\n            if (filterButton.length > 0) {\n                angular.element(filterButton).replaceWith(this.$compile(this.filterLabel)(this.$scope));\n            } else {\n                // Stop the loop if the element is replaced\n                this.filterButtonReplaced = true;\n            }\n        } catch (e) {\n            console.error(\"***ETH*** an error occurred: ethLocationsFilterController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nethLocationsFilterController.$inject = ['$timeout', '$scope', '$compile'];","/**\n* @ngdoc module\n* @name ethLocationsFilterModule\n*\n* @description\n*\n* Customization for the locations filter:<br>\n* - the locations filter is visible by default\n*\n* If there is 1 location: prmLocationItemsAfter\n*\n* If there are multiple locations: prmLocationAfter;\n* after all locations: prmLocationsAfter;\n* after choosing a location: prmLocationItemsAfter\n*\n*\n* <b>AngularJS Dependencies</b><br>\n*\n*\n* <b>CSS/Image Dependencies</b><br>\n* CSS eth-locations-filter.css\n*\n*\n*/\nimport {ethLocationsFilterController} from './eth-locations-filter.controller';\n\nexport const ethLocationsFilterModule = angular\n    .module('ethLocationsFilterModule', [])\n        .controller('ethLocationsFilterController', ethLocationsFilterController)\n        .component('ethLocationsFilterComponent', {\n            bindings: {afterCtrl: '<'},\n            controller: 'ethLocationsFilterController'\n        })\n","export class slspCollapseRelatedController {\n\n    constructor($timeout, $scope) {\n        this.$timeout = $timeout;\n        this.$scope = $scope;\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n\n            if (angular.isArray(this.parentCtrl.locations) && this.parentCtrl.locations.length > 0) {\n\n                this.parentCtrl.relatedLocationsListLimit = 0;\n\n            }\n\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: slspCollapseRelatedController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\n\nslspCollapseRelatedController.$inject = ['$timeout', '$scope'];","\n    import {slspCollapseRelatedController} from './slsp-collapse-related.controller';\n    import {slspCollapseRelatedHtml} from './slsp-collapse-related.html';\n\n    export const slspCollapseRelatedModule = angular\n        .module('slspCollapseRelatedModule', [])\n            .controller('slspCollapseRelatedController', slspCollapseRelatedController)\n            .component('slspCollapseRelatedComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspCollapseRelatedController',\n                template: slspCollapseRelatedHtml\n            })","\n\n//--------slspIconLabel ---------------------------------------\n\n\nexport class slspIconLabelLocationsController {\n\n    constructor( $scope, $compile, $timeout ) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n        \n    }\n\n    \n\n    $onInit() {\n        try{\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n                \n                if (this.parentCtrl.serviceScrollId === \"getit_link1_0\") {\n                    \n                        this.iconLabelLocations = iconLabelLocations ;\n                        let iconLabelLocations = document.querySelectorAll('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if=\"!$ctrl.enableLibraryLevelList\"] > md-list:nth-child(1)');\n                        let htmlLocations = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\n                            \n                            angular.element(iconLabelLocations).prepend(this.$compile(htmlLocations)(this.$scope)).addClass('icnLblLocations');\n                }\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_1\") {\n                    \n                    this.iconLabelLocations3 = iconLabelLocations3 ;\n                    let iconLabelLocations3 = document.querySelectorAll('#getit_link1_1 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if=\"!$ctrl.enableLibraryLevelList\"] > md-list:nth-child(1)');\n                    let htmlLocations3 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\n                        \n                        angular.element(iconLabelLocations3).prepend(this.$compile(htmlLocations3)(this.$scope)).addClass('icnLblLocations3');\n            }\n\n\n\n\n\n                if (this.parentCtrl.serviceScrollId === \"alma_other_members\") {\n                    \n                    this.iconLabelLocations2 = iconLabelLocations2 ;\n                    let iconLabelLocations2 = document.querySelectorAll('prm-alma-other-members prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if=\"!$ctrl.enableLibraryLevelList\"] > md-list:nth-child(1)');\n                    let htmlLocations2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\n                        \n                        angular.element(iconLabelLocations2).prepend(this.$compile(htmlLocations2)(this.$scope)).addClass('icnLblLocations2');\n            }\n               \n            \n                \n            },0);   \n        }\n        \n        catch(e){\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\n            console.error(e.message);\n        }\n    }\n    \n}\n\nslspIconLabelLocationsController.$inject =  [ '$scope', '$compile', '$timeout'];\n\n\n\n// md-content > prm-locations > div.padding-left-medium > md-list.separate-list-items.margin-bottom-medium.padding-bottom-zero.md-primoExplore-theme\n","\n    import {slspIconLabelLocationsController} from './slsp-icon-label-locations.controller';\n    import {slspIconLabelLocationsHtml} from './slsp-icon-label-locations.html';\n\n    export const slspIconLabelLocationsModule = angular\n        .module('slspIconLabelLocationsModule', [])\n            .controller('slspIconLabelLocationsController', slspIconLabelLocationsController)\n            .component('slspIconLabelLocationsComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIconLabelLocationsController',\n                template: slspIconLabelLocationsHtml\n            })","import { slspLoginBoxModule } from './slsp-login-box/slsp-login-box.module';\n\nexport const prmLoginAfterModule = angular\n    .module('prmLoginAfterModule', [])\n    .component('prmLoginAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-login-box-component after-ctrl=\"$ctrl\"></slsp-login-box-component>\n            <slsp-login-after parent-ctrl=\"$parent.$ctrl\"></<slsp-login-after>`\n    });\n\n\nprmLoginAfterModule.requires.push(slspLoginBoxModule.name);","//-----------------RapidoHideLibrary------------------------------\n\nexport class slspLoginBoxController {\n\n    constructor($scope, $compile, $timeout, $rootScope, $window) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n        this.$rootScope = $rootScope;\n        this.$window = $window;\n    }\n \n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n               \n                let buttonHelp = '<a ng-href=\"https://registration.slsp.ch/help/?lang={{ $ctrl.getLanguage() }}\" target=\"_blank\" class=\"parallelLoginDescription\"><span translate=\"parallel.login.link3\"></span><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"></path></svg></a>';\n\n                //let infoLabel = '<p class=\"parallelLoginDescription\" translate=\"parallel.login.description2\"></p>';\n\n                // let samlTitleLabel = '<h3 class=\"saml-title-label\" translate=\"parallel.login.personalAccount\">test</h3>';\n\n                let authMeth1 = angular.element(document.querySelectorAll(`prm-login div > md-content > md-list > md-list-item:nth-child(1)`));\n                angular.element(authMeth1).addClass('authMethSaml');\n\n                let authMeth1b = angular.element(document.querySelectorAll(`prm-login .loginbox-register`));\n                angular.element(authMeth1b).append(this.$compile(buttonHelp)(this.$scope));\n\n                let authMeth2 = angular.element(document.querySelectorAll(`prm-login div > md-content > md-list > md-list-item:nth-child(2)`));\n                angular.element(authMeth2).addClass('authMethAlma');\n\n               \n                // let samlTitle = angular.element(document.querySelectorAll(`prm-login .authMethSaml div.md-list-item-inner`));\n                // angular.element(samlTitle).prepend(this.$compile(samlTitleLabel)(this.$scope));\n\n            }, 0);\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido hide Library\\n\\n\");\n            console.error(e.message);\n        }\n        \n    }\n    getLanguage() {       \n        let sms = this.$rootScope.$$childHead.$ctrl.userSessionManagerService;\n        if (!sms) {\n            return 'en';\n        } else {\n            return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n        }\n    }\n}\n\nslspLoginBoxController.$inject = ['$scope', '$compile', '$timeout', '$rootScope', '$window'];","import { slspLoginBoxController } from './slsp-login-box.controller';\nimport { slspLoginBoxHtml } from './slsp-login-box.html';\n\nexport const slspLoginBoxModule = angular\n    .module('slspLoginBoxModule', [])\n    .controller('slspLoginBoxController', slspLoginBoxController)\n    .component('slspLoginBoxComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspLoginBoxController',\n        template: slspLoginBoxHtml\n\n    })","import { slspMultivolumeRequestModule } from './slsp-multivolume-request/slsp-multivolume-request.module';\nimport { slspBookRequestFormMsgModule } from './slsp-book-request-form-msg/slsp-book-request-form-msg.module';\n\n\nexport const prmOfferDetailsTileAfterModule = angular\n    .module('prmOfferDetailsTileAfterModule', [])\n    .component('prmOfferDetailsTileAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-multivolume-request-component after-ctrl=\"$ctrl\"></slsp-multivolume-request-component>\n            <slsp-book-request-form-msg-component after-ctrl=\"$ctrl\"></slsp-book-request-form-msg-component>\n            <slsp-offer-details-tile-after parent-ctrl=\"$parent.$ctrl\"></slsp-offer-details-tile-after>`\n    });\n\n\nprmOfferDetailsTileAfterModule.requires.push(slspMultivolumeRequestModule.name);\nprmOfferDetailsTileAfterModule.requires.push(slspBookRequestFormMsgModule.name);","export class slspBookRequestFormMsgController {\r\n    constructor($scope, $element, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$element = $element;\r\n        this.$timeout = $timeout;\r\n\r\n    }\r\n\r\n\r\n\r\n    $doCheck() {\r\n        this.$timeout(() => {\r\n            try {\r\n\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                // console.log('parentCtrl', this.parentCtrl);\r\n               \r\n\r\n\r\n\r\n                let formMessageText = angular.element(document.querySelector('.getItNgrs.physical-book .request_form_message'));\r\n                let newFormMessageText = angular.element(document.querySelector('#newBookRequestFormMsg'));\r\n                // Ersetze den DOM-Inhalt mit formMessageLabel\r\n\r\n                // console.log('formMessageText', formMessageText);\r\n                // console.log('newFormMessageText', newFormMessageText);\r\n\r\n            } catch (e) {\r\n                console.error(\"***SLSP*** an error occurred: Book Request Form Message\\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        }, 0);\r\n    }\r\n}\r\n\r\nslspBookRequestFormMsgController.$inject = ['$scope', '$element', '$timeout'];\r\n","import { slspBookRequestFormMsgController } from './slsp-book-request-form-msg.controller';\nimport { slspBookRequestFormMsgHtml } from './slsp-book-request-form-msg.html';\n\n\nexport const slspBookRequestFormMsgModule = angular\n    .module('slspBookRequestFormMsgModule', [])\n    .controller('slspBookRequestFormMsgController', slspBookRequestFormMsgController)\n    .component('slspBookRequestFormMsgComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspBookRequestFormMsgController',\n        template: slspBookRequestFormMsgHtml\n\n    })","export class slspMultivolumeRequestController {\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n        this.previousUnavailableVolume = null;\r\n    }\r\n\r\n    $onInit() {\r\n        this.parentCtrl = this.afterCtrl.parentCtrl;\r\n        this.domManipulated = false;\r\n\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            const currentUnavailableVolume = this.parentCtrl.isNoOfferAfterRefine();\r\n            const isUnavailableResource = this.parentCtrl.isUnavailableResource();\r\n            const resourceType = this.parentCtrl.getResourceType();\r\n            // console.log('currentUnavailableVolume: ' + currentUnavailableVolume);\r\n            // console.log('isUnavailableResource: ' + isUnavailableResource);\r\n            //console.log('resourceType: ' + resourceType);\r\n\r\n            if (!this.domManipulated && resourceType != 'journal') {\r\n                // let volumeField = angular.element(document.querySelector('prm-get-it-request .form_item[ng-if=\"::$ctrl.isCodeEnabledforForm(\\'VOLUME\\')\"]'));\r\n                // let refineButton = angular.element(document.querySelector('prm-get-it-request .margin-buttons span[ng-if=\"::!$ctrl.isEbookOffer()\"]'));\r\n\r\n                // volumeField.append(refineButton);\r\n\r\n                let resetButton = angular.element(document.querySelector('span[translate=\"nui.reset\"]'));\r\n                if (resetButton && resetButton.parent()) {\r\n                    resetButton.parent().addClass('hidden');\r\n                }\r\n\r\n                this.domManipulated = true;\r\n            }\r\n\r\n            // Check und Button steuern\r\n            if (currentUnavailableVolume !== this.previousUnavailableVolume) {\r\n                if (currentUnavailableVolume === true) {\r\n                    this.disableRequestButton();\r\n                } else {\r\n                    this.enableRequestButton();\r\n                }\r\n\r\n                this.previousUnavailableVolume = currentUnavailableVolume;\r\n            }\r\n\r\n            // Klassen hinzufgen/entfernen\r\n            this.updatePhysicalGetItRequestClass(isUnavailableResource, currentUnavailableVolume);\r\n\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occurred: Multivolume Request\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n    disableRequestButton() {\r\n        const requestButton = angular.element(document.querySelector('button.button-with-icon.button-confirm.md-button.md-primoExplore-theme.md-ink-ripple'));\r\n        if (requestButton) {\r\n            requestButton.attr('disabled', 'disabled');\r\n        }\r\n    }\r\n\r\n    enableRequestButton() {\r\n        const requestButton = angular.element(document.querySelector('button.button-with-icon.button-confirm.md-button.md-primoExplore-theme.md-ink-ripple'));\r\n        if (requestButton) {\r\n            requestButton.removeAttr('disabled');\r\n        }\r\n    }\r\n\r\n    updatePhysicalGetItRequestClass(isUnavailableResource, isNoOfferAfterRefine) {\r\n        const physicalGetItRequestDiv = angular.element(document.querySelector('#physicalGetItRequest'));\r\n        if (physicalGetItRequestDiv) {\r\n            // Klasse \"is-unavailable-resource\" hinzufgen/entfernen\r\n            if (isUnavailableResource) {\r\n                physicalGetItRequestDiv.addClass('is-unavailbl-resource');\r\n            } else {\r\n                physicalGetItRequestDiv.removeClass('is-unavailbl-resource');\r\n            }\r\n\r\n            // Klasse \"no-best-offer\" hinzufgen/entfernen\r\n            if (isNoOfferAfterRefine) {\r\n                physicalGetItRequestDiv.addClass('no-best-offer');\r\n            } else {\r\n                physicalGetItRequestDiv.removeClass('no-best-offer');\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nslspMultivolumeRequestController.$inject = ['$scope'];\r\n","import { slspMultivolumeRequestController } from './slsp-multivolume-request.controller';\n\n\nexport const slspMultivolumeRequestModule = angular\n    .module('slspMultivolumeRequestModule', [])\n    .controller('slspMultivolumeRequestController', slspMultivolumeRequestController)\n    .component('slspMultivolumeRequestComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspMultivolumeRequestController',\n\n    })","import { slspOvpReservationModule } from './slsp-ovp-reservation/slsp-ovp-reservation.module';\n\nexport const prmOpacAfterModule = angular\n    .module('prmOpacAfterModule', [])\n    .component('prmOpacAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-ovp-reservation-component after-ctrl=\"$ctrl\"></slsp-ovp-reservation-component>\n            <slsp-opac-after parent-ctrl=\"$parent.$ctrl\"></<slsp-opac-after>`\n    });\n\n\nprmOpacAfterModule.requires.push(slspOvpReservationModule.name);","// slspOvpReservationController.js\n\nexport class slspOvpReservationController {\n    constructor($scope, $element, $compile) {\n        this.$scope = $scope;\n        this.$element = $element;\n        this.$compile = $compile;\n        this.reservationLabel = '<span translate=\"customized.rapido.reservation\"></span>';\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.processDoCheck = true;\n        } catch (e) {\n            console.error(\"***ETH*** Ein Fehler ist aufgetreten: slspOvpReservationController \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n    $doCheck() {\n        try {\n            let unavailability = this.parentCtrl.item.delivery.bestlocation.availabilityStatus;\n\n            // Hier das DOM-Element der Angular-Komponente abrufen\n            let currentElement = this.$element[0];\n\n            // Das Elternelement (\"prm-opac\") der Angular-Komponente abrufen\n            let prmOpacElement = currentElement.closest('prm-opac');\n\n            // Den Button innerhalb des aktuellen \"prm-opac\" Teils auswhlen\n            let reservationButton = prmOpacElement.querySelector('prm-service-button button span[data-qa=\"AlmaRequest\"], prm-service-button button span[data-qa=\"AlmaRequestOther\"]');\n\n            if (!this.processDoCheck && unavailability !== \"available\" && unavailability !== \"check_holdings\") {\n                // berprfen, ob das Element gefunden wurde, bevor auf innerHTML zugegriffen wird\n                if (reservationButton && !reservationButton.innerHTML.includes('customized.rapido.reservation')) {\n                    // Element mit \"reservationLabel\" ersetzen\n                    let compiledHtml = this.$compile(this.reservationLabel)(this.$scope);\n                    angular.element(reservationButton).replaceWith(compiledHtml);\n                }\n            }\n            //console.log(this.parentCtrl);\n            this.processDoCheck = false;\n        } catch (e) {\n            console.error(\"***SLSP*** Ein Fehler ist aufgetreten: slspOvpReservationController \\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nslspOvpReservationController.$inject = ['$scope', '$element', '$compile'];\n","import { slspOvpReservationController } from './slsp-ovp-reservation.controller';\nimport { slspOvpReservationHtml } from './slsp-ovp-reservation.html';\n\n\nexport const slspOvpReservationModule = angular\n    .module('slspOvpReservationModule', [])\n    .controller('slspOvpReservationController', slspOvpReservationController)\n    .component('slspOvpReservationComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspOvpReservationController',\n        template: slspOvpReservationHtml\n    })","//-----------------------------------------------\n\n\nexport class slspEditPersonalDetailsController {\n\n    constructor($scope, $element, $rootScope, $window) {\n        this.$scope = $scope;\n        this.$element = $element;\n        this.$rootScope = $rootScope;\n        this.$window = $window;\n\n    }\n\n    $doCheck() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            //console.log(this.parentCtrl);\n            this.detailsBaseEdu = \"https:\\/\\/eduid.ch\\/account\\/profile\";\n            this.detailsBaseReg = \"https:\\/\\/registration.slsp.ch\\/library-card\";\n            this.exclude = ['STAFF', '11', '12', '13', '14', '15', '16', '17', '18', '91', '92', '99'];\n            this.grpA = ['11', '91', '92'];\n            this.grpB = ['12', '13', '14', '15', '16', '17', '18'];\n\n            this.getPatronGrp = function() {\n                if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\n                    let patron = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\n                    if (!this.exclude.includes(patron)) {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                }\n                return false;\n            }\n\n            this.grpLabelA = function() {\n                if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\n                    let labelA = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\n                    if (this.grpA.includes(labelA)) {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                }\n                return false;\n            }\n\n\n            this.grpLabelB = function() {\n                if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\n                    let labelB = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\n                    if (this.grpB.includes(labelB)) {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                }\n                return false;\n            }\n\n            this.buttonMove = function() {\n                let parentElement = angular.element(document.querySelector('md-card > md-card-content > prm-personal-settings > prm-personal-settings-after'));\n                let element = angular.element(document.querySelector('#SLSPeditPersonalDetails'));\n                parentElement.append(element);\n            }\n\n            \n\n\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: EditPersonalDetailsController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n    getLanguage() {\n        let sms = this.$rootScope.$$childHead.$ctrl.userSessionManagerService;\n        \n        if (!sms) {\n            return 'en';\n        } else {\n            return sms.getUserLanguage() || this.$window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n        }\n    }\n}\n\nslspEditPersonalDetailsController.$inject = ['$scope', '$element', '$rootScope', '$window'];","import {slspEditPersonalDetailsController} from './slsp-edit-personal-details.controller';\nimport {slspEditPersonalDetailsHtml} from './slsp-edit-personal-details.html';\n\n\nexport const slspEditPersonalDetailsModule = angular\n    .module('slspEditPersonalDetailsModule', [])\n        .controller('slspEditPersonalDetailsController', slspEditPersonalDetailsController)\n        .component('slspEditPersonalDetailsComponent', {\n            bindings: {afterCtrl: '<'},\n            controller: 'slspEditPersonalDetailsController',\n            template: slspEditPersonalDetailsHtml\n        })","//-----------------------------------------------\n\nexport class slspInvoicesController {\n\n    constructor($scope, $element, $rootScope, $window, $http, $timeout, $compile, $location, $translate, $interval) {\n        this.$scope = $scope;\n        this.$element = $element;\n        this.$rootScope = $rootScope;\n        this.$window = $window;\n        this.$http = $http;\n        this.$timeout = $timeout;\n        this.$compile = $compile;\n        this.$location = $location;\n        this.$translate = $translate;\n        this.$interval = $interval;\n        this.invoices = [];\n        this.isLoading = false;\n        this.refreshInterval = null; // Store interval reference for cleanup\n\n        // Translation object for tab name\n        this.tabLabels = {\n            'de': 'Rechnungen',\n            'en': 'Invoices',\n            'fr': 'Factures',\n            'it': 'Fatture'\n        };\n    }\n\n    fetchInvoices() {\n        const apiUrl = 'https://inv-slsp.bossonline.ch:21143/jrpc/slsp/getInvoices';\n        const jwt = sessionStorage.getItem('primoExploreJwt').slice(1, -1);\n\n        const postData = {\n            jsonrpc: '2.0',\n            method: 'getInvoices',\n            params: {},\n            id: 1\n        };\n\n        const config = {\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'token': jwt\n            },\n            withCredentials: false,\n            cache: false\n        };\n\n        this.$http.post(apiUrl, postData, config)\n            .then(response => {\n\n                if (response && response.data && response.data.data) {\n                    this.invoices = response.data.data;\n                    console.log('Invoices loaded:', this.invoices.length);\n\n                    this.$timeout(() => {\n                        this.$scope.$apply();\n                    });\n                } else {\n                    console.error('Invalid response format received');\n                    this.invoices = [];\n                }\n            })\n            .catch(error => {\n                console.error('Invoice fetch error:', {\n                    status: error.status,\n                    statusText: error.statusText\n                });\n                this.invoices = [];\n                this.$timeout(() => {\n                    this.$scope.$apply();\n                });\n            });\n    }\n\n    fetchPdf(documentLink, event, retryCount = 0, existingWindow = null) {\n        // Check if middle mouse button (mousewheel click) was used\n        const isMiddleClick = event && event.button === 1;\n\n        // Check if existing window is still valid and open\n        let newWindow;\n        let isReusingWindow = false;\n\n        if (existingWindow && !existingWindow.closed) {\n            // Reuse the existing window (loading spinner already visible)\n            newWindow = existingWindow;\n            isReusingWindow = true;\n        } else {\n            // Open a new window (need to write loading HTML)\n            newWindow = this.$window.open('', '_blank');\n        }\n\n        // Write loading HTML to new windows only (not when reusing)\n        if (!isReusingWindow && newWindow && newWindow.document) {\n            newWindow.document.open();\n            newWindow.document.write(`\n                <!DOCTYPE html>\n                <html>\n                <head>\n                    <title>Loading PDF...</title>\n                    <style>\n                        body {\n                            margin: 0;\n                            padding: 0;\n                            display: flex;\n                            justify-content: center;\n                            align-items: center;\n                            height: 100vh;\n                            font-family: Arial, sans-serif;\n                            background-color: #f5f5f5;\n                        }\n                        .loader-container {\n                            text-align: center;\n                        }\n                        .spinner {\n                            border: 4px solid #f3f3f3;\n                            border-top: 4px solid #3498db;\n                            border-radius: 50%;\n                            width: 50px;\n                            height: 50px;\n                            animation: spin 1s linear infinite;\n                            margin: 0 auto 20px;\n                        }\n                        @keyframes spin {\n                            0% { transform: rotate(0deg); }\n                            100% { transform: rotate(360deg); }\n                        }\n                        .loading-text {\n                            color: #555;\n                            font-size: 18px;\n                        }\n                    </style>\n                </head>\n                <body>\n                    <div class=\"loader-container\">\n                        <div class=\"spinner\"></div>\n                        <div class=\"loading-text\">Loading PDF...</div>\n                    </div>\n                </body>\n                </html>\n            `);\n            newWindow.document.close();\n        }\n\n        const jwt = sessionStorage.getItem('primoExploreJwt').slice(1, -1);\n        const documentId = documentLink.split('/').pop();\n\n        // Use GET request with JWT token in header\n        const config = {\n            headers: {\n                'token': jwt\n            },\n            responseType: 'arraybuffer',\n            cache: false\n        };\n\n        return this.$http.get(documentLink, config)\n            .then(response => {\n\n                const blob = new Blob([response.data], {\n                    type: 'application/pdf'\n                });\n\n                // Create blob URL and redirect the opened window to it\n                const fileURL = this.$window.URL.createObjectURL(blob);\n\n                if (newWindow && !newWindow.closed) {\n                    newWindow.location.href = fileURL;\n                }\n\n                // Cleanup after a longer delay to ensure PDF has fully loaded\n                // PDFs can take time to render, especially large ones\n                this.$timeout(() => {\n                    this.$window.URL.revokeObjectURL(fileURL);\n                }, 30000);\n            })\n            .catch(error => {\n                // Try to read the error response even though responseType is 'blob'\n                if (error.data instanceof Blob) {\n                    const reader = new FileReader();\n                    reader.onload = () => {\n                        console.error('PDF fetch error (blob response):', {\n                            status: error.status,\n                            statusText: error.statusText\n                        });\n                    };\n                    reader.readAsText(error.data);\n                } else {\n                    console.error('PDF fetch error:', {\n                        status: error.status,\n                        statusText: error.statusText\n                    });\n                }\n\n                // Retry logic for 500 errors\n                if (error.status === 500 && retryCount === 0) {\n                    // Keep the window open and retry with the same window\n                    this.$timeout(() => {\n                        this.fetchPdf(documentLink, event, 1, newWindow);\n                    }, 1000);\n                    return; // Don't show error alert yet - window stays open with loading spinner\n                }\n\n                // Close the blank window if it was opened\n                if (newWindow && !newWindow.closed) {\n                    newWindow.close();\n                }\n\n                // Show error alert\n                this.$timeout(() => {\n                    if (error.status === -1) {\n                        this.$window.alert('Unable to access PDF. Please try again later.');\n                    } else if (error.status === 500) {\n                        this.$window.alert('Server error while fetching PDF. The retry also failed. Please try again later or contact support.');\n                    } else {\n                        this.$window.alert('Could not load PDF. Please try again later.');\n                    }\n                }, 0);\n            });\n    }\n\n\n    addCustomTab() {\n        const tabsContainer = angular.element(document.querySelector('md-tabs'));\n        const tabsCtrl = tabsContainer.controller('mdTabs');\n\n        if (!tabsCtrl || !tabsCtrl.tabs) {\n            console.error('mdTabs controller not found or tabs undefined');\n            return;\n        }\n\n        // Get current language and translated label\n        const currentLang = this.$translate.use() || 'de';\n        const translatedLabel = this.tabLabels[currentLang] || this.tabLabels['de'];\n\n        const tabExists = tabsCtrl.tabs.some(tab => tab.scope && tab.scope.$ctrl === this);\n        if (tabExists) {\n            return;\n        }\n\n        // Neuen Scope erstellen\n        const newScope = this.$scope.$new();\n        newScope.label = translatedLabel;\n        newScope.$ctrl = this;\n        newScope.select = function() { };\n        newScope.deselect = function() { };\n\n\n        // Tab Template (nur die Vorlage)\n        const template = `\n            <div class=\"padding-large\">\n                <h2 translate=\"customized.invoices\"></h2>\n                 <md-card class=\"bar alert-bar\" style=\"height: unset; min-height: unset;\"><div translate=\"customized.invoices.alert\"></div></md-card>    \n                <div ng-if=\"$ctrl.isLoading\">\n                    <md-progress-circular md-mode=\"indeterminate\"></md-progress-circular>\n                    <span translate=\"customized.download.invoices\">Lade Rechnungen</span>\n                </div>\n                <div ng-if=\"!$ctrl.isLoading && !$ctrl.invoices.length\">\n                    <span translate=\"customized.no.invoices\">Keine Rechnungen gefunden</span>\n                </div>\n                <md-list ng-if=\"!$ctrl.isLoading && $ctrl.invoices.length\">\n                    <md-list-item\n                        ng-repeat=\"invoice in $ctrl.invoices\"\n                        layout=\"row\"\n                        layout-align=\"space-between center\"\n                        style=\"margin-bottom: 16px; border-bottom: 1px solid #e0e0e0; padding-bottom: 16px;\">\n                        <div class=\"md-list-item-text\" flex>\n                            <h3><span translate=\"customized.invoice\">Rechnung</span> #{{ invoice.invoiceNumber }}</h3>\n                            <p style=\"margin-bottom: 4px; padding-left: 16px;\"><span translate=\"customized.date\">Datum</span> {{ invoice.invoiceDate }}</p>\n                            <p style=\"margin-bottom: 4px; padding-left: 16px;\"><span translate=\"customized.amount\">Betrag</span> {{ invoice.invoiceAmount }} CHF</p>\n                        </div>\n                        <div>\n                            <md-button class=\"md-raised md-primary\" ng-mousedown=\"$ctrl.fetchPdf(invoice.documentLink, $event)\" translate=\"customized.view.pdf\">\n                                PDF anzeigen\n                            </md-button>\n                        </div>\n                    </md-list-item>\n                </md-list>\n            </div>\n        `;\n\n        // Komplette md-tab-content-Struktur bauen\n        const tabContentId = 'tab-content-13';\n        const tabContentTemplate = `\n        <md-tab-content id=\"${tabContentId}\"\n            class=\"_md md-no-scroll\"\n            role=\"tabpanel\"\n            aria-labelledby=\"customTab\"\n            md-swipe-left=\"$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)\"\n            md-swipe-right=\"$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)\"\n            ng-class=\"{\n                'md-active': tab.isActive(),\n                'md-left': tab.isLeft(),\n                'md-right': tab.isRight(),\n                'md-no-scroll': true\n            }\"\n            ng-if=\"tab.hasContent !== false\">\n            ${template}\n        </md-tab-content>\n        `;\n\n        // Kompilieren\n        const compiledTabContent = this.$compile(tabContentTemplate)(newScope);\n\n        // Index fr den neuen Tab bestimmen\n        const index = tabsCtrl.tabs.length;\n\n        // Tab-Objekt\n        const newTab = {\n            scope: newScope,\n            label: translatedLabel,\n            parent: { label: translatedLabel },\n            getIndex: () => index,\n            isActive: () => tabsCtrl.selectedIndex === index,\n            isLeft: () => tabsCtrl.selectedIndex > index,\n            isRight: () => tabsCtrl.selectedIndex < index,\n            hasFocus: () => false,\n            element: compiledTabContent\n        };\n        // Push Tab + Template in DOM-Struktur, die Angular erwartet\n        tabsCtrl.tabs.push(newTab);\n\n        // INS md-tabs-content-wrapper einfgen\n        const contentWrapper = document.querySelector('md-tabs-content-wrapper');\n        if (contentWrapper) {\n            angular.element(contentWrapper).append(compiledTabContent);\n        } else {\n            tabsContainer.append(compiledTabContent);\n        }\n\n        newScope.tab = newTab;\n\n        // Watch for language changes and update tab label\n        this.$rootScope.$on('$translateChangeSuccess', () => {\n            const currentLang = this.$translate.use() || 'de';\n            const translatedLabel = this.tabLabels[currentLang] || this.tabLabels['de'];\n\n            // Update all label references\n            newScope.label = translatedLabel;\n            newTab.label = translatedLabel;\n            newTab.parent.label = translatedLabel;\n\n            // Force tab refresh to show new label\n            this.$timeout(() => {\n                if (tabsCtrl.refreshInkBar) {\n                    tabsCtrl.refreshInkBar();\n                }\n                // Force Angular to re-render the tabs\n                this.$scope.$apply();\n            }, 0);\n        });\n\n        // Angular aktualisieren\n        this.$timeout(() => {\n            if (tabsCtrl.pagination && typeof tabsCtrl.pagination.updateVisible === 'function') {\n                tabsCtrl.pagination.updateVisible();\n            }\n            if (typeof tabsCtrl.refreshInkBar === 'function') {\n                tabsCtrl.refreshInkBar();\n            }\n\n            this.$scope.$applyAsync();\n        }, 0);\n\n        // Daten laden\n        if (!this.invoices.length) {\n            this.fetchInvoices();\n        }\n    }\n\n\n    updatePagination() {\n        const tabsContainer = angular.element(document.querySelector('md-tabs'));\n        const tabsCtrl = tabsContainer.controller('mdTabs');\n        if (tabsCtrl && tabsCtrl.pagination) {\n            tabsCtrl.pagination.shouldPageForward = true;\n            tabsCtrl.pagination.shouldPageBack = true;\n            tabsCtrl.pagination.updatePagination();\n        }\n    }\n\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n\n            this.invoices = [];\n            this.isLoading = false;\n\n            this.$timeout(() => {\n                this.addCustomTab();\n                // Update tab pagination after adding the new tab\n                this.updatePagination();\n            }, 500);\n\n            // Setup auto-refresh for invoices every 10 minutes (600000 milliseconds)\n            this.refreshInterval = this.$interval(() => {\n                console.log('Auto-refreshing invoices...');\n                this.fetchInvoices();\n            }, 600000); // 10 minutes\n\n            // Cleanup interval when controller is destroyed\n            this.$scope.$on('$destroy', () => {\n                if (this.refreshInterval) {\n                    console.log('Cancelling invoice auto-refresh interval');\n                    this.$interval.cancel(this.refreshInterval);\n                    this.refreshInterval = null;\n                }\n            });\n\n        } catch (e) {\n            console.error(\"***SLSP*** an initialization error occured: InvoicesController\\n\\n\");\n            // console.error(e.message);\n        }\n    }\n\n}\n\nslspInvoicesController.$inject = ['$scope', '$element', '$rootScope', '$window', '$http', '$timeout', '$compile', '$location', '$translate', '$interval'];\n","import {slspInvoicesController} from './slsp-invoices.controller';\n\n\nexport const slspInvoicesModule = angular\n    .module('slspInvoicesModule', [])\n        .controller('slspInvoicesController', slspInvoicesController)\n        .component('slspInvoicesComponent', {\n            bindings: {afterCtrl: '<'},\n            controller: 'slspInvoicesController'\n        })","import {slspEditPersonalDetailsModule} from './slsp-edit-personal-details/slsp-edit-personal-details.module';\nimport { slspInvoicesModule } from './slsp-invoices/slsp-invoices.module';\n\n\nexport const slspPersonalInfoAfterModule = angular\n    .module('slspPersonalInfoAfterModule', [])\n        .component('prmPersonalInfoAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-edit-personal-details-component after-ctrl=\"$ctrl\" id=\"SLSPeditPersonalDetails\"></slsp-edit-personal-details-component>     <slsp-invoices-component after-ctrl=\"$ctrl\"></slsp-invoices-component><slsp-personal-info-after parent-ctrl=\"$parent.$ctrl\"></slsp-personal-info-after>`\n        });\n\n        slspPersonalInfoAfterModule.requires.push(slspEditPersonalDetailsModule.name);\n        slspPersonalInfoAfterModule.requires.push(slspInvoicesModule.name);\n\n","export class bcuFeesLinkController {\n    constructor($element) {\n        this.$element = $element[0];\n        this.form = this.$element.parentElement.parentElement;\n        this.display = false;\n    }\n\n    $doCheck() {\n        let form = false;\n\n        if (this.form.children[0].children[1] !== undefined && this.form.children[0].children[1].children[0] !== undefined) {\n            form = this.form.children[0].children[1].children[0];\n        } else if (this.form.children[0].children[0] !== undefined && this.form.children[0].children[0].children[0] !== undefined) {\n            form = this.form.children[0].children[0].children[0];\n        }\n\n        if (form && form.children.length >= 2 && this.afterCtrl.parentCtrl.serviceType !== 'AlmaPurchaseRequest') {\n            if (!this.display) {\n                this.display = true;\n                let info = document.createElement('DIV');\n                info.className = \"courier-info bar alert-bar\";\n                info.innerHTML =\n                    `<div class=\"digitization-form\"><h4>${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesTitle')}</h4>\n                    <p>${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesInfo')}</p>\n                    <p><a href=\"${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesUrl')}\"\n                    target=\"_blank\">${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesLinkText')}</a></p></div>\n                    <div class=\"ill-form\"><div>${this.afterCtrl.parentCtrl.$translate.instant('customize.fees.ill1')}</div>\n                    <div>${this.afterCtrl.parentCtrl.$translate.instant('customize.fees.ill2')}</div></div>`;\n                form.insertBefore(info, form.children[form.children.length - 1]);\n            }\n        } else {\n            if (this.display) {\n                this.display = false;\n                let feesInfo = this.form.querySelector('.courier-info.bar.alert-bar');\n                if (feesInfo) {\n                    feesInfo.remove();\n                }\n            }\n        }\n    }\n}\n\nbcuFeesLinkController.$inject = ['$element'];\n","\n    import {bcuFeesLinkController} from './bcu-fees-link.controller';\n\n\n    export const bcuFeesLinkModule = angular\n        .module('bcuFeesLinkModule', [])\n            .controller('bcuFeesLinkController', bcuFeesLinkController)\n            .component('bcuFeesLinkComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'bcuFeesLinkController',\n                \n            })","export class slspAlmaRequestController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n    $doCheck() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n\n                if (this.parentCtrl.serviceType == 'AlmaRequest' || this.parentCtrl.serviceType == 'AlmaItemRequest' || this.parentCtrl.serviceType == 'AlmaRequestAnyItem' || this.parentCtrl.serviceType == 'AlmaRequestOther') {\n\n                    this.requestLoan = requestLoan;\n                    let requestLoan = document.querySelectorAll('prm-opac form[name=\"requestForm\"]');\n                    \n                    angular.element(requestLoan).addClass('almaRequestLoan');\n\n                }\n\n                else if (this.parentCtrl.serviceType == 'AlmaDigitization' || this.parentCtrl.serviceType == 'AlmaDigitizationOther' || this.parentCtrl.serviceType == 'AlmaGeneralDigitization' || this.parentCtrl.serviceType == 'AlmaItemDigitization' || this.parentCtrl.serviceType == 'AlmaResourceSharing' ) {\n                    this.requestDigi = requestDigi;\n                    let requestDigi = document.querySelectorAll('prm-opac form[name=\"requestForm\"]');\n                    angular.element(requestDigi).removeClass('almaRequestLoan');\n                }\n\n            } catch (e) {\n                console.error(\"***SLSP*** an error occured: slspAlmaRequestController \\n\\n\");\n                console.error(e.message);\n            }\n        }\n    \n    \n    }\n    \n\n            \n\nslspAlmaRequestController.$inject = ['$scope', '$compile', '$timeout'];","\n    import {slspAlmaRequestController} from './slsp-alma-request.controller';\n\n\n    export const slspAlmaRequestModule = angular\n        .module('slspAlmaRequestModule', [])\n            .controller('slspAlmaRequestController', slspAlmaRequestController)\n            .component('slspAlmaRequestComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspAlmaRequestController',\n                \n            })\n\n","import {bcuFeesLinkModule} from './bcu-fees-link/bcu-fees-link.module';\nimport {slspAlmaRequestModule} from './slsp-alma-request/slsp-alma-request.module';\n\n\nexport const slspRequestAfterModule = angular\n    .module('slspRequestAfterModule', [])\n        .component('prmRequestAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<bcu-fees-link-component after-ctrl=\"$ctrl\"></bcu-fees-link-component>\n            <slsp-alma-request-component after-ctrl=\"$ctrl\"></slsp-alma-request-component>\n            <slsp-request-after parent-ctrl=\"$parent.$ctrl\"></slsp-request-after>`\n        });\n\nslspRequestAfterModule.requires.push(bcuFeesLinkModule.name);\nslspRequestAfterModule.requires.push(slspAlmaRequestModule.name);\n","//--------RequestCancelButton ---------------------------------------\n\n\nexport class slspRequestCancelButtonController {\n\n    constructor($scope) {\n        this.$scope = $scope;\n\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n\n            this.$scope.$watch('this.$ctrl.parentCtrl.requestsDisplay', (currentRequestArray) => {\n\n                if (angular.isArray(currentRequestArray) && currentRequestArray.length > 0)\n\n                    angular.forEach(currentRequestArray, (request) => {\n\n\n                    if (request.requestType === 'ill') {\n                        if (request.statusCode === 'DELIVERED' ||\n                            request.statusCode === 'LOST_COMMUNICATED' ||\n                            request.statusCode === 'RECALLED_BOR' ||\n                            request.statusCode === 'RECEIVED_DIGITALLY' ||\n                            request.statusCode === 'RECEIVED_NOT_FOR_LOAN' ||\n                            request.statusCode === 'RECEIVED_PHYSICALLY' ||\n                            request.statusCode === 'RENEWED' ||\n                            request.statusCode === 'RENEW_NOT_ACCEPTED' ||\n                            request.statusCode === 'RENEW_REQUESTED' ||\n                            request.statusCode === 'REQUEST_COMPLETED' ||\n                            request.statusCode === 'SHIPPED_DIGITALLY' ||\n                            request.statusCode === 'SHIPPED_PHYSICALLY') {\n\n                            request.isCancelable = false;\n\n                        } else {\n                            request.isCancelable = true;\n                        }\n                    }\n                })\n            })\n          \n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: RequestCancelButton \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n\n}\n\nslspRequestCancelButtonController.$inject = ['$scope'];","\n    import {slspRequestCancelButtonController} from './slsp-request-cancel-button.controller';\n    \n\n    export const slspRequestCancelButtonModule = angular\n        .module('slspRequestCancelButtonModule', [])\n            .controller('slspRequestCancelButtonController', slspRequestCancelButtonController)\n            .component('slspRequestCancelButtonComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspRequestCancelButtonController',\n                \n            })","import { slspRequestCancelButtonModule } from './slsp-request-cancel-button/slsp-request-cancel-button.module';\n\nexport const slspRequestsAfterModule = angular\n    .module('slspRequestsAfterModule', [])\n    .component('prmRequestsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-request-cancel-button-component after-ctrl=\"$ctrl\"></slsp-request-cancel-button-component>\n            <slsp-requests-after parent-ctrl=\"$parent.$ctrl\"></slsp-requests-after>\n            `\n    });\n\n\nslspRequestsAfterModule.requires.push(slspRequestCancelButtonModule.name);","import {bcuSearchSlotsModule} from './bcu-search-slots/bcu-search-slots.module';\nimport {slspRaBetaIconModule} from './slsp-ra-beta-icon/slsp-ra-beta-icon.module';\n\nexport const bcuSearchBarAfterModule = angular\n    .module('bcuSearchBarAfterModule', [])\n        .component('prmSearchBarAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<bcu-search-slots-component after-ctrl=\"$ctrl\"></bcu-search-slots-component>\n                       <slsp-ra-beta-icon-component after-ctrl=\"$ctrl\"></slsp-ra-beta-icon-component>\n                       <slsp-search-bar-after parent-ctrl=\"$parent.$ctrl\"></slsp-search-bar-after>`\n\n        });\n\nbcuSearchBarAfterModule.requires.push(bcuSearchSlotsModule.name);\nbcuSearchBarAfterModule.requires.push(slspRaBetaIconModule.name);\n\n\n","export class bcuSearchSlotsController {\n\n    $onInit() {\n        this.parentCtrl = this.afterCtrl.parentCtrl;\n        this.parentCtrl.showTabsAndScopes = true;\n\n        //add the institution code as a class to the primo-explore element\n        let instClass = this.parentCtrl.jwtUtilService.getInstitutionCode();\n        let institution = angular.element(document.querySelector('primo-explore'));\n        return institution.addClass(instClass);\n\n    };\n\n}\n","/**\n* @ngdoc module\n* @name bcuSearchSlotsModule\n*\n* @description\n*\n* Customization for the search bar:<br>\n* - Tabs and scopes are displayed even if the search has not yet taken place (empty searchfield).\n*\n* <b>AngularJS Dependencies</b><br>\n*\n*\n* <b>CSS/Image Dependencies</b><br>\n*\n*\n* @example\n*\n*/\nimport {bcuSearchSlotsController} from './bcu-search-slots.controller';\n\nexport const bcuSearchSlotsModule = angular\n    .module('bcuSearchSlotsModule', [])\n        .controller('bcuSearchSlotsController', bcuSearchSlotsController)\n        .component('bcuSearchSlotsComponent',  {\n            bindings: {afterCtrl: '<'},\n            controller: 'bcuSearchSlotsController'\n        })\n","export class slspRaBetaIconController {\n    constructor($scope, $compile) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.filterLabel = `<div class=\"raBetaLogo\">BETA</div>`;\n        this.aiLogoAppended = false;\n    }\n\n    $doCheck() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n\n            // Check if the filter button exists\n            let aiLogoElements = document.querySelectorAll('div[ng-if=\"::$ctrl.isResearchAssistantByIcon\"] .md-button.button-link');\n\n            if (aiLogoElements.length > 0) {\n                let aiLogoElement = aiLogoElements[0];\n                if (!aiLogoElement.querySelector('.raBetaLogo')) {\n                    angular.element(aiLogoElement).append(this.$compile(this.filterLabel)(this.$scope));\n                    //console.log(aiLogoElements);\n                }\n                this.aiLogoAppended = true;\n            }\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: slspRaBetaIconController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nslspRaBetaIconController.$inject = ['$scope', '$compile'];\n","\nimport {slspRaBetaIconController} from './slsp-ra-beta-icon.controller';\n\nexport const slspRaBetaIconModule = angular\n    .module('slspRaBetaIconModule', [])\n        .controller('slspRaBetaIconController', slspRaBetaIconController)\n        .component('slspRaBetaIconComponent',  {\n            bindings: {afterCtrl: '<'},\n            controller: 'slspRaBetaIconController'\n        })\n","import { slspTopPaginationSwitchModule } from './slsp-top-pagination-switch/slsp-top-pagination-switch.module';\n\nexport const prmSearchResultListAfterModule = angular\n    .module('prmSearchResultListAfterModule', [])\n    .component('prmSearchResultListAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-top-pagination-switch-component after-ctrl=\"$ctrl\"></slsp-top-pagination-switch-component>\n            <slsp-search-result-list-after parent-ctrl=\"$parent.$ctrl\"></<slsp-search-result-list-after>`\n    });\n\n\nprmSearchResultListAfterModule.requires.push(slspTopPaginationSwitchModule.name);","\n\nexport class slspTopPaginationSwitchController {\n\n    constructor($scope) {\n        this.$scope = $scope;\n\n    }\n \n    $onInit() {\n        try {\n               this.parentCtrl = this.afterCtrl.parentCtrl;\n\n               //console.log(this.parentCtrl);\n               this.parentCtrl.enableTopPagination = true;\n               //this.parentCtrl.hidePageNumber();\n    \n       \n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: slsp-top-pagination-switch hide Library\\n\\n\");\n            console.error(e.message);\n        }\n    }\n    \n    \n}\n\nslspTopPaginationSwitchController.$inject = ['$scope'];","import { slspTopPaginationSwitchController } from './slsp-top-pagination-switch.controller';\n\n\nexport const slspTopPaginationSwitchModule = angular\n    .module('slspTopPaginationSwitchModule', [])\n    .controller('slspTopPaginationSwitchController', slspTopPaginationSwitchController)\n    .component('slspTopPaginationSwitchComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspTopPaginationSwitchController'\n        \n\n    })","import { slspTopPaginationSwitchModule } from './slsp-top-pagination-switch/slsp-top-pagination-switch.module';\n\nexport const prmSearchResultToolBarAfterModule = angular\n    .module('prmSearchResultToolBarAfterModule', [])\n    .component('prmSearchResultToolBarAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-top-pagination-switch-component after-ctrl=\"$ctrl\"></slsp-top-pagination-switch-component>\n            <slsp-search-result-tool-bar-after parent-ctrl=\"$parent.$ctrl\"></<slsp-search-result-tool-bar-after>`\n    });\n\n\nprmSearchResultToolBarAfterModule.requires.push(slspTopPaginationSwitchModule.name);","\n\nexport class slspTopPaginationSwitchController {\n\n    constructor($scope) {\n        this.$scope = $scope;\n\n    }\n \n    $onInit() {\n        try {\n               this.parentCtrl = this.afterCtrl.parentCtrl;\n\n               //console.log(this.parentCtrl);\n               this.parentCtrl.enableTopPagination = false;\n               //this.parentCtrl.hidePageNumber();\n    \n       \n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: slsp-top-pagination-switch hide Library\\n\\n\");\n            console.error(e.message);\n        }\n    }\n    \n    \n}\n\nslspTopPaginationSwitchController.$inject = ['$scope'];","import { slspSendEmailInfoModule } from './slsp-send-email-info/slsp-send-email-info.module';\n\nexport const prmSendEmailAfterModule = angular\n    .module('prmSendEmailAfterModule', [])\n    .component('prmSendEmailAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-send-email-info-component after-ctrl=\"$ctrl\"></slsp-send-email-info-component>\n            <slsp-send-email-after parent-ctrl=\"$parent.$ctrl\"></<slsp-send-email-after>`\n    });\n\n\nprmSendEmailAfterModule.requires.push(slspSendEmailInfoModule.name);","\n\nexport class slspSendEmailInfoController {\n\n    constructor( $scope, $compile) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.sendEmailInfoLabel = '<div class=\"send-email-info-box\"><span translate=\"customized.email.infobox\"></span></div>';\n        \n    }\n \n    $onInit() {\n        try {\n            \n            this.parentCtrl = this.afterCtrl.parentCtrl;\n\n            let sendEmailForm = angular.element(document.querySelectorAll(`form[name=\"emailForm\"]`));\n\n            if (sendEmailForm && !sendEmailForm.html().includes('customized.email.infobox')) {\n                let compiledHtml = this.$compile(this.sendEmailInfoLabel)(this.$scope);\n                sendEmailForm.prepend(compiledHtml);\n            }\n            \n            \n            console.log(this.parentCtrl);\n            console.log(this.parentCtrl.jwtUtilService.getDecodedToken());\n            console.log(this.parentCtrl.jwtUtilService.decodeJWT());\n    \n      \n    \n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: slspSendEmailInfoController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n    \n    \n}\n\nslspSendEmailInfoController.$inject = [ '$scope', '$compile'];","import { slspSendEmailInfoController } from './slsp-send-email-info.controller';\nimport { slspSendEmailInfoHtml } from './slsp-send-email-info.html';\n\nexport const slspSendEmailInfoModule = angular\n    .module('slspSendEmailInfoModule', [])\n    .controller('slspSendEmailInfoController', slspSendEmailInfoController)\n    .component('slspSendEmailInfoComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspSendEmailInfoController',\n        template: slspSendEmailInfoHtml\n\n    })","\nimport { slspDigitizationButtonLabelModule } from './slsp-digitization-button-label/slsp-digitization-button-label.module';\nimport { slspReservationButtonModule } from './slsp-reservation-button/slsp-reservation-button.module';\n\nexport const prmServiceButtonAfterModule = angular\n    .module('prmServiceButtonAfterModule', [])\n    .component('prmServiceButtonAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `<slsp-digitization-button-label-component after-ctrl=\"$ctrl\"></slsp-digitization-button-label-component>\n                     <slsp-reservation-button-component after-ctrl=\"$ctrl\"></slsp-reservation-button-component>\n        <slsp-service-button-after parent-ctrl=\"$parent.$ctrl\"></slsp-service-button-after>`\n    });\n\nprmServiceButtonAfterModule.requires.push(slspDigitizationButtonLabelModule.name);\nprmServiceButtonAfterModule.requires.push(slspReservationButtonModule.name);\n","//--------slspDigitizationButtonLabelController ---------------------------------------\n\n\nexport class slspDigitizationButtonLabelController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n                //console.log(this.parentCtrl);\n                if (this.parentCtrl.service.type !== undefined && this.parentCtrl.service.type === 'AlmaDigitization') {\n\n                    this.digiButtonLabel = digiButtonLabel;\n                    let digiButtonLabel = document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate=\"AlmaDigitization\"]');\n                    let html = `<div class=\"DigiButtonLabel1\">CHF</div>`;\n\n                    angular.element(digiButtonLabel).after(html).addClass('digiButton');\n                }\n\n\n                if (this.parentCtrl.service.type !== undefined && this.parentCtrl.service.type === 'AlmaGeneralDigitization') {\n\n                    this.digiButtonLabel = digiButtonLabel;\n                    let digiButtonLabel = document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate=\"AlmaGeneralDigitization\"]');\n                    let html = `<div class=\"DigiButtonLabel1\">CHF</div>`;\n\n                    angular.element(digiButtonLabel).after(html).addClass('digiButton');\n                }\n\n\n                if (this.parentCtrl.service.type !== undefined && this.parentCtrl.service.type === 'AlmaItemDigitization') {\n                    this.digiItemButtonLabel = digiItemButtonLabel;\n                    let digiItemButtonLabel = document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate=\"AlmaItemDigitization\"]');\n\n                    //let htmlItem = `<div class=\"DigiButtonLabel\" translate=\"customized.fee.digi\"></div>`;\n\n\n                    angular.element(digiItemButtonLabel).append(`<div class=\"DigiButtonLabel\">CHF</div>`).addClass('digiButton');\n                }else {\n                    return\n                }\n                \n            }, 20);\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n\n}\n\nslspDigitizationButtonLabelController.$inject = ['$scope', '$compile', '$timeout'];","\n    import {slspDigitizationButtonLabelController} from './slsp-digitization-button-label.controller';\n    import {slspDigitizationButtonLabelHtml} from './slsp-digitization-button-label.html';\n\n    export const slspDigitizationButtonLabelModule = angular\n        .module('slspDigitizationButtonLabelModule', [])\n            .controller('slspDigitizationButtonLabelController', slspDigitizationButtonLabelController)\n            .component('slspDigitizationButtonLabelComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspDigitizationButtonLabelController',\n                template: slspDigitizationButtonLabelHtml\n            })","//--------slspReservationButtonController ---------------------------------------\n\n\nexport class slspReservationButtonController {\n\n    constructor($scope, $compile, $timeout, $rootScope, $window, $element) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n        this.$rootScope = $rootScope;\n        this.$window = $window;\n        this.$element = $element;\n        this.itemReservationLabel = '<span translate=\"customized.rapido.reservation\"></span>';\n    }\n\n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n    \n                let language = this.getLanguage();\n                let serviceType = this.parentCtrl.service.type;\n                let statusName = this.parentCtrl.requestParameters.itemstatusname;\n    \n                // Hier das DOM-Element der Angular-Komponente abrufen\n                let currentElement = this.$element[0];\n    \n                // Das Elternelement (\"md-list-item\") der Angular-Komponente abrufen\n                let prmOpacElement = currentElement.closest('md-list-item');\n                //console.log('prmOpacElement', prmOpacElement);\n                // berprfen, ob prmOpacElement vorhanden ist\n                if (prmOpacElement) {\n                    // Den Button innerhalb des aktuellen \"md-list-item\" Teils auswhlen\n                    let itemReservationButton = prmOpacElement.querySelector('prm-service-button button span[data-qa=\"AlmaItemRequest\"]');\n    \n                    //  console.log('this.parentCtrl', this.parentCtrl);\n                    //  console.log('language', language);\n                    //  console.log('serviceType', serviceType);\n                    //  console.log('statusName', statusName);\n    \n                    // Check conditions and execute code if necessary\n                    if (serviceType === 'AlmaItemRequest' &&\n                        ((language === 'de' && statusName !== 'Exemplar ist vorhanden') ||\n                            (language === 'fr' && statusName !== 'Exemplaire en rayon') ||\n                            (language === 'it' && statusName !== 'Copia a scaffale') ||\n                            (language === 'en' && statusName !== 'Item in place'))) {\n    \n                        let compiledHtml = this.$compile(this.itemReservationLabel)(this.$scope);\n                        angular.element(itemReservationButton).replaceWith(compiledHtml);\n    \n                        // Execute your code here\n                        //console.log('Condition met. Executing code...');\n                    }\n                } else {\n                    //console.warn('md-list-item element not found.');\n                }\n    \n            }, 0);\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\n            console.error(e.message);\n        }\n    }\n    \n\n    getLanguage() {\n        let sms = this.$rootScope.$$childHead.$ctrl.userSessionManagerService;\n\n        if (!sms) {\n            return 'en';\n        } else {\n            return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n        }\n    }\n\n}\n\nslspReservationButtonController.$inject = ['$scope', '$compile', '$timeout', '$rootScope', '$window', '$element'];\n\n\n//Exemplar ist vorhanden\n//Exemplaire en rayon\n//Copia a scaffale\n//Item in place","\n    import {slspReservationButtonController} from './slsp-reservation-button.controller';\n    import {slspReservationButtonHtml} from './slsp-reservation-button.html';\n\n    export const slspReservationButtonModule = angular\n        .module('slspReservationButtonModule', [])\n            .controller('slspReservationButtonController', slspReservationButtonController)\n            .component('slspReservationButtonComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspReservationButtonController',\n                template: slspReservationButtonHtml\n            })\n            ","import { slspCollapseDetailsModule } from './slsp-collapse-details/slsp-collapse-details.module';\n\nexport const prmServiceDetailsAfterModule = angular\n    .module('prmServiceDetailsAfterModule', [])\n    .component('prmServiceDetailsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-collapse-details-component after-ctrl=\"$ctrl\"></slsp-collapse-details-component>\n            <slsp-service-details-after parent-ctrl=\"$parent.$ctrl\"></<slsp-service-details-after>`\n    });\n\n\nprmServiceDetailsAfterModule.requires.push(slspCollapseDetailsModule.name);","export const hsgTranslatorService = ['$rootScope', '$log',\n\tfunction ($rootScope, $log) {\n\t\tthis.defaultLang = 'de'\n\n\t\tthis.getLang = function () {\n\t\t\tlet sms = $rootScope.$$childHead.$ctrl.userSessionManagerService\n\t\t\tif (!sms) {\n\t\t\t\t$log.error(\"UserSessionManagerService not available\")\n\t\t\t\treturn this.defaultLang\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage\n\t\t\t}\n\t\t}\n\n\t\tthis.getLabel = function (key, config) {\n\t\t\tif (!config) {\n\t\t\t\t$log.error('no config object present', key)\n\t\t\t\treturn key\n\t\t\t}\n\t\t\tlet labels = config.labels\n\t\t\tif (!labels) {\n\t\t\t\tthrow new Error(\"Config contains no labels\")\n\t\t\t}\n\t\t\tlet labelSet = labels[key]\n\t\t\tif (!labelSet) {\n\t\t\t\t$log.error('label not found: ', key)\n\t\t\t\treturn key\n\t\t\t}\n\t\t\tlet lang = this.getLang()\n\t\t\tlet label = labelSet[lang]\n\t\t\tif (!label) {\n\t\t\t\t$log.error('no translation for label', key, lang)\n\t\t\t\tlabel = labelSet[this.defaultLang]\n\t\t\t}\n\t\t\tif (!label) {\n\t\t\t\t$log.error('no translation for label', key, this.defaultLang)\n\t\t\t\treturn key\n\t\t\t}\n\t\t\treturn label\n\t\t}\n\n\t\treturn {\n\t\t\tgetLang: this.getLang,\n\t\t\tgetLabel: this.getLabel\n\t\t}\n\n\t}]","export const slspCollapseDetailsConfig = {\n\tignore: [], // use the label property of an entry of 'this.parentCtrl._details'\n\tcharCount: 400, // make foldable after that many chars\n\titemCount: 5, // make foldable after that many items\n\t\n\ticons: {\n\t  expand: '<md-icon md-svg-icon=\"hardware:ic_keyboard_arrow_down_24px\" class=\"md-primoExplore-theme\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" id=\"ic_keyboard_arrow_down_24px_cache154\" y=\"264\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z\"></path></svg></md-icon>',\n\t  collapse: '<md-icon class=\"hsg-fold-icon-collapse\" md-svg-icon=\"hardware:ic_keyboard_arrow_down_24px\" class=\"md-primoExplore-theme\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" id=\"ic_keyboard_arrow_down_24px_cache154\" y=\"264\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z\"></path></svg></md-icon>',\n\t},\n  };","export class slspCollapseDetailsController {\n\tconstructor($scope, $element, $sce, $compile, slspCollapseDetailsConfig, hsgTranslatorService) {\n\t\tthis.$scope = $scope;\n\t\tthis.$element = $element;\n\t\tthis.$sce = $sce;\n\t\tthis.$compile = $compile;\n\t\tthis.config = slspCollapseDetailsConfig;\n\t\tthis.translator = hsgTranslatorService;\n\t\tthis.waiting = true;\n\t\tthis.iconExpand = this.config.icons.expand;\n\t\tthis.iconCollapse = this.config.icons.collapse;\n\t\tthis.labels = {\n\t\t\texpandButtonLabel: '<span translate=\"fulldisplay.details.showAll\"> </span>',\n\t\t\tcollapseButtonLabel: '<span translate=\"fulldisplay.details.showLess\"></span>',\n\t\t};\n\n\t}\n\n\t$onInit() {\n\t\tthis.parentCtrl = this.afterCtrl.parentCtrl\n\n\t\tthis.parentCtrl.NUMBER_OF_DETAILS_TO_SHOW = 1000;\n\t\tthis.rootEl = this.$element.parent().parent().query('div').children()\n\t\tlet that = this\n\t\t\n\t\t// add a watcher to the root element\n\t\t// trigger when children are rendered\n\t\t// and deregister after first call\n\t\tlet deregister = this.$scope.$watch(\n\t\t\tfunction () {\n\t\t\t\treturn that.rootEl.query('div')\n\t\t\t},\n\t\t\tfunction (newValue, oldValue) {\n\t\t\t\tif (that.waiting && newValue !== oldValue) {\n\t\t\t\t\tthat.waiting = false\n\t\t\t\t\tthat.makeFoldable()\n\t\t\t\t\tderegister()\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\t}\n\n\tmakeFoldable() {\n\t\tlet details = this.parentCtrl._details\n\n\t\tfor (let key in details) {\n\t\t\tlet detail = details[key]\n\t\t\tif (typeof detail != 'object') {\n\t\t\tcontinue\n\t\t\t}\n\t\t\tif (this.config.ignore.includes(detail.label)) {\n\t\t\tcontinue\n\t\t\t}\n\t\t\tlet values = detail.values[0].values\n\t\t\t\n\t\t\tlet textLength = values[0].length\n\t\t\tconst configItem = this.config.itemCount;\n\t\t\tconst lowerBound = configItem + 3;\n\t\t\t//console.log(values);\n\t\t\t//console.log(this);\n\t\t\tif (textLength > this.config.charCount) {\n\t\t\t\tthis.addMarkup(this.getItemContainer(key), 1, true)\n\t\t\t} else if (values.length > configItem && values.length >= lowerBound) {\n\t\t\t\tthis.addMarkup(this.getItemContainer(key), this.config.itemCount, false)\n\t\t\t}\n\t\t}\n\t}\n\n\tgetItemContainer(key) {\n\t\tlet children = this.rootEl.children()\n\t\tlet child = children[key]\n\t\treturn child.querySelector('.item-details-element-container')\n\t}\n\n\taddMarkup(itemContainer, count, longtext) {\n\t\titemContainer.classList.add('hsg-collapsed')\n\t\tlet item = itemContainer.querySelector('.item-details-element')\n\t\tlet listitems = item.querySelectorAll('[role=listitem]')\n\t\tfor (let key in listitems) {\n\t\t\tlet listitem = listitems[key]\n\t\t\tif (typeof listitem != 'object') {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tif (longtext && key < count) {\n\t\t\t\tlistitem.classList.add('hsg-foldable-item-longtext')\n\t\t\t}\n\t\t\tif (key >= count) {\n\t\t\t\tlistitem.classList.add('hsg-foldable-item')\n\t\t\t}\n\t\t}\n\n\t\t//console.log(longtext);\n\t\t\n\t\tlet expand = document.createElement('div');\n\t\texpand.classList.add('hsg-expand-button');\n\t\texpand.innerHTML = this.iconExpand + this.labels.expandButtonLabel;\n\t\tthis.$compile(expand)(this.$scope);\n\t\titem.insertBefore(expand, item.children[count]);\n\n\t\tlet collapse = document.createElement('div');\n\t\tcollapse.classList.add('hsg-collapse-button');\n\t\tcollapse.style.display = 'none';\n\t\titem.appendChild(collapse);\n\n\t\texpand.addEventListener('click', () => {\n\t\t\texpand.style.display = 'none';\n\t\t\tcollapse.style.display = 'inline-block';\n\t\t\titemContainer.classList.remove('hsg-collapsed');\n\t\t\titemContainer.classList.add('hsg-expanded');\n\n\t\t\tcollapse.innerHTML = this.iconCollapse + this.labels.collapseButtonLabel;\n\t\t\tthis.$compile(collapse)(this.$scope);\n\t\t});\n\n\t\tcollapse.addEventListener('click', () => {\n\t\t\titemContainer.classList.add('hsg-collapsed');\n\t\t\titemContainer.classList.remove('hsg-expanded');\n\t\t\texpand.style.display = 'inline-block';\n\t\t\tcollapse.style.display = 'none';\n\t\t});\n\t}\n\n\n\n\ttranslate(key) {\n\t\tif (!this.config) {\n\t\t\tconsole.log(\"config missing\")\n\t\t\treturn key\n\t\t}\n\t\tlet msg = this.translator.getLabel(key, this.config)\n\t\treturn this.$sce.trustAsHtml(msg)\n\t}\n}\n\nslspCollapseDetailsController.$inject = ['$scope', '$element', '$sce', '$compile', 'slspCollapseDetailsConfig', 'hsgTranslatorService']\n\n\n","import { hsgTranslatorService } from './hsg-translator.service'\nimport { slspCollapseDetailsController } from './slsp-collapse-details.controller';\nimport { slspCollapseDetailsConfig } from './slsp-collapse-details.config';\n\nexport const slspCollapseDetailsModule = angular\n    .module('slspCollapseDetailsModule', [])\n    .constant('slspCollapseDetailsConfig', slspCollapseDetailsConfig)\n    .factory('hsgTranslatorService', hsgTranslatorService)\n    .controller('slspCollapseDetailsController', slspCollapseDetailsController)\n    .component('slspCollapseDetailsComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspCollapseDetailsController',\n\n    })","export class bcuRapidoNoFurtherOptionsController {\n\n    constructor($scope) {\n        this.$scope = $scope;\n    }\n\n    $doCheck() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            let msg = this.parentCtrl.almaRSServiceAvailable;\n            let isi = this.parentCtrl.isSignedIn();\n\n            let rapidoSection = document.getElementById('rapidoOffer');\n            let rapidoTOC = document.querySelector('button span[translate=\"brief.results.tabs.Get_it_from_other_locations\"]');\n\n            //console.log(\"msg:\", this.parentCtrl.almaRSServiceAvailable, \"isi:\", this.parentCtrl.isSignedIn(), rapidoTOC.parentElement, rapidoSection);\n\n            if (msg == \"false\" && isi == \"true\") {\n                angular.element(rapidoSection).addClass('slsp-hide-rapido');\n                angular.element(rapidoTOC.parentElement).addClass('slsp-hide-rapido');\n            } else {\n                if (angular.element(rapidoSection).hasClass('slsp-hide-rapido')) {\n                    angular.element(rapidoSection).removeClass('slsp-hide-rapido');\n                }\n                if (angular.element(rapidoTOC.parentElement).hasClass('slsp-hide-rapido')) {\n                    angular.element(rapidoTOC.parentElement).removeClass('slsp-hide-rapido');\n                }\n            }\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido no Further Options\\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n}\n\nbcuRapidoNoFurtherOptionsController.$inject = ['$scope'];","import {bcuRapidoNoFurtherOptionsController} from './bcu-rapido-no-further-options.controller';\n//import {slspIllSigninOrderLoggedOutService} from '../../prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.service';\n\nexport const bcuRapidoNoFurtherOptionsModule = angular\n    .module('bcuRapidoNoFurtherOptionsModule', [])\n        //.factory('slspIllSigninOrderLoggedOutService', slspIllSigninOrderLoggedOutService)\n        .controller('bcuRapidoNoFurtherOptionsController', bcuRapidoNoFurtherOptionsController)\n        .component('bcuRapidoNoFurtherOptions', {\n            bindings: {afterCtrl: '<'},\n            controller: 'bcuRapidoNoFurtherOptionsController'\n        })","import { slspRapidoFeesLinkModule } from './slsp-rapido-fees-link/slsp-rapido-fees-link.module';\nimport { bcuRapidoNoFurtherOptionsModule } from './bcu-rapido-no-further-options/bcu-rapido-no-further-options.module';\n\n\n\nexport const prmServiceNgrsAfterModule = angular\n    .module('prmServiceNgrsAfterModule', [])\n    .component('prmServiceNgrsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `<slsp-rapido-fees-link-component after-ctrl=\"$ctrl\"></slsp-rapido-fees-link-component>          \n            <bcu-rapido-no-further-options after-ctrl=\"$ctrl\"></bcu-rapido-no-further-options>\n            <slsp-service-ngrs-after parent-ctrl=\"$parent.$ctrl\"></<slsp-service-ngrs-after>`\n    });\n\nprmServiceNgrsAfterModule.requires.push(slspRapidoFeesLinkModule.name);\nprmServiceNgrsAfterModule.requires.push(bcuRapidoNoFurtherOptionsModule.name);\n","\n\n//--------Rapido Fees Link ---------------------------------------\n\n\nexport class slspRapidoFeesLinkController {\n\n    constructor( $scope, $compile ) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        \n    }\n\n      \n    $onInit() {\n            try{\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n                this.rapidoFeesLink = rapidoFeesLink;\n\n                //console.log(this.parentCtrl);\n                //console.log(this.parentCtrl.physicalBestOfferService.getPickupLocation());\n                \n                let rapidoFeesLink = document.querySelector('#rapidoOffer div.full-view-section-content prm-full-view-service-container div.section-head h4');\n                let html = `<div class=\"rapidoFeesLink neutralized-button arrow-link-button md-button md-primoExplore-theme md-ink-ripple\"><a href=\"${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesUrl')}\" target=\"_blank\"><span translate=\"customized.rapido.fees\">see fees details via link</span><prm-icon link-arrow=\"\" icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"chevron-right\" [display-mode]=\"::$ctrl.displayMode\"><!----><md-icon ng-if=\"::($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())\" md-svg-icon=\"primo-ui:chevron-right\" role=\"presentation\" class=\"md-primoExplore-theme\"><svg id=\"chevron-right_cache76\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" y=\"384\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\">\n                <path d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"></path>\n            </svg></md-icon><!----><!----><prm-icon-after parent-ctrl=\"$ctrl\"></prm-icon-after></prm-icon></a></div>`;\n                        \n                    angular.element(rapidoFeesLink).after(this.$compile(html)(this.$scope));\n            }\n                               \n            \n            catch(e){\n                console.error(\"***SLSP*** an error occured: Rapido Fees Link\\n\\n\");\n                console.error(e.message);\n            }\n           \n        }\n    }\n\n    slspRapidoFeesLinkController.$inject = ['$scope', '$compile'];\n","\n    import {slspRapidoFeesLinkController} from './slsp-rapido-fees-link.controller';\n    import {slspRapidoFeesLinkHtml} from './slsp-rapido-fees-link.html';\n\n    export const slspRapidoFeesLinkModule = angular\n        .module('slspRapidoFeesLinkModule', [])\n            .controller('slspRapidoFeesLinkController', slspRapidoFeesLinkController)\n            .component('slspRapidoFeesLinkComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspRapidoFeesLinkController',\n                template: slspRapidoFeesLinkHtml\n            })","export class ethDisableRequestButtonController {\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n        this.journalRequest = '<span translate=\"customized.journal.request\"> </span>';\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.observeDomChanges();\n        } catch (e) {\n            console.error(\"***ETH*** an error occurred: ethDisableRequestButtonController $onInit\\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n    observeDomChanges() {\n        const targetNode = document.querySelector('prm-service-physical-best-offer');\n\n        if (!targetNode) {\n            console.error('***ETH*** Target element not found for DOM observation');\n            return;\n        }\n\n        const config = { childList: true, subtree: true };\n\n        const observer = new MutationObserver((mutationsList) => {\n            for (const mutation of mutationsList) {\n                if (mutation.type === 'childList') {\n                    this.checkAndHandleButton(targetNode);\n                }\n            }\n        });\n\n        observer.observe(targetNode, config);\n    }\n\n    checkAndHandleButton(targetNode) {\n        try {\n            let noAvailableCopies = targetNode.querySelector('[translate=\"rapido.tiles.physical.no_best_offer.line_2\"]');\n            let noAvailableCopiesLine1 = targetNode.querySelector('[translate=\"rapido.tiles.physical.no_best_offer.line_1\"]');\n            let requestButton = targetNode.querySelector('#get_it_btn_physical');\n            let noPersonalDelivery = targetNode.querySelector('[translate=\"nui.ngrs.pickup.information.noPersonalDeliveryOffer\"]');\n\n            // Button deaktivieren, wenn noPersonalDelivery vorhanden ist\n            if (noPersonalDelivery && requestButton) {\n                angular.element(requestButton).attr('disabled', 'disabled');\n                return;\n            }\n\n            // Standardfall: Button deaktivieren, falls keine Exemplare verfgbar sind\n            if (noAvailableCopies && requestButton) {\n                angular.element(requestButton).attr('disabled', 'disabled');\n            }\n\n            // Zustzliche Logik: berprfen, ob es sich um ein Journal handelt und ob Alma-P verfgbar ist\n            let resType = this.parentCtrl.item.pnx.addata.ristype;\n            let delCategory = this.parentCtrl.item.delivery.deliveryCategory;\n            let almaInstitutionsList = this.parentCtrl.item.delivery.almaInstitutionsList;\n\n            let hasAlmaP = angular.isArray(delCategory) && delCategory.includes('Alma-P');\n            if (angular.isArray(almaInstitutionsList)) {\n                const hasAvailableInInstitution = almaInstitutionsList.some(\n                    institution => institution.availabilityStatus === \"available_in_institution\"\n                );\n                hasAlmaP = hasAlmaP || hasAvailableInInstitution;\n            }\n\n            // Falls es sich um ein Journal handelt und Alma-P verfgbar ist, Button aktivieren\n            if (String(resType) === 'JOUR' && hasAlmaP && requestButton) {\n                // Sofort aktivieren, wenn alles da ist\n                angular.element(requestButton).removeAttr('disabled');\n                if (noAvailableCopies) {\n                    // Sicherstellen, dass das Element existiert und einen Parent hat\n                    if (noAvailableCopies.parentNode) {\n                        angular.element(noAvailableCopies).replaceWith(this.$compile(this.journalRequest)(this.$scope));\n                    }\n                }\n                if (noAvailableCopiesLine1) {\n                    angular.element(noAvailableCopiesLine1).remove();\n                }\n                console.log('Button enabled and noAvailableCopies replaced');\n            } else {\n                console.log('Conditions not met: Button remains disabled');\n            }\n        } catch (e) {\n            console.error(\"***ETH*** an error occurred in checkAndHandleButton\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nethDisableRequestButtonController.$inject = ['$scope', '$compile', '$timeout'];\n","import {ethDisableRequestButtonController} from './eth-disable-request-button.controller';\n\nexport const ethDisableRequestButtonModule = angular\n    .module('ethDisableRequestButtonModule', [])\n        .controller('ethDisableRequestButtonController', ethDisableRequestButtonController)\n        .component('ethDisableRequestButtonComponent',  {\n            bindings: {afterCtrl: '<'},\n            controller: 'ethDisableRequestButtonController',\n        })\n","import { slspRapidoDigitalOfferModule } from './slsp-rapido-digital-offer/slsp-rapido-digital-offer.module';\nimport { slspIconLabelRapidoModule } from './slsp-icon-label-rapido/slsp-icon-label-rapido.module';\nimport { ethDisableRequestButtonModule } from './eth-disable-request-button/eth-disable-request-button.module';\n\nexport const prmServicePhysicalBestOfferAfterModule = angular\n    .module('prmServicePhysicalBestOfferAfterModule', [])\n    .component('prmServicePhysicalBestOfferAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `<slsp-rapido-digital-offer-component after-ctrl=\"$ctrl\"></slsp-rapido-digital-offer-component>\n            <slsp-icon-label-rapido-component after-ctrl=\"$ctrl\"></slsp-icon-label-rapido-component>\n            <eth-disable-request-button-component after-ctrl=\"$ctrl\"></eth-disable-request-button-component>\n            <slsp-service-physical-best-offer-after parent-ctrl=\"$parent.$ctrl\"></slsp-service-physical-best-offer-after>`,\n    });\n\nprmServicePhysicalBestOfferAfterModule.requires.push(slspRapidoDigitalOfferModule.name);\nprmServicePhysicalBestOfferAfterModule.requires.push(slspIconLabelRapidoModule.name);\nprmServicePhysicalBestOfferAfterModule.requires.push(ethDisableRequestButtonModule.name);","//--------slspIconLabel ---------------------------------------\n\n\nexport class slspIconLabelRapidoController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n\n\n    $onInit() {\n        try {\n            this.$timeout(() => {\n                this.parentCtrl = this.afterCtrl.parentCtrl;\n\n                /*icon label*/\n                if (this.parentCtrl.isdigitaloffer === true) {\n                    this.iconLabel = iconLabel;\n\n                    let iconLabel = document.querySelectorAll('#item-ngrs > div > div > div[ng-if=\"$ctrl.digitalTileVisible\"] > prm-service-physical-best-offer > div > div.icon-wrapper');\n                    let existingIcon = document.querySelector('#item-ngrs > div > div > div[ng-if=\"$ctrl.digitalTileVisible\"] > prm-service-physical-best-offer > div > div.icon-wrapper .icnWrp');\n                    //console.log(existingIcon);\n                    if (existingIcon) {\n                        existingIcon.remove();\n                    }\n                    let html1 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><g><circle cx=\"130\" cy=\"130\" r=\"10.57\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M145.26,152.31c-4.34,2.98-9.6,4.69-15.26,4.69-14.91,0-27-12.09-27-27s12.09-27,27-27,27,12.09,27,27v2.35c0,4.54-3.68,8.21-8.21,8.21s-8.22-3.68-8.22-8.21v-2.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g><g><path d=\"M88.91,130H37c-4.97,0-9-4.03-9-9V55c0-4.96,4.03-9,9-9h108c4.97,0,9,4.04,9,9v42.32\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polyline points=\"151 49 91 97 31 49\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.digi\"></div></div>`;\n\n                    angular.element(iconLabel).after(this.$compile(html1)(this.$scope)).addClass('icnLbl');\n                }\n\n                if (this.parentCtrl.isdigitaloffer !== true) {\n                    this.iconLabel2 = iconLabel2;\n                    let iconLabel2 = document.querySelectorAll('#item-ngrs > div > div > div[ng-if=\"$ctrl.physicalTileVisible\"] > prm-service-physical-best-offer > div > div.icon-wrapper');\n                    let existingIcon2 = document.querySelector('#item-ngrs > div > div > div[ng-if=\"$ctrl.physicalTileVisible\"] > prm-service-physical-best-offer > div > div.icon-wrapper .icnWrp');\n                    //console.log(existingIcon2);\n                    if (existingIcon2) {\n                        existingIcon2.remove();\n                    }\n                    let html2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><line x1=\"6.16\" y1=\"82.58\" x2=\"29.16\" y2=\"82.62\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"17.66\" y1=\"97.91\" x2=\"29.16\" y2=\"97.95\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"25.33\" y1=\"113.24\" x2=\"29.16\" y2=\"113.28\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><g><circle cx=\"151.84\" cy=\"125.5\" r=\"12\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><circle cx=\"67.84\" cy=\"125.5\" r=\"12\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polyline points=\"163.84 125.5 178.84 125.5 178.84 98.5 160.47 65.84 124.84 65.84 124.84 47.5 40.84 47.5 40.84 125.5 55.84 125.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"139.84\" y1=\"125.5\" x2=\"79.84\" y2=\"125.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"124.84\" y1=\"53.5\" x2=\"124.84\" y2=\"125.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"178.84\" y1=\"98.5\" x2=\"124.84\" y2=\"98.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.courier\">Courier</div><div class=\"courierInfo\" translate=\"customized.fee.localcourier\">blabla bla Blaabl bla</div></div>`;\n\n                    angular.element(iconLabel2).after(this.$compile(html2)(this.$scope)).addClass('icnLbl2');\n                }\n\n\n            }, 0);\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n}\n\nslspIconLabelRapidoController.$inject = ['$scope', '$compile', '$timeout'];\n","\n    import {slspIconLabelRapidoController} from './slsp-icon-label-rapido.controller';\n    import {slspIconLabelRapidoHtml} from './slsp-icon-label-rapido.html';\n\n    export const slspIconLabelRapidoModule = angular\n        .module('slspIconLabelRapidoModule', [])\n            .controller('slspIconLabelRapidoController', slspIconLabelRapidoController)\n            .component('slspIconLabelRapidoComponent', {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIconLabelRapidoController',\n                template: slspIconLabelRapidoHtml\n            })","export class slspRapidoDigitalOfferController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n        this.loaderTemplate = `<div class=\"slsp-rapido-loader\"><prm-spinner class=\"inline-loader dark-on-light\" layout=\"row\" layout-align=\"start center\"></prm-spinner></div>`\n    }\n\n    $onInit() {\n        try {\n\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.isDone = false;\n            //console.log(this.parentCtrl);\n\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido onInit \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n    $doCheck() {\n        try {\n           \n\n            // loader\n            const loadingText = document.querySelectorAll('span[translate=\"rapido.tiles.placeholder.text\"]')\n            if (loadingText) {\n                Array.from(loadingText).forEach(text => {\n                    if (!text.classList.contains('rapido-loading')) {\n                        angular.element(text).after(this.$compile(this.loaderTemplate)(this.$scope)).addClass('rapido-loading')\n                    }\n                })\n            }\n\n            if (this.isDone) return;\n\n            // tilesplaceholderactive is true until the tile is loaded, also by reselecting pickupinfo\n            if (this.parentCtrl.tilesplaceholderactive == true) return;\n\n\n            /* costs per page */\n            if (this.parentCtrl.isdigitaloffer === true) {\n\n                this.$timeout(() => {\n                    let rapidoCosts = document.querySelectorAll('div[ng-if=\"$ctrl.digitalTileVisible\"] .patron_cost.last_line');\n                    let htmlRc = `<div class=\"rapidoCosts\" translate=\"customized.rapido.digi\"></div>`;\n                    angular.element(rapidoCosts).after(this.$compile(htmlRc)(this.$scope));\n                }, 20);\n            }\n\n\n            /* reservation button */\n            if (this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.unavailableInAllMembersPod === true && this.parentCtrl.bestoffer.unavailableResource === true) {\n                this.$timeout(() => {\n                    let reservation = document.querySelectorAll('prm-service-physical-best-offer .get_it_btn_physical > span');\n                    let htmlR1 = `<div class=\"reservationButton\" translate=\"customized.rapido.reservation\"></div>`;\n\n                    angular.element(reservation).after(this.$compile(htmlR1)(this.$scope)).addClass('noOffer');\n                }, 20);\n            }\n\n\n            /* reading room POD */\n            if (this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452167832730000041' ||\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452167827350000041' ||\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452497325370000041' ||\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452497929300000041' ||\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452084165700000041' ||\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '529457897220000041') {\n\n                this.$timeout(() => {\n                    let readingRoomPod = document.querySelectorAll('div[ng-if=\"$ctrl.physicalTileVisible\"] prm-service-physical-best-offer .keep_for span');\n                    let pickupInfo = document.querySelectorAll('prm-service-ngrs');\n                    let htmlPD = `<span class=\"reading-Room-Pod\" translate=\"customized.rapido.readingroom\"></span>`;\n\n                    angular.element(readingRoomPod).after(this.$compile(htmlPD)(this.$scope)).addClass('pod');\n                    angular.element(pickupInfo).addClass('reading-room');\n                }, 20);\n            }\n\n            this.isDone = true;\n\n\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido doCheck \\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\n\n\nslspRapidoDigitalOfferController.$inject = ['$scope', '$compile', '$timeout'];","   \n\n    import {slspRapidoDigitalOfferController} from './slsp-rapido-digital-offer.controller';\n   \n\n    export const slspRapidoDigitalOfferModule = angular\n        .module('slspRapidoDigitalOfferModule', [])\n            .controller('slspRapidoDigitalOfferController', slspRapidoDigitalOfferController)\n            .component('slspRapidoDigitalOfferComponent',  {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspRapidoDigitalOfferController',\n                \n            })\n    ","export class bcuScopesSelectorController {\n    $onInit() {\n        setTimeout(function(){\n            function activateSearch(){\n                setTimeout(function(){\n                    document.getElementsByClassName(\"zero-margin button-confirm md-button md-primoExplore-theme\")[0].click()\n                }, 100)\n            }\n            let searchScopes = document.querySelectorAll('[id^=\"select_option_\"]');\n            for (let i in searchScopes){\n                if( typeof searchScopes[i] === 'object' && searchScopes[i] !== null) {\n                    searchScopes[i].onclick = function(){\n                        activateSearch();\n                    };\n                }\n            }\n        }, 100)\n    }\n}\n","import {bcuScopesSelectorController} from './bcu-scopes-selector.controller';\n\nexport const bcuScopesSelectorModule = angular\n    .module('bcuScopesSelectorModule', [])\n        .controller('bcuScopesSelectorController', bcuScopesSelectorController)\n        .component('bcuScopesSelector',{\n            bindings: {parentCtrl: '<'},\n            controller: 'bcuScopesSelectorController',\n\n        })\n","import {bcuScopesSelectorModule} from './bcu-scopes-selector/bcu-scopes-selector.module';\n\nexport const bcuTabsAndScopesSelectorAfterModule = angular\n    .module('bcuTabsAndScopesSelectorAfterModule', [])\n        .component('prmTabsAndScopesSelectorAfter',  {\n            template: '<bcu-scopes-selector after-ctrl=\"$ctrl\"></bcu-scopes-selector><slsp-tabs-and-scopes-selector-after parent-ctrl=\"$parent.$ctrl\"></slsp-tabs-and-scopes-selector-after>'\n        });\n\nbcuTabsAndScopesSelectorAfterModule.requires.push(bcuScopesSelectorModule.name);","import { slspGitHintModule } from './slsp-git-hint/slsp-git-hint.module';\nimport { slspKeyboardFocusModule } from \"./slsp-keyboard-focus/slsp-keyboard-focus.module\";\n\n\nexport const prmTopBarBeforeModule = angular\n    .module('prmTopBarBeforeModule', [])\n    .component('prmTopBarBefore', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-git-hint-component after-ctrl=\"$ctrl\"></slsp-git-hint-component>\n            <slsp-keyboard-focus-component after-ctrl=\"$ctrl\"></slsp-keyboard-focus-component>\n            <slsp-top-bar-before parent-ctrl=\"$parent.$ctrl\"></slsp-top-bar-before>`\n    });\n\n\nprmTopBarBeforeModule.requires.push(slspGitHintModule.name);\nprmTopBarBeforeModule.requires.push(slspKeyboardFocusModule.name);\n","export class slspGitHintController {\n\n    constructor($scope, $compile, slspGitHintService) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.slspGitHintService = slspGitHintService;\n    }\n\n    $onInit() {\n        const currentTime = new Date(); // Aktuelle Zeit\n        console.log(\"Current time:\", currentTime);\n\n        this.slspGitHintService.getMessage()\n            .then((data) => {\n                // berprfung, ob Daten vorhanden sind\n                if (!data) {\n                    return;\n                }\n\n                // Daten und Sprache aus der JSON-Datei\n                this.data = data;\n                this.lang = angular.element(document.querySelector('primo-explore')).injector().get('$rootScope').$$childHead.$ctrl.userSessionManagerService.getUserLanguage() ||\n                    window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n\n                // Start- und Endzeiten aus der JSON-Datei\n                console.log(\"Raw startTime:\", data.startTime);\n                console.log(\"Raw endTime:\", data.endTime);\n\n                const startTime = new Date(data.startTime);\n                const endTime = new Date(data.endTime);\n\n                console.log(\"Converted startTime:\", startTime);\n                console.log(\"Converted endTime:\", endTime);\n\n\n                // Vergleich der aktuellen Zeit mit den Zeitfenstern\n                if (currentTime >= startTime && currentTime <= endTime) {\n                    // Anzeige des Textes in der entsprechenden Sprache\n                    const topBarBefore = document.querySelector('prm-explore-main, prm-back-to-search-results-button md-toolbar, prm-account');\n                    const html = `\n                        <div class=\"slsp-git-topbar\" layout=\"row\">\n                            <svg fill=\"#a8322d\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n                                <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n                                <path d=\"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>\n                            </svg>\n                            <span ng-bind-html=\"$ctrl.data[$ctrl.lang]\"></span>\n                        </div>\n                    `;\n                    angular.element(topBarBefore).prepend(this.$compile(html)(this.$scope));\n                }\n            });\n    }\n}\nslspGitHintController.$inject = ['$scope', '$compile', 'slspGitHintService'];\n","/**\n* @ngdoc module\n* @name slspGitHintModule\n*\n* @description\n*\n* Customization for the Top Bar:<br>\n* - get text for an error message from a git file\n* - render the message at the top of the page\n*\n* file: https://github.com/eth-library/snippets/tree/main/primo\n*       Page: https://eth-library.github.io/snippets/primo/banner.json\n*\n* <b>CSS/Image Dependencies</b><br>\n* CSS slsp-git-hint.css\n*\n*/\nimport {slspGitHintService} from './slsp-git-hint.service';\nimport {slspGitHintController} from './slsp-git-hint.controller';\n\nexport const slspGitHintModule = angular\n    .module('slspGitHintModule', [])\n        .factory('slspGitHintService', slspGitHintService)\n        .controller('slspGitHintController', slspGitHintController)\n        .component('slspGitHintComponent',{\n            controller: 'slspGitHintController'\n        })\n","/**\n* @ngdoc service\n* @name ethGitHintService\n*\n* @description\n* Service to get test for an error message from a git file\n*\n* <b>Used by</b><br>\n* Module {@link ETH.slspGitHintModule}<br>\n*\n*\n- */\nexport const slspGitHintService = ['$http', '$sce', function ($http, $sce) {\n\n    function getMessage() {\n        const timestamp = new Date().getTime(); // Aktuelle Zeit als Timestamp\n        const url = `https://swiss-library-service-platform.github.io/snippets/slsp-banner-text.json?timestamp=${timestamp}`;\n\n\n        $sce.trustAsResourceUrl(url);\n\n        return $http.get(url, { headers: { \"X-From-ExL-API-Gateway\": undefined } })\n            .then(\n                function (response) {\n                    // Rckgabe der Daten aus der JSON-Datei\n                    return response.data;\n                },\n                function (httpError) {\n                    console.error(\"***slsp*** An error occurred: slspGitHintService.getData error callback: \" + httpError);\n                    return null;\n                }\n            );\n    }\n\n    return {\n        getMessage: getMessage\n    };\n}];\n","export class slspKeyboardFocusController {\n    constructor($scope, $document) {\n        this.$scope = $scope;\n        this.$document = $document;\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n        }\n        catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido Fees Link\\n\\n\");\n            console.error(e.message);\n        }\n\n        // === Fokussteuerung hinzufgen ===\n        const body = angular.element(document.body);\n\n        // Tastatur-Nutzung erkennen\n        this.$document.on('keydown', (e) => {\n            if (['Tab'].includes(e.key)) {\n                body.addClass('using-keyboard');\n            }\n        });\n\n        // Maus-/Touch-Nutzung erkennen\n        this.$document.on('mousedown pointerdown', () => {\n            body.removeClass('using-keyboard');\n        });\n    }\n\n    $onDestroy() {\n        // Event Listener sauber entfernen, wenn Controller zerstrt wird\n        this.$document.off('keydown');\n        this.$document.off('mousedown');\n        this.$document.off('pointerdown');\n    }\n}\nslspKeyboardFocusController.$inject = ['$scope', '$document'];\n","import {slspKeyboardFocusController} from './slsp-keyboard-focus.controller';\n\nexport const slspKeyboardFocusModule = angular\n    .module('slspKeyboardFocusModule', [])\n        .controller('slspKeyboardFocusController', slspKeyboardFocusController)\n        .component('slspKeyboardFocusComponent',{\n            bindings: {afterCtrl: '<'},\n            controller: 'slspKeyboardFocusController'\n        })\n","import { slspUnionLoginBoxModule } from './slsp-union-login-box/slsp-union-login-box.module';\n\nexport const prmUnionCatalogLoginAfterModule = angular\n    .module('prmUnionCatalogLoginAfterModule', [])\n    .component('prmUnionCatalogLoginAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-union-login-box-component after-ctrl=\"$ctrl\"></slsp-union-login-box-component>\n            <slsp-union-catalog-login-after parent-ctrl=\"$parent.$ctrl\"></<slsp-union-catalog-login-after>`\n    });\n\n\nprmUnionCatalogLoginAfterModule.requires.push(slspUnionLoginBoxModule.name);","//-----------------RapidoHideLibrary------------------------------\n\nexport class slspUnionLoginBoxController {\n\n    constructor($scope, $compile, $timeout, $rootScope, $window) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n        this.$rootScope = $rootScope;\n        this.$window = $window;\n    }\n\n    $onInit() {\n        try {\n\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n\n\n\n            //console.log(this.parentCtrl.directLoginService.userSessionManagerService.getInterfaceLanguage());\n            //console.log(this.parentCtrl.cancelLogin());\n            //console.log(this.parentCtrl.isUnionCatalogLogin());\n\n\n\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido hide Library\\n\\n\");\n            console.error(e.message);\n        }\n    }\n    cancelUnionLogin() {\n        this.parentCtrl.cancelLogin();\n    }\n    getLanguage() {       \n        let sms = this.$rootScope.$$childHead.$ctrl.userSessionManagerService;\n        if (!sms) {\n            return 'en';\n        } else {\n            return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n        }\n    }\n}\n\nslspUnionLoginBoxController.$inject = ['$scope', '$compile', '$timeout', '$rootScope', '$window'];","import { slspUnionLoginBoxController } from './slsp-union-login-box.controller';\nimport { slspUnionLoginBoxHtml } from './slsp-union-login-box.html';\n\nexport const slspUnionLoginBoxModule = angular\n    .module('slspUnionLoginBoxModule', [])\n    .controller('slspUnionLoginBoxController', slspUnionLoginBoxController)\n    .component('slspUnionLoginBoxComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'slspUnionLoginBoxController',\n        template: slspUnionLoginBoxHtml\n\n    })","export class bcuLangSwitchController {\n\n    constructor($element, $window, $timeout) {\n        this.$parent = $element.parent().parent()[0];\n        this.$window = $window;\n        this.$timeout = $timeout;\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.languages = [\"de\", \"fr\", \"it\", \"en\"];\n            if (!this.languages.includes(this.parentCtrl.lang)) {\n                this.changeLanguage(\"en\");\n            }\n\n            // Dynamische Tooltip-Positionierung initialisieren\n            this.$timeout(() => this.initTooltipPositioning());\n        }\n        catch (e) {\n            console.error(\"***BCUFR*** bcuLangSwitchControler $onInit\");\n            console.error(e.message);\n        }\n    };\n\n    changeLanguage(lang) {\n        this.parentCtrl.changeLangService.addLangParamToUrl(lang);\n        let t = this.parentCtrl;\n        this.parentCtrl.i18nService.setLanguage(lang).then(function () {\n            t.$timeout(function () { return t.$state.go(t.$state.current, { lang: lang }, { reload: !0 }) })\n        });\n    };\n\n    getAriaLabelByLanguage(lang) {\n       return this.getAriaLabels()[lang][\"aria_label_\" + lang];\n    }\n\n    getAriaLabels() {\n        return {\n            \"de\": {\n                \"aria_label_de\": \"Deutsch\",\n                \"aria_label_en\": \"Englisch\",\n                \"aria_label_fr\": \"Franzsisch\",\n                \"aria_label_it\": \"Italienisch\"\n            },\n            \"en\": {\n                \"aria_label_de\": \"German\",\n                \"aria_label_en\": \"English\",\n                \"aria_label_fr\": \"French\",\n                \"aria_label_it\": \"Italian\"\n            },\n            \"fr\": {\n                \"aria_label_de\": \"Allemand\",\n                \"aria_label_en\": \"Anglais\",\n                \"aria_label_fr\": \"Franais\",\n                \"aria_label_it\": \"Italien\"\n            },\n            \"it\": {\n                \"aria_label_de\": \"Tedesco\",\n                \"aria_label_en\": \"Inglese\",\n                \"aria_label_fr\": \"Francese\",\n                \"aria_label_it\": \"Italiano\"\n            }\n        }\n    }\n\n    initTooltipPositioning() {\n        const tooltips = document.querySelectorAll('.custom-tooltip');\n        tooltips.forEach(tooltip => {\n            const tooltipText = tooltip.querySelector('.tooltip-text');\n            tooltip.addEventListener('mouseenter', () => {\n                // Tooltip-Position zurcksetzen\n                tooltipText.style.left = '50%';\n                tooltipText.style.right = 'auto';\n                tooltipText.style.transform = 'translateX(-50%)';\n\n                // Tooltip-Position berechnen\n                const rect = tooltipText.getBoundingClientRect();\n                const viewportWidth = this.$window.innerWidth;\n\n                // Prfen, ob der Tooltip auerhalb des rechten Fensterrands liegt\n                if (rect.right > viewportWidth) {\n                    tooltipText.style.left = 'auto';\n                    tooltipText.style.right = '0'; // Tooltip an den rechten Rand des Buttons ausrichten\n                    tooltipText.style.transform = 'none'; // Zentrierung entfernen\n                }\n            });\n        });\n    }\n}\n\nbcuLangSwitchController.$inject = ['$element', '$window', '$timeout'];","/**\n* @ngdoc module\n* @name bcuLangSwitchModule\n*\n* @description\n* - Add LangSwitch to user area\n* @example\n* each view\n*\n*/\nimport { bcuLangSwitchController } from './bcu-lang-switch.controller';\nimport { bcuLangSwitchHtml } from './bcu-lang-switch.html';\n\n\nexport const bcuLangSwitchModule = angular\n    .module('bcuLangSwitchModule', [])\n    .controller('bcuLangSwitchController', bcuLangSwitchController)\n    .component('bcuLangSwitchComponent', {\n        bindings: { afterCtrl: '<' },\n        controller: 'bcuLangSwitchController',\n        //            template: '<button class=\"md-button md-lang-button\" ng-repeat=\"(lang, url) in $ctrl.languages\" ng-class=\"{active: $ctrl.afterCtrl.parentCtrl.lang == lang}\"><a href=\"{{url}}\">{{lang}}</a></button>'\n        //template: '<button class=\"md-button md-lang-button\" ng-repeat=\"lang in $ctrl.languages\" ng-class=\"{active: $ctrl.afterCtrl.parentCtrl.lang == lang}\" ng-click=\"$ctrl.changeLanguage(lang)\">{{lang}}</button>'\n        template: bcuLangSwitchHtml\n    })\n","\nexport class slspIllSigninOrderLoggedOutController {\n\n    constructor(slspIllSigninOrderLoggedOutService, $scope) {\n        this.slspIllSigninOrderLoggedOutService = slspIllSigninOrderLoggedOutService;\n        this.$scope = $scope;\n    }\n\n    $doCheck() {\n        try{\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.$scope.usrNme = this.slspIllSigninOrderLoggedOutService.isGuest();\n\n            if (this.$scope.usrNme == true) {\n                let myEl = angular.element(document.querySelector('primo-explore'));\n                return myEl.addClass('logged-out')\n            }\n        \n            else {\n                let myEl = angular.element(document.querySelector('primo-explore'));\n                return myEl.removeClass('logged-out');\n            }\n        }\n        catch(e){\n            console.error(\"***SLSP*** an error occured: slspIllSigninOrderLoggedOutController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nslspIllSigninOrderLoggedOutController.$inject = ['slspIllSigninOrderLoggedOutService', '$scope'];\n        \n\n","\n\n    //--------ILL Signin Order -  if logged out ---------------------------------------\n   \n\n    import {slspIllSigninOrderLoggedOutController} from './slsp-ill-signin-order-logged-out.controller';\n    import {slspIllSigninOrderLoggedOutService} from './slsp-ill-signin-order-logged-out.service';\n\n    export const slspIllSigninOrderLoggedOutModule = angular\n        .module('slspIllSigninOrderLoggedOutModule', [])\n            .factory('slspIllSigninOrderLoggedOutService', slspIllSigninOrderLoggedOutService)\n            .controller('slspIllSigninOrderLoggedOutController', slspIllSigninOrderLoggedOutController)\n            .component('slspIllSigninOrderLoggedOutComponent',  {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIllSigninOrderLoggedOutController',\n                \n            })\n    ","\n\n    export const slspIllSigninOrderLoggedOutService = ['jwtHelper', function( jwtHelper ){\n\n        function getDecodedToken(){\n            try{\n                if (!sessionStorage){\n                    console.error(\"***SLSP*** no session storage\")\n                    return null;\n                }\n                let jwt = sessionStorage.getItem('primoExploreJwt');\n                if (!jwt){\n                    return null;\n                }\n                return jwtHelper.decodeToken(jwt);\n            }\n            catch(e){\n                console.error(\"**SLSP*** an error occured: userService.getDecodedToken:\");\n                console.error(e.message);\n            }\n        }\n  \n        function isGuest(){\n            try{\n                let decodedToken = getDecodedToken();\n                if (!decodedToken) {\n                    return null;\n                }\n                let userName= decodedToken.userGroup !== 'GUEST'? decodedToken.userName : '';\n                if (userName){\n                    return false;\n                }\n                else{\n                    return true;\n                }\n            }\n            catch(e){\n                console.error(\"***SLSP*** an error occured: userService.isGuest:\");\n                console.error(e.message);\n            }\n        }\n    \n        return {\n            isGuest: isGuest,\n            getDecodedToken: getDecodedToken\n        };\n    }]\n    ","import {bcuLangSwitchModule} from './bcu-lang-switch/bcu-lang-switch.module';\nimport {slspIllSigninOrderLoggedOutModule} from './slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module';\n\nexport const slspUserAreaExpandableAfterModule = angular\n    .module('slspUserAreaExpandableAfterModule', [])\n        .component('prmUserAreaExpandableAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<bcu-lang-switch-component after-ctrl=\"$ctrl\"></bcu-lang-switch-component><slsp-ill-signin-order-logged-out-component after-ctrl=\"$ctrl\"></slsp-ill-signin-order-logged-out-component><slsp-user-area-expandable-after parent-ctrl=\"$parent.$ctrl\"></slsp-user-area-expandable-after>`,\n        });\n\nslspUserAreaExpandableAfterModule.requires.push(bcuLangSwitchModule.name);\nslspUserAreaExpandableAfterModule.requires.push(slspIllSigninOrderLoggedOutModule.name);","require('./js/slsp-http-intercept-pickup-information.module.js')\nmodule.exports = 'slspHttpInterceptPickupInformation'","export const slspHttpInterceptPickupInformation = angular.module('slspHttpInterceptPickupInformation', ['ng'])\n    .config(['$httpProvider', ($httpProvider) => {\n        $httpProvider.interceptors.push(['$q', ($q) => {\n            return {\n                'request': (request) => {\n                    return request\n                },\n                'requestError': (request) => {\n                    return $q.reject(request)\n                },\n                'responseError': (response) => {\n                    return $q.reject(response)\n                },\n                'response': (response) => {\n                    try {                        \n                        if (/primaws\\/rest\\/pub\\/ngrs\\/ngrsPickupInformationUrl/.test(response.config.url)) {                            \n                            //get userGroup from JWT \n                            let userGroup = angular.element(document.querySelector('primo-explore')).controller('primo-explore').userSessionManagerService.jwtUtilService.getDecodedToken().userGroup;\n\n                            //list of user groups to change delivery for\n                            if (['91','92','02'].includes(userGroup)) {\n                                response.data.personalDelivery = 'None';\n                            }\n                        }\n                     \n                    } catch (error) {\n                        console.log(error)\n                    }\n                    return response\n                }\n            }\n        }])\n    }])\n","require('./js/slsp-http-intercept-requests.module.js')\nmodule.exports = 'slspHttpInterceptRequests'","export const slspHttpInterceptRequests = angular.module('slspHttpInterceptRequests', ['ng'])\n    .config(['$httpProvider', ($httpProvider) => {\n        $httpProvider.interceptors.push(['$q', ($q) => {\n            return {\n                'request': (request) => {\n                    return request\n                },\n                'requestError': (request) => {\n                    return $q.reject(request)\n                },\n                'responseError': (response) => {\n                    return $q.reject(response)\n                },\n                'response': (response) => {\n                    try {\n                        if (/primaws\\/rest\\/priv\\/myaccount\\/requests/.test(response.config.url)) {\n                            if (response.status == 200 && response.data.status == \"ok\") {\n                                let interfaceLanguage = angular.element(document.querySelector('primo-explore')).injector().get('$rootScope').$$childHead.$ctrl.userSessionManagerService.getUserLanguage() ||\n                                    window.appConfig['primo-view']['attributes-map'].interfaceLanguage\n\n                                let list_of_hold_states = {\n                                    'en': [\"in transit\", \"in process\", \"on hold shelf\"],\n                                    'de': [\"transfer\", \"in bearbeitung\", \"bereitgestellt\"],\n                                    'fr': [\"en cours de transfert\", \"en cours\", \"sur le rayon des rservations\"],\n                                    'it': [\"in transito\", \"in processo\", \"scaffale prenotazioni\"]\n                                }\n                                let list_of_photocopy_states = {\n                                    'en': [\"in transit\", \"in process\"],\n                                    'de': [\"transfer\", \"in bearbeitung\"],\n                                    'fr': [\"en cours de transfert\", \"en cours\"],\n                                    'it': [\"in transito\", \"in processo\"]\n                                }\n                                if (Object.keys(list_of_hold_states).includes(interfaceLanguage)) {\n                                    let list_of_hold_states_regexp = RegExp(list_of_hold_states[interfaceLanguage].map(m => m.toLowerCase()).join('|'))\n                                    // rewrite cancellable holds\n                                    response.data.data.holds.hold.map((m) => {\n                                        if (list_of_hold_states_regexp.test(m.holdstatus.toLowerCase())) {\n                                            m.cancel = 'N'\n                                        }\n                                    })\n                                }\n                                else {\n                                    throw `No mapping found for holds: ${interfaceLanguage}`\n                                }\n\n                                if (Object.keys(list_of_photocopy_states).includes(interfaceLanguage)) {\n                                    let list_of_photocopy_states_regexp = RegExp(list_of_photocopy_states[interfaceLanguage].map(m => m.toLowerCase()).join('|'))\n                                    // rewrite cancellable photocopies\n                                    response.data.data.photocopies.photocopy.map((m) => {\n                                        if (list_of_photocopy_states_regexp.test(m.requeststatus.toLowerCase())) {\n                                            m.cancel = 'N'\n                                        }\n                                    })\n                                }\n                                \n                                else {\n                                    throw `No mapping found for photocopies: ${interfaceLanguage}`\n                                }\n                            }\n                        }\n\n                        \n                    }\n                    catch (error) {\n                        console.error(error);\n                    }\n                    return response;\n                }\n            }\n        }])\n    }])\n","require('./js/slsp-ill-signin-order-alert.module.js')\nmodule.exports = 'slspIllSigninOrderAlert'","//--------ILL Signin Order -  if Alert Message ---------------------------------------\n\nangular\n    .module('slspIllSigninOrderAlert', [])\n\n    .controller('AlertMsgController', ['$scope', function ($scope) {\n        var vm = this;\n        vm.getAlert = getAlert\n\n        function getAlert() {\n            var ga = vm.parentCtrl.almaHowToGetitService.reqAlert._htmlMsg;\n            var myEl2 = angular.element(document.querySelector('primo-explore'));\n\n            if (ga.length > 0) {\n                return myEl2.addClass('alert');\n\n            }\n            else {\n\n                return myEl2.removeClass('alert');\n\n            }\n        }\n\n    }])\n\n    .component('almaHowovpAfter', {\n        bindings: { parentCtrl: '<' },\n        controller: 'AlertMsgController',\n        template: '<div style=\"display:none\">{{$ctrl.getAlert()}}</div><slsp-howovp-after parent-ctrl=\"$parent.$ctrl\"></slsp-howovp-after>'\n    });\n"]}