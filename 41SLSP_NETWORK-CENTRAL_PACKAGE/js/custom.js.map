{"version":3,"sources":["node_modules/browser-pack/_prelude.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/main.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-advanced-search-after/prm-advanced-search-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-advanced-search-after/slsp-advanced-search-clear-button/slsp-advanced-search-clear-button.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-advanced-search-after/slsp-advanced-search-clear-button/slsp-advanced-search-clear-button.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-members-after/prm-alma-other-members-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-members-after/slsp-collapse-other-inst/slsp-collapse-other-inst.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-members-after/slsp-collapse-other-inst/slsp-collapse-other-inst.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-members-after/slsp-icon-label-other-members/slsp-icon-label-other-members.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-members-after/slsp-icon-label-other-members/slsp-icon-label-other-members.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-units-after/prm-alma-other-units-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-units-after/slsp-icon-label-other-units/slsp-icon-label-other-units.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-other-units-after/slsp-icon-label-other-units/slsp-icon-label-other-units.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-viewit-items-after/prm-alma-viewit-items-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-viewit-items-after/slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-viewit-items-after/slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-viewit-items-after/slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-viewit-items-after/slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-viewit-items-after/slsp-translate-public-note/slsp-translate-public-note.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-alma-viewit-items-after/slsp-translate-public-note/slsp-translate-public-note.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-citation-after/prm-citation-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-citation-after/slsp-citation-select/slsp-citation-select.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-citation-after/slsp-citation-select/slsp-citation-select.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-facet-exact-after/primo-explore-eth-okm-link/eth-okm-link.config.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-facet-exact-after/primo-explore-eth-okm-link/eth-okm-link.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-facet-exact-after/primo-explore-eth-okm-link/eth-okm-link.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-facet-exact-after/primo-explore-eth-okm-link/services/eth-config.service.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-facet-exact-after/prm-facet-exact-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-favorites-edit-labels-menu-after/prm-favorites-edit-labels-menu-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-favorites-edit-labels-menu-after/slsp-save-label-button/slsp-save-label-button.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-favorites-edit-labels-menu-after/slsp-save-label-button/slsp-save-label-button.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-fines-after/prm-fines-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-fines-after/slsp-closed-fines-bar/slsp-closed-fines-bar.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-fines-after/slsp-closed-fines-bar/slsp-closed-fines-bar.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-full-view-after/prm-full-view-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-full-view-after/slsp-icon-label/slsp-icon-label.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-full-view-after/slsp-icon-label/slsp-icon-label.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-loan-after/slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-loan-after/slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-loan-after/slsp-loan-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-loan-after/slsp-renew-item-text/slsp-renew-item-text.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-loan-after/slsp-renew-item-text/slsp-renew-item-text.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-holdings-after/prm-location-holdings-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-holdings-after/slsp-holding-collapse/slsp-holding-collapse.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-holdings-after/slsp-holding-collapse/slsp-holding-collapse.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-holdings-after/slsp-i-button/slsp-i-button.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-holdings-after/slsp-i-button/slsp-i-button.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-item-after/hsg-display-item-policy/hsg-display-item-policy.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-item-after/hsg-display-item-policy/hsg-display-item-policy.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-item-after/hsg-location-item-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-item-after/slsp-cug-policy/slsp-cug-policy.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-item-after/slsp-cug-policy/slsp-cug-policy.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-location-items-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-location-items-filter/eth-location-items-filter.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-location-items-filter/eth-location-items-filter.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-mapongo/eth-config.service.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-mapongo/eth-mapongo-check.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-mapongo/eth-mapongo-check.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-mapongo/eth-mapongo-libraries.service.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-mapongo/eth-mapongo.config.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-mapongo/eth-mapongo.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/eth-mapongo/eth-mapongo.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/slsp-icon-label-location-items/slsp-icon-label-location-items.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-location-items-after/slsp-icon-label-location-items/slsp-icon-label-location-items.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-locations-after/eth-locations-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-locations-after/eth-locations-filter/eth-locations-filter.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-locations-after/eth-locations-filter/eth-locations-filter.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-locations-after/slsp-collapse-related/slsp-collapse-related.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-locations-after/slsp-collapse-related/slsp-collapse-related.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-locations-after/slsp-icon-label-locations/slsp-icon-label-locations.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-locations-after/slsp-icon-label-locations/slsp-icon-label-locations.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-login-after/prm-login-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-login-after/slsp-login-box/slsp-login-box.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-login-after/slsp-login-box/slsp-login-box.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-offer-details-tile-after/prm-offer-details-tile-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-offer-details-tile-after/slsp-multivolume-request/slsp-multivolume-request.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-offer-details-tile-after/slsp-multivolume-request/slsp-multivolume-request.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-opac-after/prm-opac-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-opac-after/slsp-ovp-reservation/slsp-ovp-reservation.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-opac-after/slsp-ovp-reservation/slsp-ovp-reservation.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-personal-info-after/slsp-edit-personal-details/slsp-edit-personal-details.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-personal-info-after/slsp-edit-personal-details/slsp-edit-personal-details.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-personal-info-after/slsp-personal-info-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-request-after/bcu-fees-link/bcu-fees-link.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-request-after/bcu-fees-link/bcu-fees-link.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-request-after/slsp-alma-request/slsp-alma-request.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-request-after/slsp-alma-request/slsp-alma-request.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-request-after/slsp-request-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-requests-after/slsp-request-cancel-button/slsp-request-cancel-button.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-requests-after/slsp-request-cancel-button/slsp-request-cancel-button.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-requests-after/slsp-requests-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-bar-after/bcu-search-bar-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-bar-after/bcu-search-slots/bcu-search-slots.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-bar-after/bcu-search-slots/bcu-search-slots.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-bar-after/slsp-ra-beta-icon/slsp-ra-beta-icon.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-bar-after/slsp-ra-beta-icon/slsp-ra-beta-icon.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-result-list-after/prm-search-result-list-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-result-list-after/slsp-top-pagination-switch/slsp-top-pagination-switch.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-result-list-after/slsp-top-pagination-switch/slsp-top-pagination-switch.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-result-tool-bar-after/prm-search-result-tool-bar-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-search-result-tool-bar-after/slsp-top-pagination-switch/slsp-top-pagination-switch.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-send-email-after/prm-send-email-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-send-email-after/slsp-send-email-info/slsp-send-email-info.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-send-email-after/slsp-send-email-info/slsp-send-email-info.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-button-after/prm-service-button-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-button-after/slsp-digitization-button-label/slsp-digitization-button-label.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-button-after/slsp-digitization-button-label/slsp-digitization-button-label.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-button-after/slsp-reservation-button/slsp-reservation-button.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-button-after/slsp-reservation-button/slsp-reservation-button.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-details-after/prm-service-details-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-details-after/slsp-collapse-details/hsg-translator.service.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-details-after/slsp-collapse-details/slsp-collapse-details.config.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-details-after/slsp-collapse-details/slsp-collapse-details.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-details-after/slsp-collapse-details/slsp-collapse-details.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-ngrs-after/bcu-rapido-no-further-options/bcu-rapido-no-further-options.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-ngrs-after/bcu-rapido-no-further-options/bcu-rapido-no-further-options.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-ngrs-after/prm-service-ngrs-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-ngrs-after/slsp-rapido-fees-link/slsp-rapido-fees-link.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-ngrs-after/slsp-rapido-fees-link/slsp-rapido-fees-link.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-physical-best-offer-after/eth-disable-request-button/eth-disable-request-button.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-physical-best-offer-after/eth-disable-request-button/eth-disable-request-button.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-physical-best-offer-after/prm-service-physical-best-offer-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-physical-best-offer-after/slsp-icon-label-rapido/slsp-icon-label-rapido.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-physical-best-offer-after/slsp-icon-label-rapido/slsp-icon-label-rapido.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-physical-best-offer-after/slsp-rapido-digital-offer/slsp-rapido-digital-offer.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-service-physical-best-offer-after/slsp-rapido-digital-offer/slsp-rapido-digital-offer.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-tabs-and-scopes-selector-after/bcu-scopes-selector/bcu-scopes-selector.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-tabs-and-scopes-selector-after/bcu-scopes-selector/bcu-scopes-selector.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-tabs-and-scopes-selector-after/bcu-tabs-and-scopes-selector-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-top-bar-before/prm-top-bar-before.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-top-bar-before/slsp-git-hint/slsp-git-hint.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-top-bar-before/slsp-git-hint/slsp-git-hint.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-top-bar-before/slsp-git-hint/slsp-git-hint.service.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-union-catalog-login-after/prm-union-catalog-login-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-union-catalog-login-after/slsp-union-login-box/slsp-union-login-box.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-union-catalog-login-after/slsp-union-login-box/slsp-union-login-box.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-user-area-expandable-after/bcu-lang-switch/bcu-lang-switch.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-user-area-expandable-after/bcu-lang-switch/bcu-lang-switch.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.controller.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.service.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/prm-user-area-expandable-after/slsp-user-area-expandable-after.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-archives-htgi/index.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-archives-htgi/js/slsp-archives-htgi.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-archives-viewit/index.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-archives-viewit/js/slsp-archives-viewit.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-http-intercept-pickup-information/index.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-http-intercept-pickup-information/js/slsp-http-intercept-pickup-information.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-http-intercept-requests/index.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-http-intercept-requests/js/slsp-http-intercept-requests.module.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-ill-signin-order-alert/index.js","primo-explore/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/js/slsp-ill-signin-order-alert/js/slsp-ill-signin-order-alert.module.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","angular","_slspAdvancedSearchClearButton","prmAdvancedSearchAfterModule","component","bindings","parentCtrl","template","requires","push","slspAdvancedSearchClearButtonModule","name","slspAdvancedSearchClearButtonController","$timeout","$compile","$scope","_classCallCheck","this","_this","afterCtrl","limit","incrementButton","element","document","querySelector","clearButton","resetButton","replaceWith","decrementButton","parentNode","insertBefore","nextSibling","console","error","message","limitIndex","rowArray","boolOperator","searchOperator","searchCategory","searchQuery","clearSearchForm","$inject","controller","_slspCollapseOtherInst","_slspIconLabelOtherMembers","prmAlmaOtherMembersAfterModule","slspCollapseOtherInstModule","slspIconLabelOtherMembersModule","slspCollapseOtherInstController","noItemAtPickupLocation","almaAlertBar","log","serviceMode","isCollapsed","item","delivery","displayedAvailability","querySelectorAll","prepend","addClass","slspIconLabelOtherMembersController","iconLabelOtherMembersP2","availabilityType","iconLabelOtherMembersE","_slspIconLabelOtherUnits","prmAlmaOtherUnitsAfterModule","slspIconLabelOtherUnitsModule","slspIconLabelOtherUnitsController","iconLabelOtherUnitsE","_slspIconLabelViewitItems","_slspCollapseRelatedEResources","_slspTranslatePublicNote","prmAlmaViewitItemsAfterModule","slspIconLabelViewitItemsModule","slspCollapseRelatedEResourcesModule","slspTranslatePublicNoteModule","slspCollapseRelatedEResourcesController","forEach","viewitItem","listElement","buttonElement","viewitCtrl","serviceType","classList","add","createElement","innerHTML","addEventListener","toggle","titleElement","titleParentElement","replaceChild","slspIconLabelViewitItemsController","iconLabelViewitItemsDigital","iconLabelRidOffDigital","iconLabelViewitItems","iconLabelRidOff","detach","slspTranslatePublicNoteController","$filter","noteDe","noteEn","noteFr","noteIt","noteBreak","remove","lang","sms","$root","$$childHead","$ctrl","userSessionManagerService","getInterfaceLanguage","_slspCitationSelect","prmCitationAfterModule","slspCitationSelectModule","slspCitationSelectController","citationSelectList","citationSelect","append","ethOkmLinkConfig","label","groupName","de","en","fr","it","ethOkmLinkController","$location","ethConfigService","$element","config","q1","searchValue","prmOkmElement","getLabel","prmFacet","facets","filter","displayedType","limitCount","facetGroupCollapsed","values","facetGroup","search","query","Array","isArray","map","split","join","window","appConfig","vid","replace","searchAlternatives","url","encodeURIComponent","image","closest","_ethConfig","_ethOkmLink","_ethOkmLink2","ethOkmLinkModule","factory","restrict","$rootScope","getLanguage","getUserLanguage","$window","interfaceLanguage","key","getUrl","prmFacetExactAfterModule","_slspSaveLabelButton","prmFavoritesEditLabelsMenuAfterModule","slspSaveLabelButtonModule","slspSaveLabelButtonController","form","data","find","after","_slspClosedFinesBar","prmFinesAfterModule","slspClosedFinesBarModule","slspClosedFinesBarController","showClosedFines","currentFinesArray","hasClosedFines","finesTypeDropDownSelection","totalNumOfFines","fine","fineData","words","fineType","firstWordRemoved","expandedDisplay","firstLineRight","splice","unshift","_slspIconLabel","prmFullViewAfterModule","slspIconLabelModule","slspIconLabelController","slspHideRapidoLoanLinkController","itemType","itemBarcode","hideTitle","itembarcode","loansService","requestParams","type","includes","setTitle","title","parent","_slspHideRapidoLoanLink","slspHideRapidoLoanLinkModule","_slspRenewItemText","slspLoanAfterModule","slspRenewItemTextModule","slspRenewItemTextController","getRenewText","undefined","renewstatuses","renewstatus","_slspIButton","_slspHoldingCollapse","prmLocationHoldingsAfterModule","slspIButtonModule","slspHoldingCollapseModule","slspHoldingCollapseController","labels","holdingExpandLabel","holdingCollapseLabel","vm","$watch","currLoc","newValue","oldValue","isHoldingExpandedData","addCollapseClass","holdingExpand","holdingExpandButton","__replaced","holdingCollapse","holdingCollapseButton","slspIButtonController","biblinkBase","getLibrary","bind","getLibraryCode","location","librarycodeTranslation","libraryCode","addSpecialInfoClass","hsgDisplayItemPolicyController","$document","ctrl","setItemPolicyText","policy","selectItem","itemFields","registerWatcher","that","componentName","nodeName","toLocaleLowerCase","index","from","findIndex","loc","items","_hsgDisplayItemPolicy","hsgDisplayItemPolicyModule","_slspCugPolicy","hsgLocationItemAfterModule","slspCugPolicyModule","slspCugPolicyController","userGroup","jwtUtilService","getDecodedToken","trim","_ethMapongoCheck","_ethMapongo","_slspIconLabelLocationItems","_ethLocationItemsFilter","ethLocationItemsAfterModule","ethMapongoCheckModule","ethMapongoModule","slspIconLabelLocationItemsModule","ethLocationItemsFilterModule","ethLocationItemsFilterController","filterLabel","filterButton","filterButtonReplaced","ethMapongoCheckController","ethMapongoLibrariesService","isMapongoLibrary","noLocationItemAfter","locationItemAfter","parentElement","getElementsByTagName","aPrmLocationItemAfter","slice","recordid","pnx","control","sourcerecordid","addCallnumberEntry","barcodeEntry","prmLocationItemAfter","isMapongoSubLocation","_additionalData","secondarylocationname","isAvailable","itemstatusname","subLocationCode","getSubLocationCode","callnumber","fullItemFields","indexOf","addCallnumber","barcode","_ethMapongoLibraries","libraries","shortname","baseUrl","locationCodeWhiteList","locationWhiteList","availabilityStatus","l","subLocation","getBaseUrl","lib","filterLibraries","s","ethMapongoConfig","qrc","ethMapongoController","src","sublocation","_ethMapongo2","slspIconLabelLocationItemsController","iconLabelLocationItems","iconLabelLocationItems2","serviceScrollId","iconLabelLocationItems3","_ethLocationsFilter","_slspIconLabelLocations","_slspCollapseRelated","ethLocationsAfterModule","ethLocationsFilterModule","slspIconLabelLocationsModule","slspCollapseRelatedModule","ethLocationsFilterController","slspCollapseRelatedController","locations","relatedLocationsListLimit","slspIconLabelLocationsController","iconLabelLocations","iconLabelLocations2","iconLabelLocations3","_slspLoginBox","prmLoginAfterModule","slspLoginBoxModule","slspLoginBoxController","authMeth1","authMeth2","_slspMultivolumeRequest","prmOfferDetailsTileAfterModule","slspMultivolumeRequestModule","slspMultivolumeRequestController","previousUnavailableVolume","domManipulated","volumeField","refineButton","currentUnavailableVolume","isNoOfferAfterRefine","disableRequestButton","enableRequestButton","requestButton","attr","removeAttr","_slspOvpReservation","prmOpacAfterModule","slspOvpReservationModule","slspOvpReservationController","reservationLabel","processDoCheck","compiledHtml","unavailability","bestlocation","reservationButton","slspEditPersonalDetailsController","detailsBaseEdu","detailsBaseReg","exclude","grpA","grpB","getPatronGrp","personalInfoService","personalInfo","patron","patronstatus","registration","institution","patronstatuscode","grpLabelA","labelA","grpLabelB","labelB","buttonMove","_slspEditPersonalDetails","slspEditPersonalDetailsModule","slspPersonalInfoAfterModule","bcuFeesLinkController","display","info","children","className","$translate","instant","feesInfo","_bcuFeesLink","bcuFeesLinkModule","slspAlmaRequestController","requestLoan","requestDigi","removeClass","_slspAlmaRequest","slspAlmaRequestModule","slspRequestAfterModule","slspRequestCancelButtonController","currentRequestArray","request","requestType","statusCode","isCancelable","_slspRequestCancelButton","slspRequestCancelButtonModule","slspRequestsAfterModule","_bcuSearchSlots","_slspRaBetaIcon","bcuSearchBarAfterModule","bcuSearchSlotsModule","slspRaBetaIconModule","bcuSearchSlotsController","showTabsAndScopes","instClass","getInstitutionCode","slspRaBetaIconController","aiLogoAppended","aiLogoElement","aiLogoElements","_slspTopPaginationSwitch","prmSearchResultListAfterModule","slspTopPaginationSwitchModule","slspTopPaginationSwitchController","enableTopPagination","prmSearchResultToolBarAfterModule","_slspSendEmailInfo","prmSendEmailAfterModule","slspSendEmailInfoModule","slspSendEmailInfoController","sendEmailInfoLabel","sendEmailForm","html","decodeJWT","_slspDigitizationButtonLabel","_slspReservationButton","prmServiceButtonAfterModule","slspDigitizationButtonLabelModule","slspReservationButtonModule","slspDigitizationButtonLabelController","digiButtonLabel","digiItemButtonLabel","service","_digiButtonLabel","slspReservationButtonController","itemReservationLabel","language","statusName","requestParameters","prmOpacElement","itemReservationButton","warn","_slspCollapseDetails","prmServiceDetailsAfterModule","slspCollapseDetailsModule","hsgTranslatorService","$log","defaultLang","getLang","labelSet","slspCollapseDetailsConfig","ignore","charCount","itemCount","icons","expand","collapse","slspCollapseDetailsController","$sce","translator","waiting","iconExpand","iconCollapse","expandButtonLabel","collapseButtonLabel","NUMBER_OF_DETAILS_TO_SHOW","rootEl","deregister","makeFoldable","details","_details","textLength","configItem","detail","_typeof","lowerBound","addMarkup","getItemContainer","itemContainer","count","longtext","listitems","listitem","style","appendChild","msg","trustAsHtml","_hsgTranslator","_slspCollapseDetails2","constant","bcuRapidoNoFurtherOptionsController","almaRSServiceAvailable","isi","isSignedIn","rapidoSection","getElementById","rapidoTOC","hasClass","_bcuRapidoNoFurtherOptions","bcuRapidoNoFurtherOptionsModule","_slspRapidoFeesLink","prmServiceNgrsAfterModule","slspRapidoFeesLinkModule","slspRapidoFeesLinkController","rapidoFeesLink","ethDisableRequestButtonController","_ethDisableRequestButton","ethDisableRequestButtonModule","_slspRapidoDigitalOffer","_slspIconLabelRapido","prmServicePhysicalBestOfferAfterModule","slspRapidoDigitalOfferModule","slspIconLabelRapidoModule","slspIconLabelRapidoController","iconLabel2","isdigitaloffer","iconLabel","slspRapidoDigitalOfferController","loaderTemplate","isDone","loadingText","text","contains","tilesplaceholderactive","rapidoCosts","bestoffer","unavailableInAllMembersPod","unavailableResource","reservation","podId","readingRoomPod","bcuScopesSelectorController","setTimeout","searchScopes","onclick","getElementsByClassName","click","_bcuScopesSelector","bcuScopesSelectorModule","bcuTabsAndScopesSelectorAfterModule","_slspGitHint","prmTopBarBeforeModule","slspGitHintModule","slspGitHintController","slspGitHintService","currentTime","Date","getMessage","then","startTime","injector","get","endTime","topBarBefore","_slspGitHint2","$http","getTime","trustAsResourceUrl","headers","X-From-ExL-API-Gateway","response","httpError","_slspUnionLoginBox","prmUnionCatalogLoginAfterModule","slspUnionLoginBoxModule","slspUnionLoginBoxController","cancelLogin","bcuLangSwitchController","$parent","languages","changeLanguage","changeLangService","addLangParamToUrl","i18nService","setLanguage","$state","go","current","reload","_bcuLangSwitch","bcuLangSwitchModule","slspIllSigninOrderLoggedOutController","slspIllSigninOrderLoggedOutService","usrNme","isGuest","_slspIllSigninOrderLoggedOut","_slspIllSigninOrderLoggedOut2","slspIllSigninOrderLoggedOutModule","jwtHelper","sessionStorage","jwt","getItem","decodeToken","decodedToken","userName","slspUserAreaExpandableAfterModule","$onInit","source","sourceid","guid","originalsourceid","substring","lastIndexOf","GetIt1","links","isLinktoOnline","link","translation","fullView","availabilityLine","changeButton","result","changeButtonText","$doCheck","button","slspHttpInterceptPickupInformation","$httpProvider","interceptors","$q","_request","requestError","reject","responseError","_response","test","personalDelivery","slspHttpInterceptRequests","status","list_of_hold_states","list_of_photocopy_states","Object","keys","list_of_hold_states_regexp","RegExp","m","toLowerCase","holds","hold","holdstatus","cancel","list_of_photocopy_states_regexp","photocopies","photocopy","requeststatus","getAlert","ga","almaHowToGetitService","reqAlert","_htmlMsg","myEl2"],"mappings":"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","file":"custom.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","//import './slsp-courier-info';\r\nimport './slsp-ill-signin-order-alert';\r\nimport './prm-locations-after';\r\nimport './prm-location-items-after';\r\nimport './slsp-archives-htgi';\r\nimport './slsp-archives-viewit';\r\nimport './slsp-http-intercept-requests';\r\nimport './prm-user-area-expandable-after';\r\nimport './prm-loan-after';\r\nimport './prm-personal-info-after';\r\nimport './prm-alma-other-members-after';\r\nimport './prm-service-ngrs-after';\r\nimport './prm-service-physical-best-offer-after';\r\nimport './slsp-http-intercept-pickup-information';\r\nimport './prm-search-bar-after';\r\nimport './prm-tabs-and-scopes-selector-after';\r\nimport './prm-service-button-after';\r\nimport './prm-full-view-after';\r\nimport './prm-request-after';\r\nimport './prm-requests-after';\r\nimport './prm-alma-viewit-items-after';\r\nimport './prm-alma-other-units-after';\r\nimport './prm-login-after';\r\nimport './prm-location-holdings-after';\r\nimport './prm-offer-details-tile-after';\r\nimport './prm-fines-after';\r\nimport './prm-service-details-after';\r\nimport './prm-location-item-after';\r\nimport './prm-union-catalog-login-after';\r\nimport './prm-opac-after';\r\nimport './prm-facet-exact-after';\r\nimport './prm-citation-after';\r\nimport './prm-send-email-after';\r\nimport './prm-favorites-edit-labels-menu-after';\r\nimport './prm-search-result-tool-bar-after';\r\nimport './prm-search-result-list-after';\r\nimport './prm-top-bar-before';\r\nimport './prm-advanced-search-after';\r\n\r\n\r\n\r\n\r\n\r\nvar app = angular.module('centralCustom', ['angularLoad', 'slspIllSigninOrderAlert', 'ethLocationsAfterModule', 'ethLocationItemsAfterModule', 'slspArchivesHtgi', 'slspArchivesViewit', 'slspHttpInterceptRequests', 'slspUserAreaExpandableAfterModule', 'slspLoanAfterModule', 'slspPersonalInfoAfterModule', 'prmAlmaOtherMembersAfterModule', 'prmServiceNgrsAfterModule', 'prmServicePhysicalBestOfferAfterModule', 'slspHttpInterceptPickupInformation', 'bcuSearchBarAfterModule', 'bcuTabsAndScopesSelectorAfterModule', 'prmServiceButtonAfterModule', 'prmFullViewAfterModule', 'slspRequestAfterModule', 'slspRequestsAfterModule', 'prmAlmaViewitItemsAfterModule', 'prmAlmaOtherUnitsAfterModule', 'prmLoginAfterModule', 'prmLocationHoldingsAfterModule', 'prmOfferDetailsTileAfterModule', 'prmFinesAfterModule', 'prmServiceDetailsAfterModule', 'hsgLocationItemAfterModule', 'prmUnionCatalogLoginAfterModule', 'prmOpacAfterModule', 'prmFacetExactAfterModule', 'prmCitationAfterModule' , 'prmSendEmailAfterModule', 'prmFavoritesEditLabelsMenuAfterModule', 'prmSearchResultToolBarAfterModule', 'prmSearchResultListAfterModule', 'prmTopBarBeforeModule', 'prmAdvancedSearchAfterModule']);","import { slspAdvancedSearchClearButtonModule } from './slsp-advanced-search-clear-button/slsp-advanced-search-clear-button.module';\n\nexport const prmAdvancedSearchAfterModule = angular\n    .module('prmAdvancedSearchAfterModule', [])\n    .component('prmAdvancedSearchAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-advanced-search-clear-button-component after-ctrl=\"$ctrl\"></slsp-advanced-search-clear-button-component>\n            <slsp-advanced-search-after parent-ctrl=\"$parent.$ctrl\"></<slsp-advanced-search-after>`\n    });\n\n\nprmAdvancedSearchAfterModule.requires.push(slspAdvancedSearchClearButtonModule.name);","\r\n//-----------------slspAdvancedSearchClearButton------------------------------\r\n\r\nexport class slspAdvancedSearchClearButtonController {\r\n\r\n    constructor($timeout, $compile, $scope) {\r\n        this.$timeout = $timeout;\r\n        this.$compile = $compile;\r\n        this.$scope = $scope;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.afterCtrl = this.afterCtrl.parentCtrl;\r\n                this.afterCtrl.limit = 2;\r\n                \r\n                //console.log(\"slspAdvancedSearchClearButtonController: \", this.afterCtrl);\r\n\r\n                let incrementButton = angular.element(document.querySelector(`button[ng-click=\"$ctrl.incrementLimit()\"`));\r\n                let decrementButtonHtml = `\r\n                    <button type=\"button\" class=\"decrement-limit button-with-icon md-primary zero-margin button-with-icon md-button md-primoExplore-theme\" ng-click=\"$ctrl.decrementLimit()\" ng-hide=\"$ctrl.afterCtrl.limit <= 2\">\r\n                        <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\">\r\n                            <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"></path>\r\n                        </svg>\r\n                        <span translate=\"customized.search-advanced.delete\"></span>\r\n                    </button>`;\r\n                let clearButton = angular.element(document.querySelector(`button[ng-click=\"$ctrl.clearSearchForm()\"`));\r\n                let resetButtonHtml = `\r\n                    <button class=\"button-with-icon zero-margin button-notice button-with-icon md-button md-primoExplore-theme\" type=\"button\" ng-click=\"$ctrl.resetForm()\">\r\n                        <prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"replay\">\r\n                            <md-icon ng-if=\"($ctrl.iconDefinition && !$ctrl.isCustom && !$ctrl.isEmailMode()) && !$ctrl.useFallBack\" md-svg-icon=\"primo-ui:replay\" role=\"presentation\" class=\"md-primoExplore-theme\">\r\n                                <svg id=\"replay_cache250\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" y=\"960\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\">\r\n                                    <path d=\"M12,5V1L7,6L12,11V7A6,6 0 0,1 18,13A6,6 0 0,1 12,19A6,6 0 0,1 6,13H4A8,8 0 0,0 12,21A8,8 0 0,0 20,13A8,8 0 0,0 12,5Z\"></path>\r\n                                </svg>\r\n                            </md-icon>\r\n                            <prm-icon-after parent-ctrl=\"$ctrl\"></prm-icon-after>\r\n                        </prm-icon>\r\n                        <span translate=\"link.title.search.clear\"></span>\r\n                    </button>`;\r\n                         \r\n                let resetButton = this.$compile(resetButtonHtml)(this.$scope);\r\n                if (clearButton.length) {\r\n                    clearButton.replaceWith(resetButton);\r\n                }\r\n\r\n                let decrementButton = this.$compile(decrementButtonHtml)(this.$scope);\r\n                incrementButton[0].parentNode.insertBefore(decrementButton[0], incrementButton[0].nextSibling);\r\n\r\n            }, 0);\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slspAdvancedSearchClearButton\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n    decrementLimit() {\r\n        if (this.afterCtrl.limit > 2) {\r\n            this.afterCtrl.limit -= 1;\r\n\r\n            const limitIndex = this.afterCtrl.limit; // Index des letzten Elements basierend auf dem Limit\r\n            if (this.afterCtrl.rowArray[limitIndex]) {\r\n                this.afterCtrl.rowArray[limitIndex].boolOperator = \"AND\";\r\n                this.afterCtrl.rowArray[limitIndex].searchOperator = \"contains\";\r\n                this.afterCtrl.rowArray[limitIndex].searchCategory = \"any\";\r\n                this.afterCtrl.rowArray[limitIndex].searchQuery = '';\r\n\r\n               \r\n            }\r\n        }\r\n    }\r\n    resetForm() {\r\n        this.afterCtrl.clearSearchForm();\r\n        this.afterCtrl.limit = 2;\r\n    }\r\n}\r\n\r\nslspAdvancedSearchClearButtonController.$inject = ['$timeout', '$compile', '$scope'];\r\n\r\n","import { slspAdvancedSearchClearButtonController } from './slsp-advanced-search-clear-button.controller';\r\nimport { slspAdvancedSearchClearButtonHtml } from './slsp-advanced-search-clear-button.html';\r\n\r\nexport const slspAdvancedSearchClearButtonModule = angular\r\n    .module('slspAdvancedSearchClearButtonModule', [])\r\n    .controller('slspAdvancedSearchClearButtonController', slspAdvancedSearchClearButtonController)\r\n    .component('slspAdvancedSearchClearButtonComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspAdvancedSearchClearButtonController',\r\n        template: slspAdvancedSearchClearButtonHtml\r\n\r\n    })","\nimport {slspCollapseOtherInstModule} from './slsp-collapse-other-inst/slsp-collapse-other-inst.module';\nimport {slspIconLabelOtherMembersModule} from './slsp-icon-label-other-members/slsp-icon-label-other-members.module';\n\nexport const prmAlmaOtherMembersAfterModule = angular\n    .module('prmAlmaOtherMembersAfterModule', [])\n        .component('prmAlmaOtherMembersAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-collapse-other-inst-component after-ctrl=\"$ctrl\"></slsp-collapse-other-inst-component><slsp-icon-label-other-members-component after-ctrl=\"$ctrl\"></slsp-icon-label-other-members-component><slsp-alma-other-members-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-other-members-after>`\n        });\n\nprmAlmaOtherMembersAfterModule.requires.push(slspCollapseOtherInstModule.name);\nprmAlmaOtherMembersAfterModule.requires.push(slspIconLabelOtherMembersModule.name);","\r\n\r\n//--------CollapseOtherInst ---------------------------------------\r\n\r\n\r\nexport class slspCollapseOtherInstController {\r\n\r\n    constructor( $scope, $compile) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            console.log(this.parentCtrl);\r\n            if (this.parentCtrl.serviceMode !== 'howovp') {\r\n           \r\n                this.parentCtrl.isCollapsed = true;\r\n            }\r\n            else  {\r\n               \r\n                    this.parentCtrl.isCollapsed = false;\r\n            }\r\n              \r\n\r\n                if (this.parentCtrl.item.delivery.displayedAvailability == 'no_inventory') {\r\n                        this.noItemAtPickupLocation = noItemAtPickupLocation ;\r\n                        let noItemAtPickupLocation = document.querySelectorAll(`prm-alma-other-members`);\r\n                        let htmlnoItemAtPickupLocation = `<div class=\"bar alert-bar zero-margin-bottom layout-align-center-center layout-row\"><span class=\"center\" translate=\"customized.alert.nolocations\">​</span></div>`;\r\n                        \r\n                        let almaAlertBar = document.querySelectorAll('alma-htgi-svc');\r\n                            \r\n                            angular.element(noItemAtPickupLocation).prepend(this.$compile(htmlnoItemAtPickupLocation)(this.$scope)).addClass('noItemAtPickupLocation');\r\n                            angular.element(almaAlertBar).addClass('alma-alert-bar-hide');\r\n                }\r\n            }\r\n        \r\n            \r\n            \r\n       \r\n        catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slspCollapseOtherInstController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n }\r\n\r\n\r\nslspCollapseOtherInstController.$inject =  ['$scope', '$compile'];\r\n\r\n","\r\n    import {slspCollapseOtherInstController} from './slsp-collapse-other-inst.controller';\r\n    import {slspCollapseOtherInstHtml} from './slsp-collapse-other-inst.html';\r\n\r\n    export const slspCollapseOtherInstModule = angular\r\n        .module('slspCollapseOtherInstModule', [])\r\n            .controller('slspCollapseOtherInstController', slspCollapseOtherInstController)\r\n            .component('slspCollapseOtherInstComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspCollapseOtherInstController',\r\n                template: slspCollapseOtherInstHtml\r\n            })","\r\n\r\n//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelOtherMembersController {\r\n\r\n    constructor( $scope, $compile, $timeout ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    \r\n\r\n    $onInit() {\r\n        try{\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                \r\n                if (this.parentCtrl.availabilityType == \"E\") {\r\n                    \r\n                        this.iconLabelOtherMembersE = iconLabelOtherMembersE ;\r\n                        let iconLabelOtherMembersE = document.querySelectorAll(`prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('E')\"] md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme`);\r\n                        let htmlOtherMembersE = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.viewit_other.icon\"></div></div><div class=\"info-text\" translate=\"customized.viewit_other.bar\"></div>`;\r\n                            \r\n                            angular.element(iconLabelOtherMembersE).prepend(this.$compile(htmlOtherMembersE)(this.$scope)).addClass('icnLblOtherMembersE');\r\n                }\r\n\r\n                if (this.parentCtrl.availabilityType == \"P\") {\r\n                    \r\n                                        \r\n                    this.iconLabelOtherMembersP2 = iconLabelOtherMembersP2 ;\r\n                    let iconLabelOtherMembersP2 = document.querySelectorAll(`prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('P')\"] md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme`);\r\n                    let htmlOtherMembersP2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_4\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                        \r\n                        angular.element(iconLabelOtherMembersP2).prepend(this.$compile(htmlOtherMembersP2)(this.$scope)).addClass('icnLblOtherMembersP2');\r\n                }\r\n\r\n\r\n          \r\n                \r\n            },0);   \r\n        }\r\n        \r\n        catch(e){\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nslspIconLabelOtherMembersController.$inject =  [ '$scope', '$compile', '$timeout'];\r\n\r\n","\r\n    import {slspIconLabelOtherMembersController} from './slsp-icon-label-other-members.controller';\r\n    import {slspIconLabelOtherMembersHtml} from './slsp-icon-label-other-members.html';\r\n\r\n    export const slspIconLabelOtherMembersModule = angular\r\n        .module('slspIconLabelOtherMembersModule', [])\r\n            .controller('slspIconLabelOtherMembersController', slspIconLabelOtherMembersController)\r\n            .component('slspIconLabelOtherMembersComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelOtherMembersController',\r\n                template: slspIconLabelOtherMembersHtml\r\n            })","import { slspIconLabelOtherUnitsModule } from './slsp-icon-label-other-units/slsp-icon-label-other-units.module';\n\nexport const prmAlmaOtherUnitsAfterModule = angular\n    .module('prmAlmaOtherUnitsAfterModule', [])\n    .component('prmAlmaOtherUnitsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `<slsp-icon-label-other-units-component after-ctrl=\"$ctrl\"></slsp-icon-label-other-units-component><slsp-alma-other-units-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-other-units-after>`\n    });\n\n\nprmAlmaOtherUnitsAfterModule.requires.push(slspIconLabelOtherUnitsModule.name);","//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelOtherUnitsController {\r\n\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n\r\n\r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n                let iconLabelOtherUnitsE = document.querySelectorAll(`prm-alma-other-units md-content md-list.md-primoExplore-theme`);\r\n                let htmlOtherUnitsE = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.online\"></div></div>`;\r\n\r\n                angular.element(iconLabelOtherUnitsE).prepend(this.$compile(htmlOtherUnitsE)(this.$scope)).addClass('icnLblOtherUnitsE');\r\n\r\n                //not collapsed by default\r\n                this.parentCtrl.isCollapsed = false;\r\n\r\n\r\n            }, 0);\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured:  \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nslspIconLabelOtherUnitsController.$inject = ['$scope', '$compile', '$timeout'];","import { slspIconLabelOtherUnitsController } from './slsp-icon-label-other-units.controller';\r\nimport { slspIconLabelOtherUnitsHtml } from './slsp-icon-label-other-units.html';\r\n\r\nexport const slspIconLabelOtherUnitsModule = angular\r\n    .module('slspIconLabelOtherUnitsModule', [])\r\n    .controller('slspIconLabelOtherUnitsController', slspIconLabelOtherUnitsController)\r\n    .component('slspIconLabelOtherUnitsComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspIconLabelOtherUnitsController',\r\n        template: slspIconLabelOtherUnitsHtml\r\n    })","import { slspIconLabelViewitItemsModule } from './slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.module';\nimport { slspCollapseRelatedEResourcesModule } from './slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.module';\nimport { slspTranslatePublicNoteModule } from './slsp-translate-public-note/slsp-translate-public-note.module';\n\nexport const prmAlmaViewitItemsAfterModule = angular\n    .module('prmAlmaViewitItemsAfterModule', [])\n    .component('prmAlmaViewitItemsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `<slsp-icon-label-viewit-items-component after-ctrl=\"$ctrl\"></slsp-icon-label-viewit-items-component>\n                    <slsp-collapse-related-e-resources-component after-ctrl=\"$ctrl\"></slsp-collapse-related-e-resources-component>\n                    <slsp-translate-public-note-component after-ctrl=\"$ctrl\"></slsp-translate-public-note-component>\n                    <slsp-alma-viewit-items-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-viewit-items-after>`\n    });\n\n\nprmAlmaViewitItemsAfterModule.requires.push(slspIconLabelViewitItemsModule.name);\nprmAlmaViewitItemsAfterModule.requires.push(slspCollapseRelatedEResourcesModule.name);\nprmAlmaViewitItemsAfterModule.requires.push(slspTranslatePublicNoteModule.name);","export class slspCollapseRelatedEResourcesController {\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                // Alle 'prm-alma-viewit-items' Elemente durchsuchen\r\n                const allViewitItems = document.querySelectorAll('prm-alma-viewit-items');\r\n\r\n                allViewitItems.forEach(viewitItem => {\r\n                    // Direkt auf den Controller des Elements zugreifen\r\n                    const viewitCtrl = angular.element(viewitItem).controller('prmAlmaViewitItems');\r\n\r\n                    if (viewitCtrl && (viewitCtrl.serviceType === 'ELECTRONIC_RELATED' || viewitCtrl.serviceType === 'DIGITAL_RELATED')) {\r\n                        // Finde das md-list Element in diesem viewitItem\r\n                        const listElement = viewitItem.querySelector('md-list');\r\n                        if (listElement) {\r\n                            listElement.classList.add('collapsed');  // Liste einklappen\r\n\r\n                            // Button zum Ein-/Ausklappen hinzufügen\r\n                            const buttonElement = document.createElement('button');\r\n                            buttonElement.classList.add('section-title', 'md-button', 'md-primoExplore-theme', 'md-ink-ripple', 'collapse-related', 'collapsed');\r\n                            buttonElement.innerHTML = `<div layout=\"row\" layout-align=\"start center\" class=\"layout-align-start-center layout-row\"><h3 class=\"medium-uppercase-bold\" aria-expanded=\"false\"><br><span translate=\"c.uresolverServicesForRelatedTitles\" class=\"bold-text\"></span><prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"chevron-right\" class=\"arrow-icon\" style=\"\"><md-icon ng-if=\"($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())\" md-svg-icon=\"primo-ui:chevron-right\" role=\"presentation\" class=\"md-primoExplore-theme\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" y=\"384\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"></path></svg></md-icon></prm-icon></h3></div>`;\r\n\r\n                            // Event Listener für Klick hinzufügen\r\n                            buttonElement.addEventListener('click', function () {\r\n                                listElement.classList.toggle('collapsed');\r\n                                buttonElement.querySelector('.arrow-icon').classList.toggle('rotate-90');\r\n                            });\r\n\r\n                            // Finde den aktuellen Titel und ersetze ihn mit dem Button\r\n                            const titleElement = viewitItem.querySelector('span[translate=\"c.uresolverServicesForRelatedTitles\"]');\r\n                            if (titleElement) {\r\n                                const titleParentElement = titleElement.parentNode;\r\n                                const titleGrandParentElement = titleParentElement.parentNode;\r\n                                titleGrandParentElement.replaceChild(buttonElement, titleParentElement);\r\n\r\n                                // Kompilieren des Buttons mit AngularJS\r\n                                this.$timeout(() => {\r\n                                    this.$compile(buttonElement)(this.$scope);\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }, 50);\r\n        } catch (e) {\r\n            console.error('***SLSP*** an error occured: Rapido \\n\\n');\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspCollapseRelatedEResourcesController.$inject = ['$scope', '$compile', '$timeout'];\r\n","import { slspCollapseRelatedEResourcesController } from './slsp-collapse-related-e-resources.controller';\r\n\r\nexport const slspCollapseRelatedEResourcesModule = angular\r\n    .module('slspCollapseRelatedEResourcesModule', [])\r\n    .controller('slspCollapseRelatedEResourcesController', slspCollapseRelatedEResourcesController)\r\n    .component('slspCollapseRelatedEResourcesComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspCollapseRelatedEResourcesController',\r\n\r\n    })","\r\n\r\n//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelViewitItemsController {\r\n\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n\r\n\r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n                if (this.parentCtrl.serviceType == \"ELECTRONIC\") {\r\n\r\n                    this.iconLabelViewitItems = iconLabelViewitItems;\r\n                    let iconLabelViewitItems = document.querySelectorAll(\"#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-viewit > prm-alma-viewit-items:nth-child(1) > md-list\");\r\n                    let htmlViewitItems = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.online\"></div></div>`;\r\n                    let iconLabelRidOff = document.querySelectorAll(\".icnWrp:nth-child(2)\")\r\n                    angular.element(iconLabelRidOff).detach();\r\n                    angular.element(iconLabelViewitItems).prepend(this.$compile(htmlViewitItems)(this.$scope)).addClass('icnLblViewitItems');\r\n\r\n\r\n                }\r\n                else if (this.parentCtrl.serviceType == \"DIGITAL\") {\r\n\r\n                    this.iconLabelViewitItemsDigital = iconLabelViewitItemsDigital;\r\n                    let iconLabelViewitItemsDigital = document.querySelectorAll(\"#getit_link1_0>div>prm-full-view-service-container>div.section-body>div>prm-alma-viewit>prm-alma-viewit-items:nth-child(2)>md-list\");\r\n                    let htmlViewitItemsDigital = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.online\"></div></div>`;\r\n                    let iconLabelRidOffDigital = document.querySelectorAll(\".icnWrp:nth-child(2)\")    \r\n                        angular.element(iconLabelRidOffDigital).detach();\r\n                    angular.element(iconLabelViewitItemsDigital).prepend(this.$compile(htmlViewitItemsDigital)(this.$scope)).addClass('icnLblViewitItemsDigital');\r\n\r\n\r\n                }\r\n                else {\r\n                    return\r\n                }\r\n\r\n                ///console.log(this.parentCtrl);\r\n\r\n            }, 0);\r\n        }\r\n\r\n        catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nslspIconLabelViewitItemsController.$inject = ['$scope', '$compile', '$timeout'];\r\n\r\n","\r\n    import {slspIconLabelViewitItemsController} from './slsp-icon-label-viewit-items.controller';\r\n    import {slspIconLabelViewitItemsHtml} from './slsp-icon-label-viewit-items.html';\r\n\r\n    export const slspIconLabelViewitItemsModule = angular\r\n        .module('slspIconLabelViewitItemsModule', [])\r\n            .controller('slspIconLabelViewitItemsController', slspIconLabelViewitItemsController)\r\n            .component('slspIconLabelViewitItemsComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelViewitItemsController',\r\n                template: slspIconLabelViewitItemsHtml\r\n            })","//-------- ---------------------------------------\r\n\r\n\r\nexport class slspTranslatePublicNoteController {\r\n    constructor($scope, $compile, $filter) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$filter = $filter;\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            //console.log(this.parentCtrl);\r\n\r\n            let noteDe = document.querySelectorAll(\".note-de\");\r\n            let noteEn = document.querySelectorAll(\".note-en\");\r\n            let noteFr = document.querySelectorAll(\".note-fr\");\r\n            let noteIt = document.querySelectorAll(\".note-it\");\r\n            let noteBreak = document.querySelectorAll('p[ng-if=\"item.authNote\"] br, p[ng-if=\"item.publicNote\"] br');\r\n            angular.element(noteBreak).remove();\r\n\r\n            let lang = 'de';\r\n            let sms = this.$scope.$root.$$childHead.$ctrl.userSessionManagerService;\r\n            if (sms) {\r\n                lang = sms.getInterfaceLanguage();\r\n            }\r\n            //console.log(lang);\r\n\r\n            if (lang !== 'de') {\r\n                angular.element(noteDe).remove();\r\n            }\r\n            if (lang !== 'en') {\r\n                angular.element(noteEn).remove();\r\n            }\r\n            if (lang !== 'fr') {\r\n                angular.element(noteFr).remove();\r\n            }\r\n            if (lang !== 'it') {\r\n                angular.element(noteIt).remove();\r\n            }\r\n\r\n        } catch (e) {\r\n            console.error('***SLSP*** Ein Fehler ist aufgetreten: TranslatePublicNoteController \\n\\n');\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspTranslatePublicNoteController.$inject = ['$scope', '$compile', '$filter'];\r\n","import { slspTranslatePublicNoteController } from './slsp-translate-public-note.controller';\r\n\r\nexport const slspTranslatePublicNoteModule = angular\r\n    .module('slspTranslatePublicNoteModule', [])\r\n    .controller('slspTranslatePublicNoteController', slspTranslatePublicNoteController)\r\n    .component('slspTranslatePublicNoteComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspTranslatePublicNoteController',\r\n\r\n    })","import { slspCitationSelectModule } from './slsp-citation-select/slsp-citation-select.module';\n\nexport const prmCitationAfterModule = angular\n    .module('prmCitationAfterModule', [])\n    .component('prmCitationAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-citation-select-component after-ctrl=\"$ctrl\"></slsp-citation-select-component>\n            <slsp-citation-after parent-ctrl=\"$parent.$ctrl\"></<slsp-citation-after>`\n    });\n\n\nprmCitationAfterModule.requires.push(slspCitationSelectModule.name);","\r\n\r\nexport class slspCitationSelectController {\r\n\r\n    constructor($scope, $timeout, $compile) {\r\n        this.$scope = $scope;\r\n        this.$timeout = $timeout;\r\n        this.$compile = $compile;\r\n    }\r\n \r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n    \r\n                let citationSelectRadio = '<div class=\"md-container slsp-citation-select\"><div class=\"md-off\"></div><div class=\"md-on\"></div></div>';\r\n    \r\n                let citationSelectList = document.querySelectorAll('prm-citation ul li button');\r\n                \r\n                angular.forEach(citationSelectList, (citationSelect) => {\r\n                    angular.element(citationSelect).append(this.$compile(citationSelectRadio)(this.$scope)).addClass('slsp-citation-select-radio');\r\n                });\r\n    \r\n                //console.log(citationSelectRadio);\r\n    \r\n            }, 0);\r\n    \r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido hide Library\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n    \r\n}\r\n\r\nslspCitationSelectController.$inject = ['$scope', '$timeout', '$compile'];","import { slspCitationSelectController } from './slsp-citation-select.controller';\r\nimport { slspCitationSelectHtml } from './slsp-citation-select.html';\r\n\r\nexport const slspCitationSelectModule = angular\r\n    .module('slspCitationSelectModule', [])\r\n    .controller('slspCitationSelectController', slspCitationSelectController)\r\n    .component('slspCitationSelectComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspCitationSelectController',\r\n        template: slspCitationSelectHtml\r\n\r\n    })","export const ethOkmLinkConfig = function(){\r\n    return {\r\n        label: {\r\n            groupName: {\r\n                de: 'Meine Suche schicken an',\r\n                en: 'Send my search to',\r\n                fr: 'Envoyer ma recherche à',\r\n                it: 'Invia la mia ricerca a',\r\n            }\r\n        }\r\n    }\r\n}\r\n","export class ethOkmLinkController {\r\n\r\n    constructor($location, ethConfigService, ethOkmLinkConfig, $element) {\r\n        this.$location = $location;\r\n        this.ethConfigService = ethConfigService;\r\n        this.config = ethOkmLinkConfig;\r\n        this.$element = $element;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            this.groupName = this.ethConfigService.getLabel(this.config, 'groupName');\r\n            //console.log(this);\r\n            // is group already added?\r\n            let filteredFacets = this.prmFacet.facets.filter(f => {\r\n                return (f.name === this.groupName)\r\n            })\r\n            // push new Group to facetGroup array, if not already done\r\n            if (filteredFacets.length === 0) {\r\n                this.prmFacet.facets.push({\r\n                    name: this.groupName,\r\n                    displayedType: 'exact',\r\n                    limitCount: 0,\r\n                    facetGroupCollapsed: false,\r\n                    values: []\r\n                })\r\n            }\r\n            // Controller for new facetGroup\r\n            if (this.parentCtrl.facetGroup.name === this.groupName) {\r\n                let q1 = this.$location.search().query;\r\n                let aQ = Array.isArray(q1) ? q1 : [q1];\r\n                let searchValue = aQ.map(e => {\r\n                    return e.split(\",\")[2] || '';\r\n                }).join(' ');\r\n                let vid = window.appConfig.vid.replace(':', '-');\r\n                this.searchAlternatives = [\r\n                    {\r\n                        label: \"Open Knowledge Maps (BASE)\",\r\n                        url: \"https://openknowledgemaps.org/search?service=base&type=get&sorting=most-relevant&min_descsize=300&q=\" + encodeURIComponent(searchValue),\r\n                        image: \"custom/41SLSP_NETWORK-CENTRAL_PACKAGE/img/logo-okmaps.png\"\r\n                    },\r\n                    {\r\n                        label: \"Open Knowledge Maps (Pubmed)\",\r\n                        url: \"https://openknowledgemaps.org/search?service=pubmed&type=get&sorting=most-relevant&min_descsize=300&q=\" + encodeURIComponent(searchValue),\r\n                        image: \"custom/41SLSP_NETWORK-CENTRAL_PACKAGE/img/logo-okmaps.png\"\r\n                    }\r\n                ]\r\n                let currentElement = this.$element[0];\r\n                let prmOkmElement = currentElement.closest('prm-facet-exact');\r\n                angular.element(prmOkmElement).addClass('okm-full');\r\n            }\r\n\r\n\r\n\r\n        }\r\n        catch (e) {\r\n            console.error(\"***ETH*** an error occured: ethOkmLinkController.onInit()\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nethOkmLinkController.$inject = ['$location', 'ethConfigService', 'ethOkmLinkConfig', '$element'];\r\n","/**\r\n* @ngdoc module\r\n* @name ethOkmLinkModule\r\n*\r\n* @description\r\n*\r\n* - integrate links to Open Knowledge Maps (Base and PubMed) in Primo VE.\r\n* - Adds a facet group \"Send my search to\" with two links to OKM Base and OKM PubMed.\r\n*\r\n* <b>AngularJS Dependencies</b><br>\r\n* Service /js/services {@link ETH.ethConfigService}<br>\r\n* Service /js/services {@link ETH.ethOkmLinkConfig}<br>\r\n*\r\n* <b>CSS/Image Dependencies</b><br>\r\n* CSS ./css/eth-okm-link.css\r\n* IMG ./img/Logo_Open_Knowledge_Maps.jpg\r\n*\r\n*/\r\nimport {ethConfigService} from './services/eth-config.service';\r\nimport {ethOkmLinkConfig} from './eth-okm-link.config';\r\nimport {ethOkmLinkHtml} from './eth-okm-link.html';\r\nimport {ethOkmLinkController} from './eth-okm-link.controller';\r\n\r\nexport const ethOkmLinkModule = angular\r\n    .module('ethOkmLinkModule', [])\r\n        .factory('ethConfigService', ethConfigService)\r\n        .factory('ethOkmLinkConfig', ethOkmLinkConfig)\r\n        .controller('ethOkmLinkController', ethOkmLinkController)\r\n        .component('ethOkmLinkComponent',{\r\n            require: {prmFacet: '^^prmFacet' },\r\n            restrict: 'E',\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'ethOkmLinkController',\r\n            template: ethOkmLinkHtml\r\n        })\r\n","/**\r\n* @ngdoc service\r\n* @key ethConfigService\r\n*\r\n* @description\r\n*\r\n* Service to get and handle informations from a module config:\r\n* - getLabel()\r\n* - getUrl()\r\n* - getLanguage()\r\n*\r\n */\r\nexport const ethConfigService = ['$rootScope', function( $rootScope ){\r\n\r\n    function getLanguage(){\r\n        try{\r\n            let sms = $rootScope.$$childHead.$ctrl.userSessionManagerService;\r\n            if (!sms) {\r\n                console.error(\"***ETH*** ethConfigService: userSessionManagerService not available\");\r\n                return 'en';\r\n            }\r\n            else{\r\n                return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\r\n            }\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethConfigService.getLanguage():\");\r\n            console.error(e.message);\r\n            return 'en';\r\n        }\r\n    }\r\n\r\n\r\n    function getLabel(config, key) {\r\n        try{\r\n            let lang = this.getLanguage();\r\n            if (!config.label[key]) {\r\n                console.error(\"***ETH*** ethConfigService.getLabel: '\" + key + \"' not in config\");\r\n                return key;\r\n            }\r\n            if(config.label[key][lang]){\r\n                return config.label[key][lang];\r\n            }\r\n            else{\r\n                return config.label[key]['en'];\r\n            }\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethConfigService.getLabel():\");\r\n            console.error(e.message);\r\n            return '';\r\n        }\r\n    }\r\n\r\n    function getUrl(config, key) {\r\n        try{\r\n            let lang = this.getLanguage();\r\n            if (!config.url[key]) {\r\n                console.error(\"***ETH*** ethConfigService.getUrl: '\" + key + \"' not in config\");\r\n                return '';\r\n            }\r\n            if(config.url[key][lang]){\r\n                return config.url[key][lang];\r\n            }\r\n            else{\r\n                return config.url[key]['en'];\r\n            }\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethConfigService.getUrl():\");\r\n            console.error(e.message);\r\n            return '';\r\n        }\r\n    }\r\n\r\n    return {\r\n        getLanguage: getLanguage,\r\n        getLabel: getLabel,\r\n        getUrl: getUrl\r\n    };\r\n}]\r\n","import { ethOkmLinkModule } from './primo-explore-eth-okm-link/eth-okm-link.module';\r\n\r\nexport const prmFacetExactAfterModule = angular\r\n    .module('prmFacetExactAfterModule', [])\r\n    .component('prmFacetExactAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        \r\n        template: `\r\n        <eth-okm-link-component after-ctrl=\"$ctrl\"></eth-okm-link-component>\r\n            <slsp-facet-exact-after parent-ctrl=\"$parent.$ctrl\"></<slsp-facet-exact-after>`\r\n    });\r\n\r\n\r\nprmFacetExactAfterModule.requires.push(ethOkmLinkModule.name);","import { slspSaveLabelButtonModule } from './slsp-save-label-button/slsp-save-label-button.module';\n\nexport const prmFavoritesEditLabelsMenuAfterModule = angular\n    .module('prmFavoritesEditLabelsMenuAfterModule', [])\n    .component('prmFavoritesEditLabelsMenuAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-save-label-button-component after-ctrl=\"$ctrl\"></slsp-save-label-button-component>\n            <slsp-favorites-edit-labels-menu-after parent-ctrl=\"$parent.$ctrl\"></<slsp-favorites-edit-labels-menu-after>`\n    });\n\n\nprmFavoritesEditLabelsMenuAfterModule.requires.push(slspSaveLabelButtonModule.name);","//-----------------slsp-save-label-button------------------------------\r\n\r\nexport class slspSaveLabelButtonController {\r\n    constructor($scope, $compile, $element) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$element = $element;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n            // Erstellen Sie den \"Add\" -Button\r\n            let buttonAdd = '<button type=\"submit\" class=\"slsp-save-label-button\"><md-icon class=\"md-primoExplore-theme\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" id=\"ic_add_24px_cache88\" x=\"24\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg></md-icon></button>';\r\n\r\n            // Holen Sie sich alle passenden Formulare\r\n            let labelForms = document.querySelectorAll('form[ng-submit=\"$ctrl.addNewLabel()\"]');\r\n\r\n            // Fügen Sie den \"Add\"-Button für jedes Formular hinzu, wenn er noch nicht hinzugefügt wurde\r\n            labelForms.forEach(form => {\r\n                if (!angular.element(form).data('buttonAdded')) {\r\n                    let mdInputContainer = angular.element(form).find('md-input-container');\r\n                    mdInputContainer.after(buttonAdd);\r\n                    angular.element(form).data('buttonAdded', true);\r\n                }\r\n            });\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slsp-save-label-button\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspSaveLabelButtonController.$inject = ['$scope', '$compile', '$element'];\r\n","import { slspSaveLabelButtonController } from './slsp-save-label-button.controller';\r\nimport { slspSaveLabelButtonHtml } from './slsp-save-label-button.html';\r\n\r\nexport const slspSaveLabelButtonModule = angular\r\n    .module('slspSaveLabelButtonModule', [])\r\n    .controller('slspSaveLabelButtonController', slspSaveLabelButtonController)\r\n    .component('slspSaveLabelButtonComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspSaveLabelButtonController',\r\n        template: slspSaveLabelButtonHtml\r\n\r\n    })","import { slspClosedFinesBarModule } from './slsp-closed-fines-bar/slsp-closed-fines-bar.module';\n\nexport const prmFinesAfterModule = angular\n    .module('prmFinesAfterModule', [])\n    .component('prmFinesAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-closed-fines-bar-component after-ctrl=\"$ctrl\"></slsp-closed-fines-bar-component>\n            <slsp-fines-after parent-ctrl=\"$parent.$ctrl\"></<slsp-fines-after>`\n    });\n\n\nprmFinesAfterModule.requires.push(slspClosedFinesBarModule.name);","//-----------------RapidoHideLibrary------------------------------\r\n\r\nexport class slspClosedFinesBarController {\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n        this.showClosedFines = false; \r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occurred: RequestCancelButton \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n    $doCheck() {\r\n        if (this.parentCtrl.finesTypeDropDownSelection === 'closed' || this.parentCtrl.finesTypeDropDownSelection === 'all') {\r\n            const currentFinesArray = this.parentCtrl.totalNumOfFines;\r\n            if (angular.isArray(currentFinesArray) && currentFinesArray.length > 0) {\r\n                let hasClosedFines = false;\r\n                angular.forEach(currentFinesArray, (fine) => {\r\n                    if (fine.fineType === 'CLOSED' && !fine.firstWordRemoved) {\r\n                        hasClosedFines = true;\r\n\r\n                        //replace the first 2 words in the line right text with the fine data\r\n                        let fineData = fine.expandedDisplay[0].data;\r\n                        let firstLineRightText = fine.firstLineRight;\r\n                        const words = firstLineRightText.split(/\\s+/);\r\n                        words.splice(0, 2);\r\n                        words.unshift(fineData);\r\n                        fine.firstLineRight = words.join(' ');\r\n                        fine.firstWordRemoved = true;\r\n                        //console.log(fine);\r\n                    }\r\n                });\r\n                this.showClosedFines = hasClosedFines;\r\n            } else {\r\n                this.showClosedFines = false;\r\n            }\r\n        } else {\r\n            this.showClosedFines = false;\r\n        }\r\n    }\r\n}\r\n\r\nslspClosedFinesBarController.$inject = ['$scope'];","import { slspClosedFinesBarController } from './slsp-closed-fines-bar.controller';\r\nimport { slspClosedFinesBarHtml } from './slsp-closed-fines-bar.html';\r\n\r\n\r\nexport const slspClosedFinesBarModule = angular\r\n    .module('slspClosedFinesBarModule', [])\r\n    .controller('slspClosedFinesBarController', slspClosedFinesBarController)\r\n    .component('slspClosedFinesBarComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspClosedFinesBarController',\r\n        template: slspClosedFinesBarHtml\r\n    })","\nimport {slspIconLabelModule} from './slsp-icon-label/slsp-icon-label.module';\n\nexport const prmFullViewAfterModule = angular\n    .module('prmFullViewAfterModule', [])\n        .component('prmFullViewAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-icon-label-component after-ctrl=\"$ctrl\"></slsp-icon-label-component><slsp-full-view-after parent-ctrl=\"$parent.$ctrl\"></slsp-full-view-after>`\n        });\n\n        prmFullViewAfterModule.requires.push(slspIconLabelModule.name);\n","//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelController {\r\n\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n\r\n\r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n                //console.log(this.parentCtrl.$scope.$ctrl.fullViewService)\r\n\r\n                // this.iconLabel3 = iconLabel3 ;\r\n                // let iconLabel3 = document.querySelectorAll('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-viewit > prm-alma-viewit-items > md-list');\r\n                // let html3 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\">online</div></div>`;\r\n\r\n                //     angular.element(iconLabel3).prepend(this.$compile(html3)(this.$scope)).addClass('icnLbl3');\r\n\r\n\r\n                //     this.iconLabel4 = iconLabel4 ;\r\n                //     let iconLabel4 = document.querySelectorAll('md-content > prm-location-items > md-list');\r\n\r\n                //     let html4 = `<div class=\"icnWrp><div class=\"iconDiv4\"></div><div class=\"iconLabel\">pickup</div></div>`;\r\n\r\n                //         angular.element(iconLabel4).prepend(this.$compile(html4)(this.$scope)).addClass('icnLbl3');\r\n\r\n                // this.iconLabel5 = iconLabel5 ;\r\n                // let iconLabel5 = document.querySelectorAll('md-content > prm-locations > div.padding-left-medium > md-list:nth-child(1)');\r\n\r\n                // let html5 = `<div class=\"icnWrp\"><div class=\"iconDiv5\"></div><div class=\"iconLabel\">pickup2</div></div>`;\r\n\r\n                //     angular.element(iconLabel5).prepend(this.$compile(html5)(this.$scope)).addClass('icnLbl3');\r\n\r\n\r\n            }, 1000);\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nslspIconLabelController.$inject = ['$scope', '$compile', '$timeout'];","\r\n    import {slspIconLabelController} from './slsp-icon-label.controller';\r\n    import {slspIconLabelHtml} from './slsp-icon-label.html';\r\n\r\n    export const slspIconLabelModule = angular\r\n        .module('slspIconLabelModule', [])\r\n            .controller('slspIconLabelController', slspIconLabelController)\r\n            .component('slspIconLabelComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelController',\r\n                template: slspIconLabelHtml\r\n            })","export class slspHideRapidoLoanLinkController {\r\n    constructor($element) {\r\n        this.itemType = null;\r\n        this.itemBarcode = null;\r\n        this.hideTitle = false;\r\n        this.$element = $element;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            this.itemBarcode = this.parentCtrl.item.itembarcode;\r\n            this.itemType = this.parentCtrl.loansService.requestParams.type;\r\n\r\n            if (this.itemBarcode.includes(\"RAPIDO\") || this.itemBarcode.includes(\"41SLSP\")) {\r\n                this.setTitle = setTitle;\r\n\r\n                function setTitle() {\r\n                    return this.parentCtrl.item.title;\r\n                }\r\n\r\n                this.hideTitle = true;\r\n\r\n                // Hinzufügen der hide-title Klasse zum Großelternelement prm-loan\r\n                this.$element.parent().parent().addClass('hide-title');\r\n\r\n                //console.log(this.$element.parent().parent())\r\n            }\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slspHideRapidoLoanLinkController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\nslspHideRapidoLoanLinkController.$inject = ['$element'];","import { slspHideRapidoLoanLinkController } from './slsp-hide-rapido-loan-link.controller';\r\nimport { slspHideRapidoLoanLinkHtml } from './slsp-hide-rapido-loan-link.html';\r\n\r\nexport const slspHideRapidoLoanLinkModule = angular\r\n    .module('slspHideRapidoLoanLinkModule', [])\r\n    .controller('slspHideRapidoLoanLinkController', slspHideRapidoLoanLinkController)\r\n    .component('slspHideRapidoLoanLinkComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspHideRapidoLoanLinkController',\r\n        template: slspHideRapidoLoanLinkHtml\r\n    })","import { slspRenewItemTextModule } from './slsp-renew-item-text/slsp-renew-item-text.module';\nimport { slspHideRapidoLoanLinkModule } from './slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.module';\n\n\nexport const slspLoanAfterModule = angular\n    .module('slspLoanAfterModule', [])\n    .component('prmLoanAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-renew-item-text-component after-ctrl=\"$ctrl\"></slsp-renew-item-text-component>\n            <slsp-hide-rapido-loan-link-component after-ctrl=\"$ctrl\"></slsp-hide-rapido-loan-link-component>\n            <slsp-loan-after parent-ctrl=\"$parent.$ctrl\"></slsp-loan-after>`\n    });\n\nslspLoanAfterModule.requires.push(slspRenewItemTextModule.name);\nslspLoanAfterModule.requires.push(slspHideRapidoLoanLinkModule.name);","//--------Renewstatus display of loan items ---------------------------------------\r\n\r\nexport class slspRenewItemTextController {\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            this.getRenewText = getRenewText;\r\n\r\n            function getRenewText() {\r\n                if (this.parentCtrl.item.renewstatuses !== undefined && this.parentCtrl.item.renewstatuses.renewstatus[0] !== undefined) {\r\n                    return this.parentCtrl.item.renewstatuses.renewstatus[0];\r\n                } else {\r\n                    return\r\n                }\r\n\r\n            }\r\n\r\n            \r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slspRenewItemTextController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspRenewItemTextController.$inject = [];","\r\n\r\n\r\n\r\n\r\n    import {slspRenewItemTextController} from './slsp-renew-item-text.controller';\r\n    import {slspRenewItemTextHtml} from './slsp-renew-item-text.html';\r\n\r\n    export const slspRenewItemTextModule = angular\r\n        .module('slspRenewItemTextModule', [])\r\n            .controller('slspRenewItemTextController', slspRenewItemTextController)\r\n            .component('slspRenewItemTextComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspRenewItemTextController',\r\n                template: slspRenewItemTextHtml\r\n            })","import { slspIButtonModule } from './slsp-i-button/slsp-i-button.module';\r\nimport { slspHoldingCollapseModule } from './slsp-holding-collapse/slsp-holding-collapse.module';\r\n\r\n\r\nexport const prmLocationHoldingsAfterModule = angular\r\n    .module('prmLocationHoldingsAfterModule', [])\r\n    .component('prmLocationHoldingsAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        template: `\r\n\t\t\r\n        <slsp-i-button-component after-ctrl=\"$ctrl\"></slsp-i-button-component>\r\n        <slsp-holding-collapse-component after-ctrl=\"$ctrl\"></slsp-holding-collapse-component>\r\n        <slsp-location-holdings-after parent-ctrl=\"$parent.$ctrl\"></slsp-location-holdings-after>\r\n        \r\n\t\t`\r\n    });\r\n\r\n\r\nprmLocationHoldingsAfterModule.requires.push(slspIButtonModule.name);\r\nprmLocationHoldingsAfterModule.requires.push(slspHoldingCollapseModule.name);\r\n","export class slspHoldingCollapseController {\r\n    constructor($scope, $element, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$element = $element;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n        this.labels = {\r\n            holdingExpandLabel: '<md-icon md-svg-icon=\"hardware:ic_keyboard_arrow_down_24px\" class=\"md-primoExplore-theme\" role=\"img\" aria-label=\"hardware:ic_keyboard_arrow_down_24px\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" id=\"ic_keyboard_arrow_down_24px_cache189\" y=\"264\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z\"></path></svg></md-icon><span translate=\"customized.holdings.expand\"></span>',\r\n            holdingCollapseLabel: '<md-icon class=\"hsg-fold-icon-collapse md-primoExplore-theme\" md-svg-icon=\"hardware:ic_keyboard_arrow_down_24px\" role=\"img\" aria-label=\"hardware:ic_keyboard_arrow_down_24px\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" id=\"ic_keyboard_arrow_down_24px_cache231\" y=\"264\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z\"></path></svg></md-icon><span translate=\"customized.holdings.collapse\"></span>'\r\n        };\r\n    }\r\n\r\n\r\n    $onInit() {\r\n        this.parentCtrl = this.afterCtrl.parentCtrl;\r\n        let vm = this; // speichern Sie eine Referenz auf das aktuelle Objekt\r\n\r\n        this.$scope.$watch(\r\n            function () {\r\n                return vm.parentCtrl.currLoc;\r\n            },\r\n            function (newValue, oldValue) {\r\n                if (newValue !== undefined && newValue.isHoldingExpandedData !== undefined && newValue.isHoldingExpandedData === true) {\r\n                    let addCollapseClass = document.querySelectorAll(\"prm-location-holdings\");\r\n                    angular.element(addCollapseClass).addClass('holding-data-expandable');\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            let holdingExpand = document.querySelectorAll('button[ng-if=\"($ctrl.currLoc.locationNoItems ?  $ctrl.summaryLinesVisible : !$ctrl.summaryLinesVisible) && $ctrl.currLoc.summaryHoldings.baseSummaryShort.length > 0 && $ctrl.currLoc.isHoldingExpandedData\"] > span[translate=\"nui.locations.viewMore\"]');\r\n            let holdingExpandButton = document.querySelectorAll('button[ng-if=\"($ctrl.currLoc.locationNoItems ?  $ctrl.summaryLinesVisible : !$ctrl.summaryLinesVisible) && $ctrl.currLoc.summaryHoldings.baseSummaryShort.length > 0 && $ctrl.currLoc.isHoldingExpandedData\"]');\r\n            holdingExpand.forEach(element => {\r\n                if (!element.__replaced) {\r\n                    angular.element(element).replaceWith(this.$compile(this.labels.holdingExpandLabel)(this.$scope));\r\n                    element.__replaced = true;\r\n                }\r\n                angular.element(holdingExpandButton).addClass('holding-expand-button');\r\n            });\r\n\r\n            let holdingCollapse = document.querySelectorAll('button[ng-if=\"($ctrl.currLoc.locationNoItems ?  !$ctrl.summaryLinesVisible : $ctrl.summaryLinesVisible) && $ctrl.currLoc.summaryHoldings.baseSummaryShort.length > 0 && $ctrl.currLoc.isHoldingExpandedData\"] > span[translate=\"nui.locations.viewLess\"]');\r\n            let holdingCollapseButton = document.querySelectorAll('button[ng-if=\"($ctrl.currLoc.locationNoItems ?  !$ctrl.summaryLinesVisible : $ctrl.summaryLinesVisible) && $ctrl.currLoc.summaryHoldings.baseSummaryShort.length > 0 && $ctrl.currLoc.isHoldingExpandedData\"]');\r\n            holdingCollapse.forEach(element => {\r\n                if (!element.__replaced) {\r\n                    angular.element(element).replaceWith(this.$compile(this.labels.holdingCollapseLabel)(this.$scope));\r\n                    element.__replaced = true;\r\n                }\r\n                angular.element(holdingCollapseButton).addClass('holding-collapse-button');\r\n            });\r\n\r\n\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occurred: slspHoldingCollapseController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspHoldingCollapseController.$inject = ['$scope', '$element', '$compile', '$timeout'];\r\n","    import { slspHoldingCollapseController } from './slsp-holding-collapse.controller';\r\n    import { slspHoldingCollapseHtml } from './slsp-holding-collapse.html';\r\n\r\n\r\n    export const slspHoldingCollapseModule = angular\r\n        .module('slspHoldingCollapseModule', [])\r\n        .controller('slspHoldingCollapseController', slspHoldingCollapseController)\r\n        .component('slspHoldingCollapseComponent', {\r\n            bindings: { afterCtrl: '<' },\r\n            controller: 'slspHoldingCollapseController',\r\n            template: slspHoldingCollapseHtml\r\n        })","export class slspIButtonController {\r\n\r\n    constructor($scope, $rootScope) {\r\n        this.$scope = $scope;\r\n\r\n        this.$rootScope = $rootScope;\r\n\r\n        this.biblinkBase = \"https:\\/\\/registration.slsp.ch\\/libraries\\/\\?library\\=\";\r\n    }\r\n\r\n    $onInit() {\r\n        this.parentCtrl = this.afterCtrl.parentCtrl;\r\n        this.getLibrary = this.getLibrary.bind(this);\r\n        this.getLibraryCode = this.getLibraryCode.bind(this);\r\n        this.getLanguage = this.getLanguage.bind(this);\r\n    }\r\n\r\n    getLibrary() {\r\n        if (this.parentCtrl.currLoc !== undefined && this.parentCtrl.currLoc.location !== undefined) {\r\n            return this.parentCtrl.currLoc.location.librarycodeTranslation;\r\n        } else {\r\n            return;\r\n        }\r\n    }\r\n\r\n    getLibraryCode() {\r\n        if (this.parentCtrl.currLoc !== undefined && this.parentCtrl.currLoc.location !== undefined) {\r\n            return this.parentCtrl.currLoc.location.libraryCode;\r\n        } else {\r\n            return;\r\n        }\r\n    }\r\n\r\n    getLanguage() {\r\n\r\n        let sms = this.$rootScope.$$childHead.$ctrl.userSessionManagerService;\r\n        if (!sms) {\r\n            return 'en';\r\n        } else {\r\n            return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\r\n        }\r\n    }\r\n\r\n    specialInfoBox() {\r\n        let addSpecialInfoClass = document.querySelectorAll(\"prm-location-items\");\r\n        angular.element(addSpecialInfoClass).addClass('special-library-info');\r\n    }\r\n\r\n}\r\n\r\nslspIButtonController.$inject = ['$scope', '$rootScope'];","    import { slspIButtonController } from './slsp-i-button.controller';\r\n    import { slspIButtonHtml } from './slsp-i-button.html';\r\n\r\n\r\n    export const slspIButtonModule = angular\r\n        .module('slspIButtonModule', [])\r\n        .controller('slspIButtonController', slspIButtonController)\r\n        .component('slspIButtonComponent', {\r\n            bindings: { afterCtrl: '<' },\r\n            controller: 'slspIButtonController',\r\n            template: slspIButtonHtml\r\n        })","export class hsgDisplayItemPolicyController {\n\n\tconstructor($scope, $document, $element) {\n\t\tthis.$scope = $scope\n\t\tthis.$document = $document\n\t\tthis.$element = $element\n\t}\n\n\t$onInit() {\n\t\tthis.ctrl = this.afterCtrl.parentCtrl\n\t\tthis.setItemPolicyText()\n\t\t\n\t}\n\t\n\tsetItemPolicyText() {\n\t\tconst policy = this.selectItem().itemFields[3]\n\t\tthis.selectItem().itemFields[3] = policy.replace(/^\\d{2} /, '')\n\t\t/*\n\t\tafter setting the item policy the first time, register\n\t\ta watcher to change it again, in case it gets reset\n\t\t*/\n\t\tthis.registerWatcher()\n\t\treturn\n\t}\n\n\tregisterWatcher() {\n\t\tlet that = this\n\t\tthis.$scope.$watch(\n\t\t\tfunction () {\n\t\t\t\treturn that.selectItem().itemFields[3]\n\t\t\t},\n\t\t\tfunction (newValue, oldValue) {\n\t\t\t\tif (newValue !== oldValue) {\n\t\t\t\t\tthat.setItemPolicyText()\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\t}\n\n\tselectItem() {\n\t\tlet componentName = this.$element[0].nodeName.toLocaleLowerCase()\n\t\tlet index = Array.from(this.$document.find(componentName)).findIndex(e => e == this.$element[0])\n\t\treturn this.ctrl.loc.items[index]\n\t}\n}\n\nhsgDisplayItemPolicyController.$inject = ['$scope', '$document', '$element']\n","import { hsgDisplayItemPolicyController } from './hsg-display-item-policy.controller'\n\n\nexport const hsgDisplayItemPolicyModule = angular\n\t.module('hsgDisplayItemPolicyModule', [])\n\t.controller('hsgDisplayItemPolicyController', hsgDisplayItemPolicyController)\n\t.component('hsgDisplayItemPolicyComponent', {\n\t\tbindings: { afterCtrl: '<' },\n\t\tcontroller: 'hsgDisplayItemPolicyController'\n\t})\n","import { hsgDisplayItemPolicyModule } from './hsg-display-item-policy/hsg-display-item-policy.module'\nimport { slspCugPolicyModule } from './slsp-cug-policy/slsp-cug-policy.module'\n//import { slspOvpItemReservationModule } from './slsp-ovp-item-reservation/slsp-ovp-item-reservation.module'\n\nexport const hsgLocationItemAfterModule = angular\n\t.module('hsgLocationItemAfterModule', [])\n.component('prmLocationItemAfter', {\n\t\tbindings: { parentCtrl: '<' },\n\t\ttemplate: `\n\t\t\t<hsg-display-item-policy-component after-ctrl=\"$ctrl\"></hsg-display-item-policy-component>\n\t\t\t<slsp-cug-policy-component after-ctrl=\"$ctrl\"></slsp-cug-policy-component>\n\t\t\t<slsp-ovp-item-reservation-component after-ctrl=\"$ctrl\"></slsp-ovp-item-reservation-component>\n\t\t\t<slsp-location-item-after parent-ctrl=\"$parent.$ctrl\"></<slsp-location-item-after>\n\t\t`\n\t})\n\nhsgLocationItemAfterModule.requires.push(hsgDisplayItemPolicyModule.name)\nhsgLocationItemAfterModule.requires.push(slspCugPolicyModule.name)\n//hsgLocationItemAfterModule.requires.push(slspOvpItemReservationModule.name)\n","//-----------------Custom User Groups Policy------------------------------\r\n\r\nexport class slspCugPolicyController {\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            let userGroup = this.parentCtrl.userSessionManagerService.jwtUtilService.getDecodedToken().userGroup;\r\n            //console.log(this.parentCtrl);\r\n\r\n            for (let i = 0; i < this.parentCtrl.loc.items.length; i++) {\r\n                if (['GUEST', '01', '02', '03', '04', '05', '06', '11', '12', '13', '14', '15', '16', '17', '18', '91', '92', '98', '99', 'STAFF'].includes(userGroup)) {\r\n                   \r\n                    this.parentCtrl.loc.items[i].itemFields[1] = \"\";\r\n\r\n                } else if (this.parentCtrl.loc.items[i].itemFields[1].trim() !== \"\") {\r\n\r\n                    this.parentCtrl.loc.items[i].itemFields[3] = \"\";\r\n                }\r\n\r\n            }\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occurred: Rapido hide Library\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspCugPolicyController.$inject = ['$scope'];\r\n\r\n","import { slspCugPolicyController } from './slsp-cug-policy.controller';\r\n\r\n\r\nexport const slspCugPolicyModule = angular\r\n    .module('slspCugPolicyModule', [])\r\n    .controller('slspCugPolicyController', slspCugPolicyController)\r\n    .component('slspCugPolicyComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspCugPolicyController',\r\n\r\n    })","import { ethMapongoCheckModule } from './eth-mapongo/eth-mapongo-check.module';\r\nimport { ethMapongoModule } from './eth-mapongo/eth-mapongo.module';\r\nimport { slspIconLabelLocationItemsModule } from './slsp-icon-label-location-items/slsp-icon-label-location-items.module';\r\nimport { ethLocationItemsFilterModule } from './eth-location-items-filter/eth-location-items-filter.module';\r\n\r\nexport const ethLocationItemsAfterModule = angular\r\n    .module('ethLocationItemsAfterModule', [])\r\n    .component('prmLocationItemsAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        template: `\r\n\t\t<eth-mapongo-check after-ctrl=\"$ctrl\"></eth-mapongo-check>\r\n        <slsp-icon-label-location-items-component after-ctrl=\"$ctrl\"></slsp-icon-label-location-items-component>\r\n        <eth-location-items-filter-component after-ctrl=\"$ctrl\"></eth-location-items-filter-component>\r\n        <slsp-location-items-after parent-ctrl=\"$parent.$ctrl\"></slsp-location-items-after>\r\n        \r\n\t\t`\r\n    });\r\n\r\nethLocationItemsAfterModule.requires.push(ethMapongoCheckModule.name);\r\nethLocationItemsAfterModule.requires.push(ethMapongoModule.name);\r\nethLocationItemsAfterModule.requires.push(slspIconLabelLocationItemsModule.name);\r\nethLocationItemsAfterModule.requires.push(ethLocationItemsFilterModule.name);","export class ethLocationItemsFilterController {\n\n    constructor($timeout, $scope, $compile) {\n        this.$timeout = $timeout;\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.filterLabel = '<span class=\"filter-label\" translate=\"nui.aria.locationItems.filters\"></span>';\n    }\n\n    $doCheck() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n  \n            // Check if the filter button exists\n            let filterButton = document.querySelectorAll('button[ng-if=\"($ctrl.isFilter || $ctrl.isFiltered) && $ctrl.isAnyFilterFilled()\"] svg');\n            if (filterButton.length > 0) {\n                angular.element(filterButton).replaceWith(this.$compile(this.filterLabel)(this.$scope));\n            } else {\n                // Stop the loop if the element is replaced\n                this.filterButtonReplaced = true;\n            }\n         \n         \n        }\n        catch(e){\n            console.error(\"***SLSP*** an error occured: ethLocationItemsFilterController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nethLocationItemsFilterController.$inject = ['$timeout', '$scope', '$compile'];\n","/**\n* @ngdoc module\n* @name ethLocationsFilterModule\n*\n* @description\n*\n* Customization for the locations filter:<br>\n* - the locations filter is visible by default\n*\n* If there is 1 location: prmLocationItemsAfter\n*\n* If there are multiple locations: prmLocationAfter;\n* after all locations: prmLocationsAfter;\n* after choosing a location: prmLocationItemsAfter\n*\n*\n* <b>AngularJS Dependencies</b><br>\n*\n*\n* <b>CSS/Image Dependencies</b><br>\n* CSS eth-locations-filter.css\n*\n*\n*/\nimport {ethLocationItemsFilterController} from './eth-location-items-filter.controller';\n\nexport const ethLocationItemsFilterModule = angular\n    .module('ethLocationItemsFilterModule', [])\n        .controller('ethLocationItemsFilterController', ethLocationItemsFilterController)\n        .component('ethLocationItemsFilterComponent', {\n            bindings: {afterCtrl: '<'},\n            controller: 'ethLocationItemsFilterController'\n        })\n","/**\n* @ngdoc service\n* @key ethConfigService\n*\n* @description\n*\n* Service to get and handle informations from a module config:\n* - getLabel()\n* - getUrl()\n* - getLanguage()\n*\n */\nexport const ethConfigService = ['$rootScope', function( $rootScope ){\n\n    function getLanguage(){\n        try{\n            let sms = $rootScope.$$childHead.$ctrl.userSessionManagerService;\n            if (!sms) {\n                console.error(\"***ETH*** ethConfigService: userSessionManagerService not available\");\n                return 'en';\n            }\n            else{\n                return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getLanguage():\");\n            console.error(e.message);\n            return 'en';\n        }\n    }\n\n\n    function getLabel(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.label[key]) {\n                console.error(\"***ETH*** ethConfigService.getLabel: '\" + key + \"' not in config\");\n                return key;\n            }\n            if(config.label[key][lang]){\n                return config.label[key][lang];\n            }\n            else{\n                return config.label[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getLabel():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    function getUrl(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.url[key]) {\n                console.error(\"***ETH*** ethConfigService.getUrl: '\" + key + \"' not in config\");\n                return '';\n            }\n            if(config.url[key][lang]){\n                return config.url[key][lang];\n            }\n            else{\n                return config.url[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getUrl():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    return {\n        getLanguage: getLanguage,\n        getLabel: getLabel,\n        getUrl: getUrl\n    };\n}]\n","export class ethMapongoCheckController {\n\n    constructor( $scope, $compile, $element, ethMapongoLibrariesService ) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$element = $element;\n        this.ethMapongoLibrariesService = ethMapongoLibrariesService;\n        this.isMapongoLibrary = true;\n        this.noLocationItemAfter = 0;\n     }\n\n    $onInit() {\n        this.parentCtrl = this.afterCtrl.parentCtrl;\n    }\n\n    $doCheck() {\n        try{\n            // are location item elements loaded and rendered? Or \"show more items\" pushed?\n            let locationItemAfter = this.$element[0].parentElement.parentElement.getElementsByTagName('prm-location-item-after');\n            let noLocationItemAfter = locationItemAfter.length;\n            if(noLocationItemAfter <= this.noLocationItemAfter){\n                return;\n            }\n            this.noLocationItemAfter = noLocationItemAfter;\n\n            // mapongo library?\n            if(!this.isMapongoLibrary)return;\n            if (!this.ethMapongoLibrariesService.isMapongoLibrary(this.parentCtrl.loc.location.libraryCode)) {\n                this.isMapongoLibrary = false;\n                return;\n            }\n\n            // array of html collection prm-location-item-after\n            let aPrmLocationItemAfter = [].slice.call(locationItemAfter);\n            this.recordid = this.parentCtrl.item.pnx.control.sourcerecordid[0];\n\n            // iterate items of a location (Exemplare), get reference to after directive of location-item and inject eth-mapongo-directive\n            for(let i = 0; i < this.parentCtrl.loc.items.length; i++){\n                if(i >= aPrmLocationItemAfter.length){\n                    // more items than initially rendered\n                    return;\n                }\n\n                let item = this.parentCtrl.loc.items[i];\n                let prmLocationItemAfter = aPrmLocationItemAfter[i];\n\n                // is mapongo directive already injected?\n                let ethMapongo = prmLocationItemAfter.querySelector('eth-mapongo');\n                if(!!ethMapongo){\n                    continue;\n                }\n\n                if (!this.ethMapongoLibrariesService.isMapongoSubLocation(this.parentCtrl.loc.location.libraryCode, item._additionalData.secondarylocationname)) {\n                    continue;\n                }\n\t\t\t\t\n                if(!this.ethMapongoLibrariesService.isAvailable(item._additionalData.itemstatusname)){\n                    continue;\n                }\n\t\t\t\t\n\n                this.subLocationCode = this.ethMapongoLibrariesService.getSubLocationCode(this.parentCtrl.loc.location.libraryCode, item._additionalData.secondarylocationname);\n                this.callnumber = item._additionalData.callnumber;\n                let addCallnumberEntry = item.fullItemFields.filter(function(e) {return e.indexOf(\"Zusätzliche Signatur:\") > -1 || e.indexOf(\"Additional call number:\") > -1;} );\n                this.addCallnumber = \"\";\n                if (addCallnumberEntry.length > 0) {\n                    this.addCallnumber = addCallnumberEntry[0].replace(\"Zusätzliche Signatur: \",\"\").replace(\"Additional call number: \",\"\");\n                }\n                if(this.addCallnumber != \"\"){\n                    // todo: is it always correct to use 'Additional call number' if it exists?\n                    this.callnumber = this.addCallnumber;\n                }\n\n                let barcodeEntry = item.fullItemFields.filter(function(e) {return e.indexOf(\"Barcode:\") > -1 || e.indexOf(\"Strichcode:\") > -1;} );\n                this.barcode = \"\";\n                if (barcodeEntry.length > 0) {\n                    this.barcode = barcodeEntry[0].replace(\"Barcode: \",\"\").replace(\"Strichcode: \",\"\");\n                }\n\t\t\t\t\n                // inject eth-mapongo element (handled by eth-mapongo.module)\n                angular.element(prmLocationItemAfter).append(this.$compile('<eth-mapongo after-ctrl=\"$ctrl\" class=\"eth-mapongo-container\" recordid=\"' + this.recordid + '\" barcode=\"' + this.barcode + '\" callnumber=\"' + this.callnumber + '\" sublocation=\"' + this.subLocationCode + '\"parent-ctrl=\"$ctrl.parentCtrl\"></eth-mapongo>')(this.$scope));\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** ethMapongoCheckController.$doCheck:\");\n            console.error(e.message);\n        }\n\n    }\n}\n\nethMapongoCheckController.$inject = [ '$scope', '$compile', '$element', 'ethMapongoLibrariesService'];\n","/**\n* @ngdoc module\n* @name ethMapongoCheckModule\n*\n* @description\n* checks if mapongo should be injected\n* - checks if the current library and location (Standort) are registered for Mapongo\n* - checks the item status\n* - may inject an eth-mapongo directive and specific attributes for it in prm-location-item-after (handled by eth-mapongo.module.js)\n*\n* A prm controller works only for prmLocationItems. There is no prmLocationItem controller\n* $ctrl in prmLocationItemAfter is a reference to prmLocationItems Controller\n*\n* If there is 1 location: prmLocationItemsAfter\n*\n* If there are multiple locations: prmLocationAfter;\n* after all locations: prmLocationsAfter;\n* after choosing a location: prmLocationItemsAfter\n*\n*\n* <b>AngularJS Dependencies</b><br>\n* Service {@link ETH.ethMapongoLibrariesService}<br>\n*\n*\n* <b>CSS/Image Dependencies</b><br>\n*\n*\n* @example\n* ZHAW MMS IDs: 991128155109705501, 990013732410205503; 2 Exemplare: 990058665580205503; 5 Exemplare: 991129451879705501\n*\n*/\nimport {ethMapongoLibrariesService} from './eth-mapongo-libraries.service';\nimport {ethMapongoCheckController} from './eth-mapongo-check.controller';\n\nexport const ethMapongoCheckModule = angular\n    .module('ethMapongoCheckModule', [])\n        .factory('ethMapongoLibrariesService', ethMapongoLibrariesService)\n        .controller('ethMapongoCheckController', ethMapongoCheckController)\n        .component('ethMapongoCheck', {\n            bindings: {afterCtrl: '<'},\n            controller: 'ethMapongoCheckController'\n        })\n","/**\n* @ngdoc service\n* @name ethMapongoLibrariesService\n*\n* @description\n*\n* Holds informations about the libraries which use mapongo\n*\n*\n* <b>Used by</b><br>\n*\n* Module {@link ETH.ethMapongoModule}<br>\n*\n*\n */\nexport const ethMapongoLibrariesService = [function () {\n    // todo: are the locations correct and complete?\n    const libraries = [\n        {\n            \"shortname\": \"ZHdK-MIZ\",\n            \"name\": \"ZHdK-MIZ\",\n            \"libraryCode\": \"E65\",\n            \"baseUrl\": \"https://zhdk.mapongo.de\",\n            \"locationCodeWhiteList\": [\"E65G1\", \"E65G2\", \"E65E1\", \"E65U1\", \"E65U4\"],\n            \"locationWhiteList\": [\"Galeriegeschoss\", \"Galeriegeschoss\", \"Eingangsgeschoss\", \"Untergeschoss\", \"Untergeschoss Curating Degree Zero Archive\"]\n        },\n        {\n            \"shortname\": \"ZHAW-HSB-ZH\",\n            \"name\": \"ZHAW Hochschulbibliothek Zürich\",\n            \"libraryCode\": \"E97\",\n            \"baseUrl\": \"https://zhdk.mapongo.de\",\n            \"locationCodeWhiteList\": [\"E97E1\"],\n            \"locationWhiteList\": [\"Eingangsgeschoss\"]\n        },\n        {\n            \"shortname\": \"ZHAW-HSB-WIN\",\n            \"name\": \"ZHAW Hochschulbibliothek Winterthur\",\n            \"libraryCode\": \"E51\",\n            \"baseUrl\": \"https://zhaw.mapongo.de\",\n            \"locationCodeWhiteList\": [\"E51BA\", \"E51B0\", \"E51B9\", \"E51B2\", \"E51B8\", \"E51BN\", \"E51BL\", \"E51BG\", \"E51BT\", \"E51BB\", \"E51BW\", \"E51BA\", \"E51BK\", \"E51BR\"],\n            \"locationWhiteList\": [\"Architektur und Bau - 1. ZG\", \"Neuerwerbungen - EG\", \"Handapparate - EG\", \"Compactus, offen - EG\", \"Zeitschriften - EG\", \"Allgemeines und Nachschlagewerke - EG\", \"Angewandte Linguistik - EG\", \"Gesundheit und Medizin - EG\", \"Technik und Naturwissenschaften - 1. ZG\", \"Wissenschaft und Bildung - EG\", \"Wirtschaft und Management - 1. ZG\", \"Architektur und Bau - 1. ZG\", \"Kunst und Unterhaltung - EG\", \"Recht und Politik - 2. ZG\"]\n        },\n        {\n            \"shortname\": \"PHZH\",\n            \"name\": \"PH Zürich, Bibliothek\",\n            \"libraryCode\": \"UPHZH\",\n            \"baseUrl\": \"https://phzh.mapongo.de\",\n            \"locationCodeWhiteList\": [\"ULFHF\", \"ULFHG\", \"ULFHN\", \"ULFHS\"],\n            \"locationWhiteList\": [\"Stockwerk F - frei zugänglich\", \"Stockwerk G - frei zugänglich\", \"Stockwerk H Nord - frei zugänglich\", \"Stockwerk H Süd - frei zugänglich\"]\n        },\n        {\n            \"shortname\": \"HGK-MED\",\n            \"name\": \"FHNW HGK-Mediathek Basel\",\n            \"libraryCode\": \"E75\",\n            \"baseUrl\": \"https://mediathek.hgk.fhnw.ch/nebis\",\n            \"locationCodeWhiteList\": [\"HAP\", \"E75BI\", \"E75AC\", \"E75MA\", \"E75VS\"],\n            \"locationWhiteList\": [\"Handapparat\", \"Mediathek\", \"Archiv\", \"Magazin\", \"Verschiedene Standorte\"]\n        },\n        {\n            \"shortname\": \"FHNW-CMU\",\n            \"name\": \"FHNW Campus Muttenz Bibliothek\",\n            \"libraryCode\": \"E44\",\n            \"baseUrl\": \"https://fhnw-cmu.mapongo.de\",\n            \"locationCodeWhiteList\": [\"E44TE\", \"E44BI\", \"E44MG\", \"E44VS\"],\n            \"locationWhiteList\": [\"Ausleihe nur intern an Angehörige PH FHNW für Lehre und Forschung\", \"Bibliothek\", \"Magazin: Nicht frei zugänglich, zur Abholung bestellen\", \"Verschiedene Standorte\"]\n        },\n        {\n            \"shortname\": \"FHNW-PH-S\",\n            \"name\": \"FHNW Bibliothek Solothurn\",\n            \"libraryCode\": \"E39\",\n            \"baseUrl\": \"https://fhnw-solothurn.mapongo.de\",\n            \"locationCodeWhiteList\": [\"E39BJ\", \"E39BI\", \"E39BB\", \"E39KA\", \"E39LS\", \"E39LE\", \"E39TK\", \"E39ZS\"],\n            \"locationWhiteList\": [\"Belletristik Kinder/Jugend\", \"Bibliothek\", \"Bilderbücher\", \"Kamishibai\", \"Benutzung nur vor Ort\", \"Lernspiele\", \"Themenkisten\", \"Zeitschriften\"]\n        },\n        {\n            \"shortname\": \"UBH\",\n            \"name\": \"Basel - UB Hauptbibliothek\",\n            \"libraryCode\": \"A100\",\n            \"baseUrl\": \"https://ub.unibas.mapongo.de\",\n            \"locationCodeWhiteList\": [\"100FH\", \"100FHZ\", \"LS\"],\n            \"locationWhiteList\": [\"Freihand\", \"Freihand Zeitschriften\", \"Lesesaal (Nutzung an Ort)\"]\n        }\n\n    ];\n\n    // todo: are the statuses correct and complete?\n    const availabilityStatus = ['Exemplar ist vorhanden', 'Item in place', 'Exemplaire en rayon', 'Copia in posizione'];\n\n    function getMapongoLibrary(libraryCode) {\n        let filterLibraries = libraries.filter(l => { return l.libraryCode === libraryCode; });\n        if (filterLibraries.length > 0)\n            return filterLibraries[0];\n        else\n            return null;\n    }\n\n    function isMapongoLibrary(libraryCode) {\n        let filterLibraries = libraries.filter(l => { return l.libraryCode === libraryCode });\n        if (filterLibraries.length > 0) return true;\n        else return false;\n    }\n\n    function isMapongoSubLocation(libraryCode, subLocation) {\n        let filterLibraries = libraries.filter(l => { return l.libraryCode === libraryCode && l.locationWhiteList.indexOf(subLocation) > -1; });\n        if (filterLibraries.length > 0) return true;\n        else return false;\n    }\n\n    function getSubLocationCode(libraryCode, subLocation) {\n        let filterLibraries = libraries.filter(l => { return l.libraryCode === libraryCode });\n        if (filterLibraries.length === 0) return null;\n        let i = filterLibraries[0].locationWhiteList.indexOf(subLocation);\n        return filterLibraries[0].locationCodeWhiteList[i];\n    }\n\n    function getBaseUrl(libraryCode) {\n        let lib = getMapongoLibrary(libraryCode);\n        if (lib) {\n            return lib.baseUrl;\n        }\n        else {\n            return \"\";\n        }\n\n    }\n\n    function isAvailable(itemstatusname) {\n        let filterStatus = availabilityStatus.filter(s => { return s === itemstatusname });\n        if (filterStatus.length > 0) return true;\n        return false;\n    }\n\n    return {\n        isMapongoLibrary: isMapongoLibrary,\n        isMapongoSubLocation: isMapongoSubLocation,\n        getBaseUrl: getBaseUrl,\n        getSubLocationCode: getSubLocationCode,\n        isAvailable: isAvailable\n    };\n\n\n}];\n","export const ethMapongoConfig = function(){\n    return {\n        label: {\n            qrc: {\n                de: 'Karte auf Smartphone laden',\n                en: 'Load map on your smartphone',\n                fr: 'Charger la carte sur votre smartphone'\n            }\n        }\n    }\n}\n","export class ethMapongoController {\n\n    constructor(ethMapongoLibrariesService, ethConfigService, ethMapongoConfig) {\n        this.ethMapongoLibrariesService = ethMapongoLibrariesService;\n        this.ethConfigService = ethConfigService;\n        this.config = ethMapongoConfig;\n        this.lang = this.ethConfigService.getLanguage();\n    }\n\n    $onInit() {\n        // reference to prmLocationItemsController (all items)\n        this.parentCtrl = this.afterCtrl.parentCtrl;\n    };\n\n    getMapongoImageSrc() {\n        let src = \"\";\n        try{\n            if (!this.parentCtrl.loc || !this.parentCtrl.loc.location) {\n                console.error(\"***ETH*** ethMapongoController.getMapongoImageSrc: loc or loc.location not available\");\n                return;\n            }\n            let loc = this.parentCtrl.loc.location;\n            let baseUrl = this.ethMapongoLibrariesService.getBaseUrl(loc.libraryCode);\n\n            src = baseUrl + \"/static_images/projects/1/search_thumbnail.jpg?project_id=1&search_key=\" + encodeURIComponent(this.callnumber);\n            if (loc.libraryCode === \"E51\" || loc.libraryCode === \"UPHZH\" ) {\n                src += \"&search_context2=\" + encodeURIComponent(this.sublocation);\n            }\n            if (loc.libraryCode === \"E65\") {\n                src += \"&e=\" + encodeURIComponent(this.recordid);\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** EthMapongoController.getMapongoImageSrc:\");\n            console.error(e.message);\n        }\n        return src;\n    }\n\n    getMapongoUrl() {\n        let url = \"\";\n        try{\n            let loc = this.parentCtrl.loc.location;\n            let baseUrl = this.ethMapongoLibrariesService.getBaseUrl(loc.libraryCode);\n\n            url = baseUrl + \"/viewer?project_id=1&search_key=\" + encodeURIComponent(this.callnumber) + \"&language=\" + this.lang + \"&e=\" + encodeURIComponent(this.recordid);\n            // ZHAW-HSB-WIN\n            if (loc.libraryCode === \"E51\" || loc.libraryCode === \"UPHZH\" ) {\n                url += \"&search_context2=\" + encodeURIComponent(this.sublocation);\n            }\n            if (this.barcode != \"\") {\n                    url += \"&bcd=\" + this.barcode;\n            }\n\n        }\n        catch(e){\n            console.error(\"***ETH*** EthMapongoController.getMapongoUrl:\");\n            console.error(e.message);\n        }\n        return url;\n    }\n\n    getMapongoQRC() {\n        let src = \"\";\n        try{\n            let loc = this.parentCtrl.loc.location;\n            let baseUrl = this.ethMapongoLibrariesService.getBaseUrl(loc.libraryCode);\n\n            src = baseUrl + \"/static_images/projects/1/search_qrcode.png?project_id=1&search_key=\" + encodeURIComponent(this.callnumber) + \"&language=\" + this.lang + \"&e=\" + encodeURIComponent(this.recordid);\n            if (loc.libraryCode === \"E51\" || loc.libraryCode === \"UPHZH\" ) {\n                src += \"&search_context2=\" + encodeURIComponent(this.sublocation);\n            }\n            if (this.barcode != \"\") {\n                src += \"&bcd=\" + this.barcode;\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** EthMapongoController.getMapongoQRC:\");\n            console.error(e.message);\n        }\n        return src;\n    }\n\n\n}\n\nethMapongoController.$inject = [ 'ethMapongoLibrariesService', 'ethConfigService', 'ethMapongoConfig'];\n","/**\n * @ngdoc module\n * @name ethMapongoModule\n *\n * @description\n * - renders Link, map and QRCode for mapongo\n *\n *\n * <b>AngularJS Dependencies</b><br>\n * Service {@link ETH.ethMapongoLibrariesService}<br>\n * Service /js/services {@link ETH.ethConfigService}<br>\n * Service {@link ETH.ethMapongoConfig}<br>\n *\n *\n * <b>CSS/Image Dependencies</b><br>\n * CSS /css/mapongo.css\n *\n * @example\n * ZHAW MMS IDs: 991128155109705501, 990013732410205503; 2 Exemplare: 990058665580205503; 5 Exemplare: 991129451879705501\n *\n */\nimport { ethConfigService } from './eth-config.service';\nimport { ethMapongoConfig } from './eth-mapongo.config';\nimport { ethMapongoLibrariesService } from './eth-mapongo-libraries.service';\nimport { ethMapongoController } from './eth-mapongo.controller';\nimport { ethMapongoHtml } from './eth-mapongo.html';\n\nexport const ethMapongoModule = angular\n    .module('ethMapongoModule', [])\n    .factory('ethConfigService', ethConfigService)\n    .factory('ethMapongoConfig', ethMapongoConfig)\n    .factory('ethMapongoLibrariesService', ethMapongoLibrariesService)\n    .controller('ethMapongoController', ethMapongoController)\n    .component('ethMapongo', {\n        bindings: {\n            afterCtrl: '<',\n            recordid: '@',\n            callnumber: '@',\n            barcode: '@',\n            sublocation: '@'\n        },\n        controller: 'ethMapongoController',\n        template: ethMapongoHtml\n    })","\r\n\r\n//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelLocationItemsController {\r\n\r\n    constructor( $scope, $compile, $timeout ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    \r\n\r\n    $onInit() {\r\n        try{\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                \r\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_0\") {\r\n                    \r\n                        this.iconLabelLocationItems = iconLabelLocationItems ;\r\n                        let iconLabelLocationItems = document.querySelectorAll(\"#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column\");\r\n                        let htmlLocationItems = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                                                                                        \r\n                            angular.element(iconLabelLocationItems).prepend(this.$compile(htmlLocationItems)(this.$scope)).addClass('icnLblLocationItems');\r\n                }\r\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_1\") {\r\n                    \r\n                    this.iconLabelLocationItems3 = iconLabelLocationItems3 ;\r\n                    let iconLabelLocationItems3 = document.querySelectorAll(\"#getit_link1_1 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column\");\r\n                    let htmlLocationItems3 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                                                                                    \r\n                        angular.element(iconLabelLocationItems3).prepend(this.$compile(htmlLocationItems3)(this.$scope)).addClass('icnLblLocationItems3');\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n                if (this.parentCtrl.serviceScrollId === \"alma_other_members\") {\r\n                    \r\n                    this.iconLabelLocationItems2 = iconLabelLocationItems2 ;\r\n                    let iconLabelLocationItems2 = document.querySelectorAll(\"prm-alma-other-members md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column\");\r\n                    let htmlLocationItems2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                                                                                    \r\n                        angular.element(iconLabelLocationItems2).prepend(this.$compile(htmlLocationItems2)(this.$scope)).addClass('icnLblLocationItems2');\r\n            }\r\n\r\n\r\n                         \r\n                \r\n            },0);   \r\n        }\r\n        \r\n        catch(e){\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nslspIconLabelLocationItemsController.$inject =  [ '$scope', '$compile', '$timeout'];\r\n\r\n","\r\n    import {slspIconLabelLocationItemsController} from './slsp-icon-label-location-items.controller';\r\n    import {slspIconLabelLocationItemsHtml} from './slsp-icon-label-location-items.html';\r\n\r\n    export const slspIconLabelLocationItemsModule = angular\r\n        .module('slspIconLabelLocationItemsModule', [])\r\n            .controller('slspIconLabelLocationItemsController', slspIconLabelLocationItemsController)\r\n            .component('slspIconLabelLocationItemsComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelLocationItemsController',\r\n                template: slspIconLabelLocationItemsHtml\r\n            })","import {ethLocationsFilterModule} from './eth-locations-filter/eth-locations-filter.module';\nimport {slspIconLabelLocationsModule} from './slsp-icon-label-locations/slsp-icon-label-locations.module';\nimport {slspCollapseRelatedModule} from './slsp-collapse-related/slsp-collapse-related.module';\n\nexport const ethLocationsAfterModule = angular\n    .module('ethLocationsAfterModule', [])\n        .component('prmLocationsAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<eth-locations-filter-component after-ctrl=\"$ctrl\"></eth-locations-filter-component><slsp-icon-label-locations-component after-ctrl=\"$ctrl\"></slsp-icon-label-locations-component><slsp-collapse-related-component after-ctrl=\"$ctrl\"></slsp-collapse-related-component><slsp-locations-after parent-ctrl=\"$parent.$ctrl\"></slsp-locations-after>`\n        });\n\nethLocationsAfterModule.requires.push(ethLocationsFilterModule.name);\nethLocationsAfterModule.requires.push(slspIconLabelLocationsModule.name);\nethLocationsAfterModule.requires.push(slspCollapseRelatedModule.name);","export class ethLocationsFilterController {\n\n    constructor($timeout, $scope, $compile) {\n        this.$timeout = $timeout;\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.filterLabel = '<span class=\"filter-label\" translate=\"nui.aria.locationItems.filters\"></span>';\n    }\n\n    $doCheck() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n\n            // Check if the filter button exists\n            let filterButton = document.querySelectorAll('button[ng-if=\"$ctrl.displayFiltersButton && !$ctrl.locationsPrefilterActive\"] svg');\n            if (filterButton.length > 0) {\n                angular.element(filterButton).replaceWith(this.$compile(this.filterLabel)(this.$scope));\n            } else {\n                // Stop the loop if the element is replaced\n                this.filterButtonReplaced = true;\n            }\n        } catch (e) {\n            console.error(\"***ETH*** an error occurred: ethLocationsFilterController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nethLocationsFilterController.$inject = ['$timeout', '$scope', '$compile'];","/**\n* @ngdoc module\n* @name ethLocationsFilterModule\n*\n* @description\n*\n* Customization for the locations filter:<br>\n* - the locations filter is visible by default\n*\n* If there is 1 location: prmLocationItemsAfter\n*\n* If there are multiple locations: prmLocationAfter;\n* after all locations: prmLocationsAfter;\n* after choosing a location: prmLocationItemsAfter\n*\n*\n* <b>AngularJS Dependencies</b><br>\n*\n*\n* <b>CSS/Image Dependencies</b><br>\n* CSS eth-locations-filter.css\n*\n*\n*/\nimport {ethLocationsFilterController} from './eth-locations-filter.controller';\n\nexport const ethLocationsFilterModule = angular\n    .module('ethLocationsFilterModule', [])\n        .controller('ethLocationsFilterController', ethLocationsFilterController)\n        .component('ethLocationsFilterComponent', {\n            bindings: {afterCtrl: '<'},\n            controller: 'ethLocationsFilterController'\n        })\n","export class slspCollapseRelatedController {\r\n\r\n    constructor($timeout, $scope) {\r\n        this.$timeout = $timeout;\r\n        this.$scope = $scope;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n            if (angular.isArray(this.parentCtrl.locations) && this.parentCtrl.locations.length > 0) {\r\n\r\n                this.parentCtrl.relatedLocationsListLimit = 0;\r\n\r\n            }\r\n\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slspCollapseRelatedController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nslspCollapseRelatedController.$inject = ['$timeout', '$scope'];","\r\n    import {slspCollapseRelatedController} from './slsp-collapse-related.controller';\r\n    import {slspCollapseRelatedHtml} from './slsp-collapse-related.html';\r\n\r\n    export const slspCollapseRelatedModule = angular\r\n        .module('slspCollapseRelatedModule', [])\r\n            .controller('slspCollapseRelatedController', slspCollapseRelatedController)\r\n            .component('slspCollapseRelatedComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspCollapseRelatedController',\r\n                template: slspCollapseRelatedHtml\r\n            })","\r\n\r\n//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelLocationsController {\r\n\r\n    constructor( $scope, $compile, $timeout ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n        \r\n    }\r\n\r\n    \r\n\r\n    $onInit() {\r\n        try{\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                \r\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_0\") {\r\n                    \r\n                        this.iconLabelLocations = iconLabelLocations ;\r\n                        let iconLabelLocations = document.querySelectorAll('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if=\"!$ctrl.enableLibraryLevelList\"] > md-list:nth-child(1)');\r\n                        let htmlLocations = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                            \r\n                            angular.element(iconLabelLocations).prepend(this.$compile(htmlLocations)(this.$scope)).addClass('icnLblLocations');\r\n                }\r\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_1\") {\r\n                    \r\n                    this.iconLabelLocations3 = iconLabelLocations3 ;\r\n                    let iconLabelLocations3 = document.querySelectorAll('#getit_link1_1 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if=\"!$ctrl.enableLibraryLevelList\"] > md-list:nth-child(1)');\r\n                    let htmlLocations3 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                        \r\n                        angular.element(iconLabelLocations3).prepend(this.$compile(htmlLocations3)(this.$scope)).addClass('icnLblLocations3');\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n                if (this.parentCtrl.serviceScrollId === \"alma_other_members\") {\r\n                    \r\n                    this.iconLabelLocations2 = iconLabelLocations2 ;\r\n                    let iconLabelLocations2 = document.querySelectorAll('prm-alma-other-members prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if=\"!$ctrl.enableLibraryLevelList\"] > md-list:nth-child(1)');\r\n                    let htmlLocations2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                        \r\n                        angular.element(iconLabelLocations2).prepend(this.$compile(htmlLocations2)(this.$scope)).addClass('icnLblLocations2');\r\n            }\r\n               \r\n            \r\n                \r\n            },0);   \r\n        }\r\n        \r\n        catch(e){\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nslspIconLabelLocationsController.$inject =  [ '$scope', '$compile', '$timeout'];\r\n\r\n\r\n\r\n// md-content > prm-locations > div.padding-left-medium > md-list.separate-list-items.margin-bottom-medium.padding-bottom-zero.md-primoExplore-theme\r\n","\r\n    import {slspIconLabelLocationsController} from './slsp-icon-label-locations.controller';\r\n    import {slspIconLabelLocationsHtml} from './slsp-icon-label-locations.html';\r\n\r\n    export const slspIconLabelLocationsModule = angular\r\n        .module('slspIconLabelLocationsModule', [])\r\n            .controller('slspIconLabelLocationsController', slspIconLabelLocationsController)\r\n            .component('slspIconLabelLocationsComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelLocationsController',\r\n                template: slspIconLabelLocationsHtml\r\n            })","import { slspLoginBoxModule } from './slsp-login-box/slsp-login-box.module';\n\nexport const prmLoginAfterModule = angular\n    .module('prmLoginAfterModule', [])\n    .component('prmLoginAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-login-box-component after-ctrl=\"$ctrl\"></slsp-login-box-component>\n            <slsp-login-after parent-ctrl=\"$parent.$ctrl\"></<slsp-login-after>`\n    });\n\n\nprmLoginAfterModule.requires.push(slspLoginBoxModule.name);","//-----------------RapidoHideLibrary------------------------------\r\n\r\nexport class slspLoginBoxController {\r\n\r\n    constructor($scope, $compile, $timeout, $rootScope, $window) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n        this.$rootScope = $rootScope;\r\n        this.$window = $window;\r\n    }\r\n \r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n               \r\n                let buttonHelp = '<a ng-href=\"https://eduid.ch/help/?lang={{ $ctrl.getLanguage() }}\" target=\"_blank\" class=\"parallelLoginDescription\"><span translate=\"parallel.login.description1\"></span><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"></path></svg></a>';\r\n\r\n                let infoLabel = '<p class=\"parallelLoginDescription\" translate=\"parallel.login.description2\"></p>'\r\n\r\n                let authMeth1 = angular.element(document.querySelectorAll(`prm-login div > md-content > md-list > md-list-item:nth-child(1)`));\r\n                angular.element(authMeth1).append(this.$compile(buttonHelp)(this.$scope)).addClass('authMethSaml');\r\n\r\n                let authMeth2 = angular.element(document.querySelectorAll(`prm-login div > md-content > md-list > md-list-item:nth-child(2)`));\r\n                angular.element(authMeth2).append(this.$compile(infoLabel)(this.$scope)).addClass('authMethAlma');\r\n\r\n            }, 0);\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido hide Library\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n        \r\n    }\r\n    getLanguage() {       \r\n        let sms = this.$rootScope.$$childHead.$ctrl.userSessionManagerService;\r\n        if (!sms) {\r\n            return 'en';\r\n        } else {\r\n            return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\r\n        }\r\n    }\r\n}\r\n\r\nslspLoginBoxController.$inject = ['$scope', '$compile', '$timeout', '$rootScope', '$window'];","import { slspLoginBoxController } from './slsp-login-box.controller';\r\nimport { slspLoginBoxHtml } from './slsp-login-box.html';\r\n\r\nexport const slspLoginBoxModule = angular\r\n    .module('slspLoginBoxModule', [])\r\n    .controller('slspLoginBoxController', slspLoginBoxController)\r\n    .component('slspLoginBoxComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspLoginBoxController',\r\n        template: slspLoginBoxHtml\r\n\r\n    })","import { slspMultivolumeRequestModule } from './slsp-multivolume-request/slsp-multivolume-request.module';\n\nexport const prmOfferDetailsTileAfterModule = angular\n    .module('prmOfferDetailsTileAfterModule', [])\n    .component('prmOfferDetailsTileAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-multivolume-request-component after-ctrl=\"$ctrl\"></slsp-multivolume-request-component>\n            <slsp-offer-details-tile-after parent-ctrl=\"$parent.$ctrl\"></<slsp-offer-details-tile-after>`\n    });\n\n\nprmOfferDetailsTileAfterModule.requires.push(slspMultivolumeRequestModule.name);","export class slspMultivolumeRequestController {\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n        this.previousUnavailableVolume = null;\r\n    }\r\n\r\n    $onInit() {\r\n        this.parentCtrl = this.afterCtrl.parentCtrl;\r\n        this.domManipulated = false;\r\n        // console.log(this);\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            const currentUnavailableVolume = this.parentCtrl.isNoOfferAfterRefine();\r\n\r\n\r\n            //console.log('currentUnavailableVolume: ' + currentUnavailableVolume);\r\n            \r\n            if (!this.domManipulated) {\r\n                let volumeField = angular.element(document.querySelector('prm-get-it-request .form_item[ng-if=\"::$ctrl.isCodeEnabledforForm(\\'VOLUME\\')\"]'));\r\n                let refineButton = angular.element(document.querySelector('span[ng-if=\"::$ctrl._tempRapidoLocateSerialMultivolumeOffers\"]'));\r\n\r\n                volumeField.append(refineButton);\r\n\r\n                //console.log(volumeField);\r\n                //console.log(refineButton);\r\n\r\n                this.domManipulated = true;\r\n\r\n\r\n            }\r\n\r\n            //console.log('isNoOfferAfterRefine:' + this.parentCtrl.isNoOfferAfterRefine() + '\\n' + 'resType: ' + resType + '\\n' + 'currentUnavailableVolume: ' + currentUnavailableVolume + '\\n' + 'previousUnavailableVolume: ' + this.previousUnavailableVolume);\r\n\r\n\r\n\r\n            if (currentUnavailableVolume !== this.previousUnavailableVolume) {\r\n                if (currentUnavailableVolume == true) {\r\n                    this.disableRequestButton();\r\n                } else {\r\n                    this.enableRequestButton();\r\n                }\r\n\r\n                this.previousUnavailableVolume = currentUnavailableVolume;\r\n            }\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occurred: Multivolume Request\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n    disableRequestButton() {\r\n        const requestButton = angular.element(document.querySelector('button.button-with-icon.button-confirm.md-button.md-primoExplore-theme.md-ink-ripple'));\r\n        if (requestButton) {\r\n            requestButton.attr('disabled', 'disabled');\r\n        }\r\n    }\r\n\r\n    enableRequestButton() {\r\n        const requestButton = angular.element(document.querySelector('button.button-with-icon.button-confirm.md-button.md-primoExplore-theme.md-ink-ripple'));\r\n        if (requestButton) {\r\n            requestButton.removeAttr('disabled');\r\n        }\r\n    }\r\n\r\n}\r\n\r\nslspMultivolumeRequestController.$inject = ['$scope'];","import { slspMultivolumeRequestController } from './slsp-multivolume-request.controller';\r\n\r\n\r\nexport const slspMultivolumeRequestModule = angular\r\n    .module('slspMultivolumeRequestModule', [])\r\n    .controller('slspMultivolumeRequestController', slspMultivolumeRequestController)\r\n    .component('slspMultivolumeRequestComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspMultivolumeRequestController',\r\n\r\n    })","import { slspOvpReservationModule } from './slsp-ovp-reservation/slsp-ovp-reservation.module';\n\nexport const prmOpacAfterModule = angular\n    .module('prmOpacAfterModule', [])\n    .component('prmOpacAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-ovp-reservation-component after-ctrl=\"$ctrl\"></slsp-ovp-reservation-component>\n            <slsp-opac-after parent-ctrl=\"$parent.$ctrl\"></<slsp-opac-after>`\n    });\n\n\nprmOpacAfterModule.requires.push(slspOvpReservationModule.name);","// slspOvpReservationController.js\r\n\r\nexport class slspOvpReservationController {\r\n    constructor($scope, $element, $compile) {\r\n        this.$scope = $scope;\r\n        this.$element = $element;\r\n        this.$compile = $compile;\r\n        this.reservationLabel = '<span translate=\"customized.rapido.reservation\"></span>';\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            this.processDoCheck = true;\r\n        } catch (e) {\r\n            console.error(\"***ETH*** Ein Fehler ist aufgetreten: slspOvpReservationController \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            let unavailability = this.parentCtrl.item.delivery.bestlocation.availabilityStatus;\r\n\r\n            // Hier das DOM-Element der Angular-Komponente abrufen\r\n            let currentElement = this.$element[0];\r\n\r\n            // Das Elternelement (\"prm-opac\") der Angular-Komponente abrufen\r\n            let prmOpacElement = currentElement.closest('prm-opac');\r\n\r\n            // Den Button innerhalb des aktuellen \"prm-opac\" Teils auswählen\r\n            let reservationButton = prmOpacElement.querySelector('prm-service-button button span[translate=\"AlmaRequest\"], prm-service-button button span[translate=\"AlmaRequestOther\"]');\r\n\r\n            if (!this.processDoCheck && unavailability !== \"available\" && unavailability !== \"check_holdings\") {\r\n                // Überprüfen, ob das Element gefunden wurde, bevor auf innerHTML zugegriffen wird\r\n                if (reservationButton && !reservationButton.innerHTML.includes('customized.rapido.reservation')) {\r\n                    // Element mit \"reservationLabel\" ersetzen\r\n                    let compiledHtml = this.$compile(this.reservationLabel)(this.$scope);\r\n                    angular.element(reservationButton).replaceWith(compiledHtml);\r\n                }\r\n            }\r\n            //console.log(this.parentCtrl);\r\n            this.processDoCheck = false;\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** Ein Fehler ist aufgetreten: slspOvpReservationController \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspOvpReservationController.$inject = ['$scope', '$element', '$compile'];\r\n","import { slspOvpReservationController } from './slsp-ovp-reservation.controller';\r\nimport { slspOvpReservationHtml } from './slsp-ovp-reservation.html';\r\n\r\n\r\nexport const slspOvpReservationModule = angular\r\n    .module('slspOvpReservationModule', [])\r\n    .controller('slspOvpReservationController', slspOvpReservationController)\r\n    .component('slspOvpReservationComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspOvpReservationController',\r\n        template: slspOvpReservationHtml\r\n    })","//-----------------------------------------------\r\n\r\n\r\nexport class slspEditPersonalDetailsController {\r\n\r\n    constructor($scope, $element, $rootScope, $window) {\r\n        this.$scope = $scope;\r\n        this.$element = $element;\r\n        this.$rootScope = $rootScope;\r\n        this.$window = $window;\r\n\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n            this.detailsBaseEdu = \"https:\\/\\/eduid.ch\\/account\\/profile\";\r\n            this.detailsBaseReg = \"https:\\/\\/registration.slsp.ch\\/library-card\";\r\n            this.exclude = ['STAFF', '11', '12', '13', '14', '15', '16', '17', '18', '91', '92', '99'];\r\n            this.grpA = ['11', '91', '92'];\r\n            this.grpB = ['12', '13', '14', '15', '16', '17', '18'];\r\n\r\n            this.getPatronGrp = function() {\r\n                if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\r\n                    let patron = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\r\n                    if (!this.exclude.includes(patron)) {\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n\r\n            this.grpLabelA = function() {\r\n                if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\r\n                    let labelA = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\r\n                    if (this.grpA.includes(labelA)) {\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n\r\n\r\n            this.grpLabelB = function() {\r\n                if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\r\n                    let labelB = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\r\n                    if (this.grpB.includes(labelB)) {\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n\r\n            this.buttonMove = function() {\r\n                let parentElement = angular.element(document.querySelector('md-card > md-card-content > prm-personal-settings > prm-personal-settings-after'));\r\n                let element = angular.element(document.querySelector('#SLSPeditPersonalDetails'));\r\n                parentElement.append(element);\r\n            }\r\n\r\n            \r\n\r\n\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: EditPersonalDetailsController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    getLanguage() {\r\n        let sms = this.$rootScope.$$childHead.$ctrl.userSessionManagerService;\r\n        \r\n        if (!sms) {\r\n            return 'en';\r\n        } else {\r\n            return sms.getUserLanguage() || this.$window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\r\n        }\r\n    }\r\n}\r\n\r\nslspEditPersonalDetailsController.$inject = ['$scope', '$element', '$rootScope', '$window'];","import {slspEditPersonalDetailsController} from './slsp-edit-personal-details.controller';\nimport {slspEditPersonalDetailsHtml} from './slsp-edit-personal-details.html';\n\n\nexport const slspEditPersonalDetailsModule = angular\n    .module('slspEditPersonalDetailsModule', [])\n        .controller('slspEditPersonalDetailsController', slspEditPersonalDetailsController)\n        .component('slspEditPersonalDetailsComponent', {\n            bindings: {afterCtrl: '<'},\n            controller: 'slspEditPersonalDetailsController',\n            template: slspEditPersonalDetailsHtml\n        })","import {slspEditPersonalDetailsModule} from './slsp-edit-personal-details/slsp-edit-personal-details.module';\n\n\nexport const slspPersonalInfoAfterModule = angular\n    .module('slspPersonalInfoAfterModule', [])\n        .component('prmPersonalInfoAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-edit-personal-details-component after-ctrl=\"$ctrl\" id=\"SLSPeditPersonalDetails\"></slsp-edit-personal-details-component><slsp-personal-info-after parent-ctrl=\"$parent.$ctrl\"></slsp-personal-info-after>`\n        });\n\n        slspPersonalInfoAfterModule.requires.push(slspEditPersonalDetailsModule.name);\n\n","export class bcuFeesLinkController {\r\n    constructor($element) {\r\n        this.$element = $element[0];\r\n        this.form = this.$element.parentElement.parentElement;\r\n        this.display = false;\r\n    }\r\n\r\n    $doCheck() {\r\n        let form = false;\r\n\r\n        if (this.form.children[0].children[1] !== undefined && this.form.children[0].children[1].children[0] !== undefined) {\r\n            form = this.form.children[0].children[1].children[0];\r\n        } else if (this.form.children[0].children[0] !== undefined && this.form.children[0].children[0].children[0] !== undefined) {\r\n            form = this.form.children[0].children[0].children[0];\r\n        }\r\n\r\n        if (form && form.children.length >= 2 && this.afterCtrl.parentCtrl.serviceType !== 'AlmaPurchaseRequest') {\r\n            if (!this.display) {\r\n                this.display = true;\r\n                let info = document.createElement('DIV');\r\n                info.className = \"courier-info bar alert-bar\";\r\n                info.innerHTML =\r\n                    `<h4>${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesTitle')}</h4>\r\n                    <p>${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesInfo')}</p>\r\n                    <p><a href=\"${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesUrl')}\"\r\n                    target=\"_blank\">${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesLinkText')}</a></p>`;\r\n                form.insertBefore(info, form.children[form.children.length - 1]);\r\n            }\r\n        } else {\r\n            if (this.display) {\r\n                this.display = false;\r\n                let feesInfo = this.form.querySelector('.courier-info.bar.alert-bar');\r\n                if (feesInfo) {\r\n                    feesInfo.remove();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nbcuFeesLinkController.$inject = ['$element'];\r\n","\r\n    import {bcuFeesLinkController} from './bcu-fees-link.controller';\r\n\r\n\r\n    export const bcuFeesLinkModule = angular\r\n        .module('bcuFeesLinkModule', [])\r\n            .controller('bcuFeesLinkController', bcuFeesLinkController)\r\n            .component('bcuFeesLinkComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'bcuFeesLinkController',\r\n                \r\n            })","export class slspAlmaRequestController {\r\n\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n                if (this.parentCtrl.serviceType == 'AlmaRequest' || this.parentCtrl.serviceType == 'AlmaItemRequest' || this.parentCtrl.serviceType == 'AlmaRequestAnyItem' || this.parentCtrl.serviceType == 'AlmaRequestOther') {\r\n\r\n                    this.requestLoan = requestLoan;\r\n                    let requestLoan = document.querySelectorAll('prm-opac form[name=\"requestForm\"]');\r\n                    \r\n                    angular.element(requestLoan).addClass('almaRequestLoan');\r\n\r\n                }\r\n\r\n                else if (this.parentCtrl.serviceType == 'AlmaDigitization' || this.parentCtrl.serviceType == 'AlmaDigitizationOther' || this.parentCtrl.serviceType == 'AlmaGeneralDigitization' || this.parentCtrl.serviceType == 'AlmaItemDigitization' || this.parentCtrl.serviceType == 'AlmaResourceSharing' ) {\r\n                    this.requestDigi = requestDigi;\r\n                    let requestDigi = document.querySelectorAll('prm-opac form[name=\"requestForm\"]');\r\n                    angular.element(requestDigi).removeClass('almaRequestLoan');\r\n                }\r\n\r\n            } catch (e) {\r\n                console.error(\"***SLSP*** an error occured: slspAlmaRequestController \\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n    \r\n\r\n            \r\n\r\nslspAlmaRequestController.$inject = ['$scope', '$compile', '$timeout'];","\r\n    import {slspAlmaRequestController} from './slsp-alma-request.controller';\r\n\r\n\r\n    export const slspAlmaRequestModule = angular\r\n        .module('slspAlmaRequestModule', [])\r\n            .controller('slspAlmaRequestController', slspAlmaRequestController)\r\n            .component('slspAlmaRequestComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspAlmaRequestController',\r\n                \r\n            })\r\n\r\n","import {bcuFeesLinkModule} from './bcu-fees-link/bcu-fees-link.module';\r\nimport {slspAlmaRequestModule} from './slsp-alma-request/slsp-alma-request.module';\r\n\r\n\r\nexport const slspRequestAfterModule = angular\r\n    .module('slspRequestAfterModule', [])\r\n        .component('prmRequestAfter',  {\r\n            bindings: {parentCtrl: '<'},\r\n            template: `<bcu-fees-link-component after-ctrl=\"$ctrl\"></bcu-fees-link-component>\r\n            <slsp-alma-request-component after-ctrl=\"$ctrl\"></slsp-alma-request-component>\r\n            <slsp-request-after parent-ctrl=\"$parent.$ctrl\"></slsp-request-after>`\r\n        });\r\n\r\nslspRequestAfterModule.requires.push(bcuFeesLinkModule.name);\r\nslspRequestAfterModule.requires.push(slspAlmaRequestModule.name);\r\n","//--------RequestCancelButton ---------------------------------------\r\n\r\n\r\nexport class slspRequestCancelButtonController {\r\n\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n            this.$scope.$watch('this.$ctrl.parentCtrl.requestsDisplay', (currentRequestArray) => {\r\n\r\n                if (angular.isArray(currentRequestArray) && currentRequestArray.length > 0)\r\n\r\n                    angular.forEach(currentRequestArray, (request) => {\r\n\r\n\r\n                    if (request.requestType === 'ill') {\r\n                        if (request.statusCode === 'DELIVERED' ||\r\n                            request.statusCode === 'LOST_COMMUNICATED' ||\r\n                            request.statusCode === 'RECALLED_BOR' ||\r\n                            request.statusCode === 'RECEIVED_DIGITALLY' ||\r\n                            request.statusCode === 'RECEIVED_NOT_FOR_LOAN' ||\r\n                            request.statusCode === 'RECEIVED_PHYSICALLY' ||\r\n                            request.statusCode === 'RENEWED' ||\r\n                            request.statusCode === 'RENEW_NOT_ACCEPTED' ||\r\n                            request.statusCode === 'RENEW_REQUESTED' ||\r\n                            request.statusCode === 'REQUEST_COMPLETED' ||\r\n                            request.statusCode === 'SHIPPED_DIGITALLY' ||\r\n                            request.statusCode === 'SHIPPED_PHYSICALLY') {\r\n\r\n                            request.isCancelable = false;\r\n\r\n                        } else {\r\n                            request.isCancelable = true;\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n          \r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: RequestCancelButton \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nslspRequestCancelButtonController.$inject = ['$scope'];","\r\n    import {slspRequestCancelButtonController} from './slsp-request-cancel-button.controller';\r\n    \r\n\r\n    export const slspRequestCancelButtonModule = angular\r\n        .module('slspRequestCancelButtonModule', [])\r\n            .controller('slspRequestCancelButtonController', slspRequestCancelButtonController)\r\n            .component('slspRequestCancelButtonComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspRequestCancelButtonController',\r\n                \r\n            })","import { slspRequestCancelButtonModule } from './slsp-request-cancel-button/slsp-request-cancel-button.module';\r\n\r\nexport const slspRequestsAfterModule = angular\r\n    .module('slspRequestsAfterModule', [])\r\n    .component('prmRequestsAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        template: `\r\n            <slsp-request-cancel-button-component after-ctrl=\"$ctrl\"></slsp-request-cancel-button-component>\r\n            <slsp-requests-after parent-ctrl=\"$parent.$ctrl\"></slsp-requests-after>\r\n            `\r\n    });\r\n\r\n\r\nslspRequestsAfterModule.requires.push(slspRequestCancelButtonModule.name);","import {bcuSearchSlotsModule} from './bcu-search-slots/bcu-search-slots.module';\r\nimport {slspRaBetaIconModule} from './slsp-ra-beta-icon/slsp-ra-beta-icon.module';\r\n\r\nexport const bcuSearchBarAfterModule = angular\r\n    .module('bcuSearchBarAfterModule', [])\r\n        .component('prmSearchBarAfter',  {\r\n            bindings: {parentCtrl: '<'},\r\n            template: `<bcu-search-slots-component after-ctrl=\"$ctrl\"></bcu-search-slots-component>\r\n                       <slsp-ra-beta-icon-component after-ctrl=\"$ctrl\"></slsp-ra-beta-icon-component>\r\n                       <slsp-search-bar-after parent-ctrl=\"$parent.$ctrl\"></slsp-search-bar-after>`\r\n\r\n        });\r\n\r\nbcuSearchBarAfterModule.requires.push(bcuSearchSlotsModule.name);\r\nbcuSearchBarAfterModule.requires.push(slspRaBetaIconModule.name);\r\n\r\n\r\n","export class bcuSearchSlotsController {\r\n\r\n    $onInit() {\r\n        this.parentCtrl = this.afterCtrl.parentCtrl;\r\n        this.parentCtrl.showTabsAndScopes = true;\r\n\r\n        //add the institution code as a class to the primo-explore element\r\n        let instClass = this.parentCtrl.jwtUtilService.getInstitutionCode();\r\n        let institution = angular.element(document.querySelector('primo-explore'));\r\n        return institution.addClass(instClass);\r\n\r\n    };\r\n\r\n}\r\n","/**\r\n* @ngdoc module\r\n* @name bcuSearchSlotsModule\r\n*\r\n* @description\r\n*\r\n* Customization for the search bar:<br>\r\n* - Tabs and scopes are displayed even if the search has not yet taken place (empty searchfield).\r\n*\r\n* <b>AngularJS Dependencies</b><br>\r\n*\r\n*\r\n* <b>CSS/Image Dependencies</b><br>\r\n*\r\n*\r\n* @example\r\n*\r\n*/\r\nimport {bcuSearchSlotsController} from './bcu-search-slots.controller';\r\n\r\nexport const bcuSearchSlotsModule = angular\r\n    .module('bcuSearchSlotsModule', [])\r\n        .controller('bcuSearchSlotsController', bcuSearchSlotsController)\r\n        .component('bcuSearchSlotsComponent',  {\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'bcuSearchSlotsController'\r\n        })\r\n","export class slspRaBetaIconController {\r\n    constructor($scope, $compile) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.filterLabel = `<div class=\"raBetaLogo\">BETA</div>`;\r\n        this.aiLogoAppended = false;\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n            // Check if the filter button exists\r\n            let aiLogoElements = document.querySelectorAll('div[ng-if=\"::$ctrl.isResearchAssistantByIcon\"] .md-button.button-link');\r\n\r\n            if (aiLogoElements.length > 0) {\r\n                let aiLogoElement = aiLogoElements[0];\r\n                if (!aiLogoElement.querySelector('.raBetaLogo')) {\r\n                    angular.element(aiLogoElement).append(this.$compile(this.filterLabel)(this.$scope));\r\n                    //console.log(aiLogoElements);\r\n                }\r\n                this.aiLogoAppended = true;\r\n            }\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slspRaBetaIconController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspRaBetaIconController.$inject = ['$scope', '$compile'];\r\n","\r\nimport {slspRaBetaIconController} from './slsp-ra-beta-icon.controller';\r\n\r\nexport const slspRaBetaIconModule = angular\r\n    .module('slspRaBetaIconModule', [])\r\n        .controller('slspRaBetaIconController', slspRaBetaIconController)\r\n        .component('slspRaBetaIconComponent',  {\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'slspRaBetaIconController'\r\n        })\r\n","import { slspTopPaginationSwitchModule } from './slsp-top-pagination-switch/slsp-top-pagination-switch.module';\n\nexport const prmSearchResultListAfterModule = angular\n    .module('prmSearchResultListAfterModule', [])\n    .component('prmSearchResultListAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-top-pagination-switch-component after-ctrl=\"$ctrl\"></slsp-top-pagination-switch-component>\n            <slsp-search-result-list-after parent-ctrl=\"$parent.$ctrl\"></<slsp-search-result-list-after>`\n    });\n\n\nprmSearchResultListAfterModule.requires.push(slspTopPaginationSwitchModule.name);","\r\n\r\nexport class slspTopPaginationSwitchController {\r\n\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n\r\n    }\r\n \r\n    $onInit() {\r\n        try {\r\n               this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n               //console.log(this.parentCtrl);\r\n               this.parentCtrl.enableTopPagination = true;\r\n               //this.parentCtrl.hidePageNumber();\r\n    \r\n       \r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slsp-top-pagination-switch hide Library\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n    \r\n}\r\n\r\nslspTopPaginationSwitchController.$inject = ['$scope'];","import { slspTopPaginationSwitchController } from './slsp-top-pagination-switch.controller';\r\n\r\n\r\nexport const slspTopPaginationSwitchModule = angular\r\n    .module('slspTopPaginationSwitchModule', [])\r\n    .controller('slspTopPaginationSwitchController', slspTopPaginationSwitchController)\r\n    .component('slspTopPaginationSwitchComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspTopPaginationSwitchController'\r\n        \r\n\r\n    })","import { slspTopPaginationSwitchModule } from './slsp-top-pagination-switch/slsp-top-pagination-switch.module';\n\nexport const prmSearchResultToolBarAfterModule = angular\n    .module('prmSearchResultToolBarAfterModule', [])\n    .component('prmSearchResultToolBarAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-top-pagination-switch-component after-ctrl=\"$ctrl\"></slsp-top-pagination-switch-component>\n            <slsp-search-result-tool-bar-after parent-ctrl=\"$parent.$ctrl\"></<slsp-search-result-tool-bar-after>`\n    });\n\n\nprmSearchResultToolBarAfterModule.requires.push(slspTopPaginationSwitchModule.name);","\r\n\r\nexport class slspTopPaginationSwitchController {\r\n\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n\r\n    }\r\n \r\n    $onInit() {\r\n        try {\r\n               this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n               //console.log(this.parentCtrl);\r\n               this.parentCtrl.enableTopPagination = false;\r\n               //this.parentCtrl.hidePageNumber();\r\n    \r\n       \r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slsp-top-pagination-switch hide Library\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n    \r\n}\r\n\r\nslspTopPaginationSwitchController.$inject = ['$scope'];","import { slspSendEmailInfoModule } from './slsp-send-email-info/slsp-send-email-info.module';\n\nexport const prmSendEmailAfterModule = angular\n    .module('prmSendEmailAfterModule', [])\n    .component('prmSendEmailAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-send-email-info-component after-ctrl=\"$ctrl\"></slsp-send-email-info-component>\n            <slsp-send-email-after parent-ctrl=\"$parent.$ctrl\"></<slsp-send-email-after>`\n    });\n\n\nprmSendEmailAfterModule.requires.push(slspSendEmailInfoModule.name);","\r\n\r\nexport class slspSendEmailInfoController {\r\n\r\n    constructor( $scope, $compile) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.sendEmailInfoLabel = '<div class=\"send-email-info-box\"><span translate=\"customized.email.infobox\"></span></div>';\r\n        \r\n    }\r\n \r\n    $onInit() {\r\n        try {\r\n            \r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n            let sendEmailForm = angular.element(document.querySelectorAll(`form[name=\"emailForm\"]`));\r\n\r\n            if (sendEmailForm && !sendEmailForm.html().includes('customized.email.infobox')) {\r\n                let compiledHtml = this.$compile(this.sendEmailInfoLabel)(this.$scope);\r\n                sendEmailForm.prepend(compiledHtml);\r\n            }\r\n            \r\n            \r\n            console.log(this.parentCtrl);\r\n            console.log(this.parentCtrl.jwtUtilService.getDecodedToken());\r\n            console.log(this.parentCtrl.jwtUtilService.decodeJWT());\r\n    \r\n      \r\n    \r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slspSendEmailInfoController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n    \r\n}\r\n\r\nslspSendEmailInfoController.$inject = [ '$scope', '$compile'];","import { slspSendEmailInfoController } from './slsp-send-email-info.controller';\r\nimport { slspSendEmailInfoHtml } from './slsp-send-email-info.html';\r\n\r\nexport const slspSendEmailInfoModule = angular\r\n    .module('slspSendEmailInfoModule', [])\r\n    .controller('slspSendEmailInfoController', slspSendEmailInfoController)\r\n    .component('slspSendEmailInfoComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspSendEmailInfoController',\r\n        template: slspSendEmailInfoHtml\r\n\r\n    })","\nimport { slspDigitizationButtonLabelModule } from './slsp-digitization-button-label/slsp-digitization-button-label.module';\nimport { slspReservationButtonModule } from './slsp-reservation-button/slsp-reservation-button.module';\n\nexport const prmServiceButtonAfterModule = angular\n    .module('prmServiceButtonAfterModule', [])\n    .component('prmServiceButtonAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `<slsp-digitization-button-label-component after-ctrl=\"$ctrl\"></slsp-digitization-button-label-component>\n                     <slsp-reservation-button-component after-ctrl=\"$ctrl\"></slsp-reservation-button-component>\n        <slsp-service-button-after parent-ctrl=\"$parent.$ctrl\"></slsp-service-button-after>`\n    });\n\nprmServiceButtonAfterModule.requires.push(slspDigitizationButtonLabelModule.name);\nprmServiceButtonAfterModule.requires.push(slspReservationButtonModule.name);\n","//--------slspDigitizationButtonLabelController ---------------------------------------\r\n\r\n\r\nexport class slspDigitizationButtonLabelController {\r\n\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                //console.log(this.parentCtrl);\r\n                if (this.parentCtrl.service.type !== undefined && this.parentCtrl.service.type === 'AlmaDigitization') {\r\n\r\n                    this.digiButtonLabel = digiButtonLabel;\r\n                    let digiButtonLabel = document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate=\"AlmaDigitization\"]');\r\n                    let html = `<div class=\"DigiButtonLabel1\">CHF</div>`;\r\n\r\n                    angular.element(digiButtonLabel).after(html).addClass('digiButton');\r\n                }\r\n\r\n\r\n                if (this.parentCtrl.service.type !== undefined && this.parentCtrl.service.type === 'AlmaGeneralDigitization') {\r\n\r\n                    this.digiButtonLabel = digiButtonLabel;\r\n                    let digiButtonLabel = document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate=\"AlmaGeneralDigitization\"]');\r\n                    let html = `<div class=\"DigiButtonLabel1\">CHF</div>`;\r\n\r\n                    angular.element(digiButtonLabel).after(html).addClass('digiButton');\r\n                }\r\n\r\n\r\n                if (this.parentCtrl.service.type !== undefined && this.parentCtrl.service.type === 'AlmaItemDigitization') {\r\n                    this.digiItemButtonLabel = digiItemButtonLabel;\r\n                    let digiItemButtonLabel = document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate=\"AlmaItemDigitization\"]');\r\n\r\n                    //let htmlItem = `<div class=\"DigiButtonLabel\" translate=\"customized.fee.digi\"></div>`;\r\n\r\n\r\n                    angular.element(digiItemButtonLabel).append(`<div class=\"DigiButtonLabel\">CHF</div>`).addClass('digiButton');\r\n                }else {\r\n                    return\r\n                }\r\n                \r\n            }, 20);\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nslspDigitizationButtonLabelController.$inject = ['$scope', '$compile', '$timeout'];","\r\n    import {slspDigitizationButtonLabelController} from './slsp-digitization-button-label.controller';\r\n    import {slspDigitizationButtonLabelHtml} from './slsp-digitization-button-label.html';\r\n\r\n    export const slspDigitizationButtonLabelModule = angular\r\n        .module('slspDigitizationButtonLabelModule', [])\r\n            .controller('slspDigitizationButtonLabelController', slspDigitizationButtonLabelController)\r\n            .component('slspDigitizationButtonLabelComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspDigitizationButtonLabelController',\r\n                template: slspDigitizationButtonLabelHtml\r\n            })","//--------slspReservationButtonController ---------------------------------------\r\n\r\n\r\nexport class slspReservationButtonController {\r\n\r\n    constructor($scope, $compile, $timeout, $rootScope, $window, $element) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n        this.$rootScope = $rootScope;\r\n        this.$window = $window;\r\n        this.$element = $element;\r\n        this.itemReservationLabel = '<span translate=\"customized.rapido.reservation\"></span>';\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n    \r\n                let language = this.getLanguage();\r\n                let serviceType = this.parentCtrl.service.type;\r\n                let statusName = this.parentCtrl.requestParameters.itemstatusname;\r\n    \r\n                // Hier das DOM-Element der Angular-Komponente abrufen\r\n                let currentElement = this.$element[0];\r\n    \r\n                // Das Elternelement (\"md-list-item\") der Angular-Komponente abrufen\r\n                let prmOpacElement = currentElement.closest('md-list-item');\r\n    \r\n                // Überprüfen, ob prmOpacElement vorhanden ist\r\n                if (prmOpacElement) {\r\n                    // Den Button innerhalb des aktuellen \"md-list-item\" Teils auswählen\r\n                    let itemReservationButton = prmOpacElement.querySelector('prm-service-button button span[translate=\"AlmaItemRequest\"]');\r\n    \r\n                    // console.log('this.parentCtrl', this.parentCtrl);\r\n                    // console.log('language', language);\r\n                    // console.log('serviceType', serviceType);\r\n                    // console.log('statusName', statusName);\r\n    \r\n                    // Check conditions and execute code if necessary\r\n                    if (serviceType === 'AlmaItemRequest' &&\r\n                        ((language === 'de' && statusName !== 'Exemplar ist vorhanden') ||\r\n                            (language === 'fr' && statusName !== 'Exemplaire en rayon') ||\r\n                            (language === 'it' && statusName !== 'Copia a scaffale') ||\r\n                            (language === 'en' && statusName !== 'Item in place'))) {\r\n    \r\n                        let compiledHtml = this.$compile(this.itemReservationLabel)(this.$scope);\r\n                        angular.element(itemReservationButton).replaceWith(compiledHtml);\r\n    \r\n                        // Execute your code here\r\n                        console.log('Condition met. Executing code...');\r\n                    }\r\n                } else {\r\n                    console.warn('md-list-item element not found.');\r\n                }\r\n    \r\n            }, 0);\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n\r\n    getLanguage() {\r\n        let sms = this.$rootScope.$$childHead.$ctrl.userSessionManagerService;\r\n\r\n        if (!sms) {\r\n            return 'en';\r\n        } else {\r\n            return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nslspReservationButtonController.$inject = ['$scope', '$compile', '$timeout', '$rootScope', '$window', '$element'];\r\n\r\n\r\n//Exemplar ist vorhanden\r\n//Exemplaire en rayon\r\n//Copia a scaffale\r\n//Item in place","\r\n    import {slspReservationButtonController} from './slsp-reservation-button.controller';\r\n    import {slspReservationButtonHtml} from './slsp-reservation-button.html';\r\n\r\n    export const slspReservationButtonModule = angular\r\n        .module('slspReservationButtonModule', [])\r\n            .controller('slspReservationButtonController', slspReservationButtonController)\r\n            .component('slspReservationButtonComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspReservationButtonController',\r\n                template: slspReservationButtonHtml\r\n            })\r\n            ","import { slspCollapseDetailsModule } from './slsp-collapse-details/slsp-collapse-details.module';\n\nexport const prmServiceDetailsAfterModule = angular\n    .module('prmServiceDetailsAfterModule', [])\n    .component('prmServiceDetailsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-collapse-details-component after-ctrl=\"$ctrl\"></slsp-collapse-details-component>\n            <slsp-service-details-after parent-ctrl=\"$parent.$ctrl\"></<slsp-service-details-after>`\n    });\n\n\nprmServiceDetailsAfterModule.requires.push(slspCollapseDetailsModule.name);","export const hsgTranslatorService = ['$rootScope', '$log',\r\n\tfunction ($rootScope, $log) {\r\n\t\tthis.defaultLang = 'de'\r\n\r\n\t\tthis.getLang = function () {\r\n\t\t\tlet sms = $rootScope.$$childHead.$ctrl.userSessionManagerService\r\n\t\t\tif (!sms) {\r\n\t\t\t\t$log.error(\"UserSessionManagerService not available\")\r\n\t\t\t\treturn this.defaultLang\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.getLabel = function (key, config) {\r\n\t\t\tif (!config) {\r\n\t\t\t\t$log.error('no config object present', key)\r\n\t\t\t\treturn key\r\n\t\t\t}\r\n\t\t\tlet labels = config.labels\r\n\t\t\tif (!labels) {\r\n\t\t\t\tthrow new Error(\"Config contains no labels\")\r\n\t\t\t}\r\n\t\t\tlet labelSet = labels[key]\r\n\t\t\tif (!labelSet) {\r\n\t\t\t\t$log.error('label not found: ', key)\r\n\t\t\t\treturn key\r\n\t\t\t}\r\n\t\t\tlet lang = this.getLang()\r\n\t\t\tlet label = labelSet[lang]\r\n\t\t\tif (!label) {\r\n\t\t\t\t$log.error('no translation for label', key, lang)\r\n\t\t\t\tlabel = labelSet[this.defaultLang]\r\n\t\t\t}\r\n\t\t\tif (!label) {\r\n\t\t\t\t$log.error('no translation for label', key, this.defaultLang)\r\n\t\t\t\treturn key\r\n\t\t\t}\r\n\t\t\treturn label\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tgetLang: this.getLang,\r\n\t\t\tgetLabel: this.getLabel\r\n\t\t}\r\n\r\n\t}]","export const slspCollapseDetailsConfig = {\r\n\tignore: [], // use the label property of an entry of 'this.parentCtrl._details'\r\n\tcharCount: 400, // make foldable after that many chars\r\n\titemCount: 5, // make foldable after that many items\r\n\t\r\n\ticons: {\r\n\t  expand: '<md-icon md-svg-icon=\"hardware:ic_keyboard_arrow_down_24px\" class=\"md-primoExplore-theme\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" id=\"ic_keyboard_arrow_down_24px_cache154\" y=\"264\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z\"></path></svg></md-icon>',\r\n\t  collapse: '<md-icon class=\"hsg-fold-icon-collapse\" md-svg-icon=\"hardware:ic_keyboard_arrow_down_24px\" class=\"md-primoExplore-theme\"><svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" id=\"ic_keyboard_arrow_down_24px_cache154\" y=\"264\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><path d=\"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z\"></path></svg></md-icon>',\r\n\t},\r\n  };","export class slspCollapseDetailsController {\r\n\tconstructor($scope, $element, $sce, $compile, slspCollapseDetailsConfig, hsgTranslatorService) {\r\n\t\tthis.$scope = $scope;\r\n\t\tthis.$element = $element;\r\n\t\tthis.$sce = $sce;\r\n\t\tthis.$compile = $compile;\r\n\t\tthis.config = slspCollapseDetailsConfig;\r\n\t\tthis.translator = hsgTranslatorService;\r\n\t\tthis.waiting = true;\r\n\t\tthis.iconExpand = this.config.icons.expand;\r\n\t\tthis.iconCollapse = this.config.icons.collapse;\r\n\t\tthis.labels = {\r\n\t\t\texpandButtonLabel: '<span translate=\"fulldisplay.details.showAll\"> </span>',\r\n\t\t\tcollapseButtonLabel: '<span translate=\"fulldisplay.details.showLess\"></span>',\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t$onInit() {\r\n\t\tthis.parentCtrl = this.afterCtrl.parentCtrl\r\n\r\n\t\tthis.parentCtrl.NUMBER_OF_DETAILS_TO_SHOW = 1000;\r\n\t\tthis.rootEl = this.$element.parent().parent().query('div').children()\r\n\t\tlet that = this\r\n\t\t\r\n\t\t// add a watcher to the root element\r\n\t\t// trigger when children are rendered\r\n\t\t// and deregister after first call\r\n\t\tlet deregister = this.$scope.$watch(\r\n\t\t\tfunction () {\r\n\t\t\t\treturn that.rootEl.query('div')\r\n\t\t\t},\r\n\t\t\tfunction (newValue, oldValue) {\r\n\t\t\t\tif (that.waiting && newValue !== oldValue) {\r\n\t\t\t\t\tthat.waiting = false\r\n\t\t\t\t\tthat.makeFoldable()\r\n\t\t\t\t\tderegister()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tmakeFoldable() {\r\n\t\tlet details = this.parentCtrl._details\r\n\r\n\t\tfor (let key in details) {\r\n\t\t\tlet detail = details[key]\r\n\t\t\tif (typeof detail != 'object') {\r\n\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tif (this.config.ignore.includes(detail.label)) {\r\n\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tlet values = detail.values[0].values\r\n\t\t\t\r\n\t\t\tlet textLength = values[0].length\r\n\t\t\tconst configItem = this.config.itemCount;\r\n\t\t\tconst lowerBound = configItem + 3;\r\n\t\t\t//console.log(values);\r\n\t\t\t//console.log(this);\r\n\t\t\tif (textLength > this.config.charCount) {\r\n\t\t\t\tthis.addMarkup(this.getItemContainer(key), 1, true)\r\n\t\t\t} else if (values.length > configItem && values.length >= lowerBound) {\r\n\t\t\t\tthis.addMarkup(this.getItemContainer(key), this.config.itemCount, false)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetItemContainer(key) {\r\n\t\tlet children = this.rootEl.children()\r\n\t\tlet child = children[key]\r\n\t\treturn child.querySelector('.item-details-element-container')\r\n\t}\r\n\r\n\taddMarkup(itemContainer, count, longtext) {\r\n\t\titemContainer.classList.add('hsg-collapsed')\r\n\t\tlet item = itemContainer.querySelector('.item-details-element')\r\n\t\tlet listitems = item.querySelectorAll('[role=listitem]')\r\n\t\tfor (let key in listitems) {\r\n\t\t\tlet listitem = listitems[key]\r\n\t\t\tif (typeof listitem != 'object') {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tif (longtext && key < count) {\r\n\t\t\t\tlistitem.classList.add('hsg-foldable-item-longtext')\r\n\t\t\t}\r\n\t\t\tif (key >= count) {\r\n\t\t\t\tlistitem.classList.add('hsg-foldable-item')\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//console.log(longtext);\r\n\t\t\r\n\t\tlet expand = document.createElement('div');\r\n\t\texpand.classList.add('hsg-expand-button');\r\n\t\texpand.innerHTML = this.iconExpand + this.labels.expandButtonLabel;\r\n\t\tthis.$compile(expand)(this.$scope);\r\n\t\titem.insertBefore(expand, item.children[count]);\r\n\r\n\t\tlet collapse = document.createElement('div');\r\n\t\tcollapse.classList.add('hsg-collapse-button');\r\n\t\tcollapse.style.display = 'none';\r\n\t\titem.appendChild(collapse);\r\n\r\n\t\texpand.addEventListener('click', () => {\r\n\t\t\texpand.style.display = 'none';\r\n\t\t\tcollapse.style.display = 'inline-block';\r\n\t\t\titemContainer.classList.remove('hsg-collapsed');\r\n\t\t\titemContainer.classList.add('hsg-expanded');\r\n\r\n\t\t\tcollapse.innerHTML = this.iconCollapse + this.labels.collapseButtonLabel;\r\n\t\t\tthis.$compile(collapse)(this.$scope);\r\n\t\t});\r\n\r\n\t\tcollapse.addEventListener('click', () => {\r\n\t\t\titemContainer.classList.add('hsg-collapsed');\r\n\t\t\titemContainer.classList.remove('hsg-expanded');\r\n\t\t\texpand.style.display = 'inline-block';\r\n\t\t\tcollapse.style.display = 'none';\r\n\t\t});\r\n\t}\r\n\r\n\r\n\r\n\ttranslate(key) {\r\n\t\tif (!this.config) {\r\n\t\t\tconsole.log(\"config missing\")\r\n\t\t\treturn key\r\n\t\t}\r\n\t\tlet msg = this.translator.getLabel(key, this.config)\r\n\t\treturn this.$sce.trustAsHtml(msg)\r\n\t}\r\n}\r\n\r\nslspCollapseDetailsController.$inject = ['$scope', '$element', '$sce', '$compile', 'slspCollapseDetailsConfig', 'hsgTranslatorService']\r\n\r\n\r\n","import { hsgTranslatorService } from './hsg-translator.service'\r\nimport { slspCollapseDetailsController } from './slsp-collapse-details.controller';\r\nimport { slspCollapseDetailsConfig } from './slsp-collapse-details.config';\r\n\r\nexport const slspCollapseDetailsModule = angular\r\n    .module('slspCollapseDetailsModule', [])\r\n    .constant('slspCollapseDetailsConfig', slspCollapseDetailsConfig)\r\n    .factory('hsgTranslatorService', hsgTranslatorService)\r\n    .controller('slspCollapseDetailsController', slspCollapseDetailsController)\r\n    .component('slspCollapseDetailsComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspCollapseDetailsController',\r\n\r\n    })","export class bcuRapidoNoFurtherOptionsController {\r\n\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            let msg = this.parentCtrl.almaRSServiceAvailable;\r\n            let isi = this.parentCtrl.isSignedIn();\r\n\r\n            let rapidoSection = document.getElementById('rapidoOffer');\r\n            let rapidoTOC = document.querySelector('button span[translate=\"brief.results.tabs.Get_it_from_other_locations\"]');\r\n\r\n            //console.log(\"msg:\", this.parentCtrl.almaRSServiceAvailable, \"isi:\", this.parentCtrl.isSignedIn(), rapidoTOC.parentElement, rapidoSection);\r\n\r\n            if (msg == \"false\" && isi == \"true\") {\r\n                angular.element(rapidoSection).addClass('slsp-hide-rapido');\r\n                angular.element(rapidoTOC.parentElement).addClass('slsp-hide-rapido');\r\n            } else {\r\n                if (angular.element(rapidoSection).hasClass('slsp-hide-rapido')) {\r\n                    angular.element(rapidoSection).removeClass('slsp-hide-rapido');\r\n                }\r\n                if (angular.element(rapidoTOC.parentElement).hasClass('slsp-hide-rapido')) {\r\n                    angular.element(rapidoTOC.parentElement).removeClass('slsp-hide-rapido');\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido no Further Options\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nbcuRapidoNoFurtherOptionsController.$inject = ['$scope'];","import {bcuRapidoNoFurtherOptionsController} from './bcu-rapido-no-further-options.controller';\r\n//import {slspIllSigninOrderLoggedOutService} from '../../prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.service';\r\n\r\nexport const bcuRapidoNoFurtherOptionsModule = angular\r\n    .module('bcuRapidoNoFurtherOptionsModule', [])\r\n        //.factory('slspIllSigninOrderLoggedOutService', slspIllSigninOrderLoggedOutService)\r\n        .controller('bcuRapidoNoFurtherOptionsController', bcuRapidoNoFurtherOptionsController)\r\n        .component('bcuRapidoNoFurtherOptions', {\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'bcuRapidoNoFurtherOptionsController'\r\n        })","import { slspRapidoFeesLinkModule } from './slsp-rapido-fees-link/slsp-rapido-fees-link.module';\nimport { bcuRapidoNoFurtherOptionsModule } from './bcu-rapido-no-further-options/bcu-rapido-no-further-options.module';\n\n\nexport const prmServiceNgrsAfterModule = angular\n    .module('prmServiceNgrsAfterModule', [])\n    .component('prmServiceNgrsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `<slsp-rapido-fees-link-component after-ctrl=\"$ctrl\"></slsp-rapido-fees-link-component>\n            <bcu-rapido-no-further-options after-ctrl=\"$ctrl\"></bcu-rapido-no-further-options>\n            <slsp-service-ngrs-after parent-ctrl=\"$parent.$ctrl\"></<slsp-service-ngrs-after>`\n    });\n\nprmServiceNgrsAfterModule.requires.push(slspRapidoFeesLinkModule.name);\nprmServiceNgrsAfterModule.requires.push(bcuRapidoNoFurtherOptionsModule.name);","\r\n\r\n//--------Rapido Fees Link ---------------------------------------\r\n\r\n\r\nexport class slspRapidoFeesLinkController {\r\n\r\n    constructor( $scope, $compile ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        \r\n    }\r\n\r\n      \r\n    $onInit() {\r\n            try{\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                this.rapidoFeesLink = rapidoFeesLink;\r\n                \r\n                let rapidoFeesLink = document.querySelector('#rapidoOffer div.full-view-section-content prm-full-view-service-container div.section-head h4');\r\n                let html = `<div class=\"rapidoFeesLink neutralized-button arrow-link-button md-button md-primoExplore-theme md-ink-ripple\"><a href=\"${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesUrl')}\" target=\"_blank\"><span translate=\"customized.rapido.fees\">see fees details via link</span><prm-icon link-arrow=\"\" icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"chevron-right\" [display-mode]=\"::$ctrl.displayMode\"><!----><md-icon ng-if=\"::($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())\" md-svg-icon=\"primo-ui:chevron-right\" role=\"presentation\" class=\"md-primoExplore-theme\"><svg id=\"chevron-right_cache76\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" y=\"384\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\">\r\n                <path d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"></path>\r\n            </svg></md-icon><!----><!----><prm-icon-after parent-ctrl=\"$ctrl\"></prm-icon-after></prm-icon></a></div>`;\r\n                        \r\n                    angular.element(rapidoFeesLink).after(this.$compile(html)(this.$scope));\r\n            }\r\n                               \r\n            \r\n            catch(e){\r\n                console.error(\"***SLSP*** an error occured: Rapido Fees Link\\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n          \r\n        }\r\n    }\r\n\r\n    slspRapidoFeesLinkController.$inject = ['$scope', '$compile'];\r\n","\r\n    import {slspRapidoFeesLinkController} from './slsp-rapido-fees-link.controller';\r\n    import {slspRapidoFeesLinkHtml} from './slsp-rapido-fees-link.html';\r\n\r\n    export const slspRapidoFeesLinkModule = angular\r\n        .module('slspRapidoFeesLinkModule', [])\r\n            .controller('slspRapidoFeesLinkController', slspRapidoFeesLinkController)\r\n            .component('slspRapidoFeesLinkComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspRapidoFeesLinkController',\r\n                template: slspRapidoFeesLinkHtml\r\n            })","export class ethDisableRequestButtonController {\n\n    $onInit() {\n        try{\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.processDoCheck = true;\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethDisableRequestButtonController \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n    $doCheck() {\n        try{\n            if(!this.processDoCheck || !document.querySelector('prm-service-physical-best-offer .offer_details .rota_line > div > span'))return;\n            let noAvailableCopies = document.querySelector('[translate=\"rapido.tiles.physical.no_best_offer.line_2\"]');\n            if(noAvailableCopies){\n                let requestButton = document.querySelector('#get_it_btn_physical');\n                angular.element(requestButton).attr('disabled', 'disabled');\n            }\n            this.processDoCheck = false;\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethDisableRequestButtonController $doCheck\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}","import {ethDisableRequestButtonController} from './eth-disable-request-button.controller';\n\nexport const ethDisableRequestButtonModule = angular\n    .module('ethDisableRequestButtonModule', [])\n        .controller('ethDisableRequestButtonController', ethDisableRequestButtonController)\n        .component('ethDisableRequestButtonComponent',  {\n            bindings: {afterCtrl: '<'},\n            controller: 'ethDisableRequestButtonController',\n        })\n","import { slspRapidoDigitalOfferModule } from './slsp-rapido-digital-offer/slsp-rapido-digital-offer.module';\nimport { slspIconLabelRapidoModule } from './slsp-icon-label-rapido/slsp-icon-label-rapido.module';\nimport { ethDisableRequestButtonModule } from './eth-disable-request-button/eth-disable-request-button.module';\n\nexport const prmServicePhysicalBestOfferAfterModule = angular\n    .module('prmServicePhysicalBestOfferAfterModule', [])\n    .component('prmServicePhysicalBestOfferAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `<slsp-rapido-digital-offer-component after-ctrl=\"$ctrl\"></slsp-rapido-digital-offer-component>\n            <slsp-icon-label-rapido-component after-ctrl=\"$ctrl\"></slsp-icon-label-rapido-component>\n            <eth-disable-request-button-component after-ctrl=\"$ctrl\"></eth-disable-request-button-component>\n            <slsp-service-physical-best-offer-after parent-ctrl=\"$parent.$ctrl\"></slsp-service-physical-best-offer-after>`,\n    });\n\nprmServicePhysicalBestOfferAfterModule.requires.push(slspRapidoDigitalOfferModule.name);\nprmServicePhysicalBestOfferAfterModule.requires.push(slspIconLabelRapidoModule.name);\nprmServicePhysicalBestOfferAfterModule.requires.push(ethDisableRequestButtonModule.name);","//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelRapidoController {\r\n\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n\r\n\r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n                /*icon label*/\r\n                if (this.parentCtrl.isdigitaloffer === true) {\r\n                    this.iconLabel = iconLabel;\r\n\r\n                    let iconLabel = document.querySelectorAll('#item-ngrs > div > div > div[ng-if=\"$ctrl.digitalTileVisible\"] > prm-service-physical-best-offer > div > div.icon-wrapper');\r\n                    let html1 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><g><circle cx=\"130\" cy=\"130\" r=\"10.57\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M145.26,152.31c-4.34,2.98-9.6,4.69-15.26,4.69-14.91,0-27-12.09-27-27s12.09-27,27-27,27,12.09,27,27v2.35c0,4.54-3.68,8.21-8.21,8.21s-8.22-3.68-8.22-8.21v-2.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g><g><path d=\"M88.91,130H37c-4.97,0-9-4.03-9-9V55c0-4.96,4.03-9,9-9h108c4.97,0,9,4.04,9,9v42.32\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polyline points=\"151 49 91 97 31 49\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.digi\"></div></div>`;\r\n\r\n\r\n                    angular.element(iconLabel).after(this.$compile(html1)(this.$scope)).addClass('icnLbl');\r\n                }\r\n\r\n                if (this.parentCtrl.isdigitaloffer !== true) {\r\n                    this.iconLabel2 = iconLabel2;\r\n                    let iconLabel2 = document.querySelectorAll('#item-ngrs > div > div > div[ng-if=\"$ctrl.physicalTileVisible\"] > prm-service-physical-best-offer > div > div.icon-wrapper');\r\n                    let html2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><line x1=\"6.16\" y1=\"82.58\" x2=\"29.16\" y2=\"82.62\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"17.66\" y1=\"97.91\" x2=\"29.16\" y2=\"97.95\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"25.33\" y1=\"113.24\" x2=\"29.16\" y2=\"113.28\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><g><circle cx=\"151.84\" cy=\"125.5\" r=\"12\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><circle cx=\"67.84\" cy=\"125.5\" r=\"12\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polyline points=\"163.84 125.5 178.84 125.5 178.84 98.5 160.47 65.84 124.84 65.84 124.84 47.5 40.84 47.5 40.84 125.5 55.84 125.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"139.84\" y1=\"125.5\" x2=\"79.84\" y2=\"125.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"124.84\" y1=\"53.5\" x2=\"124.84\" y2=\"125.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"178.84\" y1=\"98.5\" x2=\"124.84\" y2=\"98.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.courier\">Courier</div><div class=\"courierInfo\" translate=\"customized.fee.localcourier\">blabla bla Blaabl bla</div></div>`;\r\n\r\n                    angular.element(iconLabel2).after(this.$compile(html2)(this.$scope)).addClass('icnLbl2');\r\n                }\r\n\r\n\r\n            }, 0);\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nslspIconLabelRapidoController.$inject = ['$scope', '$compile', '$timeout'];\r\n\r\n\r\n\r\n// md-content > prm-locations > div.padding-left-medium > md-list.separate-list-items.margin-bottom-medium.padding-bottom-zero.md-primoExplore-theme","\r\n    import {slspIconLabelRapidoController} from './slsp-icon-label-rapido.controller';\r\n    import {slspIconLabelRapidoHtml} from './slsp-icon-label-rapido.html';\r\n\r\n    export const slspIconLabelRapidoModule = angular\r\n        .module('slspIconLabelRapidoModule', [])\r\n            .controller('slspIconLabelRapidoController', slspIconLabelRapidoController)\r\n            .component('slspIconLabelRapidoComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelRapidoController',\r\n                template: slspIconLabelRapidoHtml\r\n            })","export class slspRapidoDigitalOfferController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n        this.loaderTemplate = `<div class=\"slsp-rapido-loader\"><prm-spinner class=\"inline-loader dark-on-light\" layout=\"row\" layout-align=\"start center\"></prm-spinner></div>`\n    }\n\n    $onInit() {\n        try {\n\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.isDone = false;\n            //console.log(this.parentCtrl);\n\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido onInit \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n    $doCheck() {\n        try {\n           \n\n            // loader\n            const loadingText = document.querySelectorAll('span[translate=\"rapido.tiles.placeholder.text\"]')\n            if (loadingText) {\n                Array.from(loadingText).forEach(text => {\n                    if (!text.classList.contains('rapido-loading')) {\n                        angular.element(text).after(this.$compile(this.loaderTemplate)(this.$scope)).addClass('rapido-loading')\n                    }\n                })\n            }\n\n            if (this.isDone) return;\n\n            // tilesplaceholderactive is true until the tile is loaded, also by reselecting pickupinfo\n            if (this.parentCtrl.tilesplaceholderactive == true) return;\n\n\n            /* costs per page */\n            if (this.parentCtrl.isdigitaloffer === true) {\n\n                this.$timeout(() => {\n                    let rapidoCosts = document.querySelectorAll('div[ng-if=\"$ctrl.digitalTileVisible\"] .patron_cost.last_line');\n                    let htmlRc = `<div class=\"rapidoCosts\" translate=\"customized.rapido.digi\"></div>`;\n                    angular.element(rapidoCosts).after(this.$compile(htmlRc)(this.$scope));\n                }, 20);\n            }\n\n\n            /* reservation button */\n            if (this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.unavailableInAllMembersPod === true && this.parentCtrl.bestoffer.unavailableResource === true) {\n                this.$timeout(() => {\n                    let reservation = document.querySelectorAll('prm-service-physical-best-offer .get_it_btn_physical > span');\n                    let htmlR1 = `<div class=\"reservationButton\" translate=\"customized.rapido.reservation\"></div>`;\n\n                    angular.element(reservation).after(this.$compile(htmlR1)(this.$scope)).addClass('noOffer');\n                }, 20);\n            }\n\n\n            /* reading room POD */\n            if (this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452167832730000041' ||\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452167827350000041' ||\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452497325370000041' ||\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452497929300000041' ||\n                this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452084165700000041') {\n\n                this.$timeout(() => {\n                    let readingRoomPod = document.querySelectorAll('div[ng-if=\"$ctrl.physicalTileVisible\"] prm-service-physical-best-offer .keep_for span');\n                    let htmlPD = `<span class=\"reading-Room-Pod\" translate=\"customized.rapido.readingroom\"></span>`;\n\n                    angular.element(readingRoomPod).after(this.$compile(htmlPD)(this.$scope)).addClass('pod');\n                }, 20);\n            }\n\n            this.isDone = true;\n\n\n        } catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido doCheck \\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\n\n\nslspRapidoDigitalOfferController.$inject = ['$scope', '$compile', '$timeout'];","   \n\n    import {slspRapidoDigitalOfferController} from './slsp-rapido-digital-offer.controller';\n   \n\n    export const slspRapidoDigitalOfferModule = angular\n        .module('slspRapidoDigitalOfferModule', [])\n            .controller('slspRapidoDigitalOfferController', slspRapidoDigitalOfferController)\n            .component('slspRapidoDigitalOfferComponent',  {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspRapidoDigitalOfferController',\n                \n            })\n    ","export class bcuScopesSelectorController {\r\n    $onInit() {\r\n        setTimeout(function(){\r\n            function activateSearch(){\r\n                setTimeout(function(){\r\n                    document.getElementsByClassName(\"zero-margin button-confirm md-button md-primoExplore-theme\")[0].click()\r\n                }, 100)\r\n            }\r\n            let searchScopes = document.querySelectorAll('[id^=\"select_option_\"]');\r\n            for (let i in searchScopes){\r\n                if( typeof searchScopes[i] === 'object' && searchScopes[i] !== null) {\r\n                    searchScopes[i].onclick = function(){\r\n                        activateSearch();\r\n                    };\r\n                }\r\n            }\r\n        }, 100)\r\n    }\r\n}\r\n","import {bcuScopesSelectorController} from './bcu-scopes-selector.controller';\r\n\r\nexport const bcuScopesSelectorModule = angular\r\n    .module('bcuScopesSelectorModule', [])\r\n        .controller('bcuScopesSelectorController', bcuScopesSelectorController)\r\n        .component('bcuScopesSelector',{\r\n            bindings: {parentCtrl: '<'},\r\n            controller: 'bcuScopesSelectorController',\r\n\r\n        })\r\n","import {bcuScopesSelectorModule} from './bcu-scopes-selector/bcu-scopes-selector.module';\r\n\r\nexport const bcuTabsAndScopesSelectorAfterModule = angular\r\n    .module('bcuTabsAndScopesSelectorAfterModule', [])\r\n        .component('prmTabsAndScopesSelectorAfter',  {\r\n            template: '<bcu-scopes-selector after-ctrl=\"$ctrl\"></bcu-scopes-selector><slsp-tabs-and-scopes-selector-after parent-ctrl=\"$parent.$ctrl\"></slsp-tabs-and-scopes-selector-after>'\r\n        });\r\n\r\nbcuTabsAndScopesSelectorAfterModule.requires.push(bcuScopesSelectorModule.name);","import { slspGitHintModule } from './slsp-git-hint/slsp-git-hint.module';\n\nexport const prmTopBarBeforeModule = angular\n    .module('prmTopBarBeforeModule', [])\n    .component('prmTopBarBefore', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-git-hint-component after-ctrl=\"$ctrl\"></slsp-git-hint-component>\n            <slsp-top-bar-before parent-ctrl=\"$parent.$ctrl\"></<slsp-top-bar-before>`\n    });\n\n\nprmTopBarBeforeModule.requires.push(slspGitHintModule.name);","export class slspGitHintController {\n\n    constructor($scope, $compile, slspGitHintService) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.slspGitHintService = slspGitHintService;\n    }\n\n    $onInit() {\n        const currentTime = new Date(); // Aktuelle Zeit\n        console.log(\"Current time:\", currentTime);\n\n        this.slspGitHintService.getMessage()\n            .then((data) => {\n                // Überprüfung, ob Daten vorhanden sind\n                if (!data) {\n                    return;\n                }\n\n                // Daten und Sprache aus der JSON-Datei\n                this.data = data;\n                this.lang = angular.element(document.querySelector('primo-explore')).injector().get('$rootScope').$$childHead.$ctrl.userSessionManagerService.getUserLanguage() ||\n                    window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n\n                // Start- und Endzeiten aus der JSON-Datei\n                console.log(\"Raw startTime:\", data.startTime);\n                console.log(\"Raw endTime:\", data.endTime);\n\n                const startTime = new Date(data.startTime);\n                const endTime = new Date(data.endTime);\n\n                console.log(\"Converted startTime:\", startTime);\n                console.log(\"Converted endTime:\", endTime);\n\n\n                // Vergleich der aktuellen Zeit mit den Zeitfenstern\n                if (currentTime >= startTime && currentTime <= endTime) {\n                    // Anzeige des Textes in der entsprechenden Sprache\n                    const topBarBefore = document.querySelector('prm-explore-main, prm-back-to-search-results-button md-toolbar, prm-account');\n                    const html = `\n                        <div class=\"slsp-git-topbar\" layout=\"row\">\n                            <svg fill=\"#a8322d\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n                                <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n                                <path d=\"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>\n                            </svg>\n                            <span ng-bind-html=\"$ctrl.data[$ctrl.lang]\"></span>\n                        </div>\n                    `;\n                    angular.element(topBarBefore).prepend(this.$compile(html)(this.$scope));\n                }\n            });\n    }\n}\nslspGitHintController.$inject = ['$scope', '$compile', 'slspGitHintService'];\n","/**\n* @ngdoc module\n* @name slspGitHintModule\n*\n* @description\n*\n* Customization for the Top Bar:<br>\n* - get text for an error message from a git file\n* - render the message at the top of the page\n*\n* file: https://github.com/eth-library/snippets/tree/main/primo\n*       Page: https://eth-library.github.io/snippets/primo/banner.json\n*\n* <b>CSS/Image Dependencies</b><br>\n* CSS slsp-git-hint.css\n*\n*/\nimport {slspGitHintService} from './slsp-git-hint.service';\nimport {slspGitHintController} from './slsp-git-hint.controller';\n\nexport const slspGitHintModule = angular\n    .module('slspGitHintModule', [])\n        .factory('slspGitHintService', slspGitHintService)\n        .controller('slspGitHintController', slspGitHintController)\n        .component('slspGitHintComponent',{\n            controller: 'slspGitHintController'\n        })\n","/**\n* @ngdoc service\n* @name ethGitHintService\n*\n* @description\n* Service to get test for an error message from a git file\n*\n* <b>Used by</b><br>\n* Module {@link ETH.slspGitHintModule}<br>\n*\n*\n- */\nexport const slspGitHintService = ['$http', '$sce', function ($http, $sce) {\n\n    function getMessage() {\n        const timestamp = new Date().getTime(); // Aktuelle Zeit als Timestamp\n        const url = `https://swiss-library-service-platform.github.io/snippets/slsp-banner-text.json?timestamp=${timestamp}`;\n\n\n        $sce.trustAsResourceUrl(url);\n\n        return $http.get(url, { headers: { \"X-From-ExL-API-Gateway\": undefined } })\n            .then(\n                function (response) {\n                    // Rückgabe der Daten aus der JSON-Datei\n                    return response.data;\n                },\n                function (httpError) {\n                    console.error(\"***slsp*** An error occurred: slspGitHintService.getData error callback: \" + httpError);\n                    return null;\n                }\n            );\n    }\n\n    return {\n        getMessage: getMessage\n    };\n}];\n","import { slspUnionLoginBoxModule } from './slsp-union-login-box/slsp-union-login-box.module';\n\nexport const prmUnionCatalogLoginAfterModule = angular\n    .module('prmUnionCatalogLoginAfterModule', [])\n    .component('prmUnionCatalogLoginAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-union-login-box-component after-ctrl=\"$ctrl\"></slsp-union-login-box-component>\n            <slsp-union-catalog-login-after parent-ctrl=\"$parent.$ctrl\"></<slsp-union-catalog-login-after>`\n    });\n\n\nprmUnionCatalogLoginAfterModule.requires.push(slspUnionLoginBoxModule.name);","//-----------------RapidoHideLibrary------------------------------\r\n\r\nexport class slspUnionLoginBoxController {\r\n\r\n    constructor($scope, $compile, $timeout, $rootScope, $window) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n        this.$rootScope = $rootScope;\r\n        this.$window = $window;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n\r\n\r\n            //console.log(this.parentCtrl.directLoginService.userSessionManagerService.getInterfaceLanguage());\r\n            //console.log(this.parentCtrl.cancelLogin());\r\n            //console.log(this.parentCtrl.isUnionCatalogLogin());\r\n\r\n\r\n\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido hide Library\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    cancelUnionLogin() {\r\n        this.parentCtrl.cancelLogin();\r\n    }\r\n    getLanguage() {       \r\n        let sms = this.$rootScope.$$childHead.$ctrl.userSessionManagerService;\r\n        if (!sms) {\r\n            return 'en';\r\n        } else {\r\n            return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\r\n        }\r\n    }\r\n}\r\n\r\nslspUnionLoginBoxController.$inject = ['$scope', '$compile', '$timeout', '$rootScope', '$window'];","import { slspUnionLoginBoxController } from './slsp-union-login-box.controller';\r\nimport { slspUnionLoginBoxHtml } from './slsp-union-login-box.html';\r\n\r\nexport const slspUnionLoginBoxModule = angular\r\n    .module('slspUnionLoginBoxModule', [])\r\n    .controller('slspUnionLoginBoxController', slspUnionLoginBoxController)\r\n    .component('slspUnionLoginBoxComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspUnionLoginBoxController',\r\n        template: slspUnionLoginBoxHtml\r\n\r\n    })","export class bcuLangSwitchController {\n\n    constructor($element, $window) {\n        this.$parent = $element.parent().parent()[0];\n        \n        this.$window = $window;\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.languages = [\"de\",\"fr\",\"it\",\"en\"];\n            if (!this.languages.includes(this.parentCtrl.lang)) {\n                this.changeLanguage(\"en\");\n            }\n            \n        }\n        catch (e) {\n            console.error(\"***BCUFR*** bcuLangSwitchControler $onInit\");\n            console.error(e.message);\n        }\n    };\n\n    changeLanguage(lang) {\n        \n        this.parentCtrl.changeLangService.addLangParamToUrl(lang);\n        let t = this.parentCtrl;\n        this.parentCtrl.i18nService.setLanguage(lang).then(function(){\n            t.$timeout(function(){return t.$state.go(t.$state.current,{lang:lang},{reload:!0})})\n        });\n };\n\n}\nbcuLangSwitchController.$inject = ['$element'];","/**\n* @ngdoc module\n* @name bcuLangSwitchModule\n*\n* @description\n* - Add LangSwitch to user area\n* @example\n* each view\n*\n*/\nimport {bcuLangSwitchController} from './bcu-lang-switch.controller';\n\nexport const bcuLangSwitchModule = angular\n    .module('bcuLangSwitchModule', [])\n        .controller('bcuLangSwitchController', bcuLangSwitchController)\n        .component('bcuLangSwitchComponent',  {\n            bindings: {afterCtrl: '<'},\n            controller: 'bcuLangSwitchController',\n//            template: '<button class=\"md-button md-lang-button\" ng-repeat=\"(lang, url) in $ctrl.languages\" ng-class=\"{active: $ctrl.afterCtrl.parentCtrl.lang == lang}\"><a href=\"{{url}}\">{{lang}}</a></button>'\n            template: '<button class=\"md-button md-lang-button\" ng-repeat=\"lang in $ctrl.languages\" ng-class=\"{active: $ctrl.afterCtrl.parentCtrl.lang == lang}\" ng-click=\"$ctrl.changeLanguage(lang)\">{{lang}}</button>'\n        })\n","\nexport class slspIllSigninOrderLoggedOutController {\n\n    constructor(slspIllSigninOrderLoggedOutService, $scope) {\n        this.slspIllSigninOrderLoggedOutService = slspIllSigninOrderLoggedOutService;\n        this.$scope = $scope;\n    }\n\n    $doCheck() {\n        try{\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.$scope.usrNme = this.slspIllSigninOrderLoggedOutService.isGuest();\n\n            if (this.$scope.usrNme == true) {\n                let myEl = angular.element(document.querySelector('primo-explore'));\n                return myEl.addClass('logged-out')\n            }\n        \n            else {\n                let myEl = angular.element(document.querySelector('primo-explore'));\n                return myEl.removeClass('logged-out');\n            }\n        }\n        catch(e){\n            console.error(\"***SLSP*** an error occured: slspIllSigninOrderLoggedOutController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nslspIllSigninOrderLoggedOutController.$inject = ['slspIllSigninOrderLoggedOutService', '$scope'];\n        \n\n","\n\n    //--------ILL Signin Order -  if logged out ---------------------------------------\n   \n\n    import {slspIllSigninOrderLoggedOutController} from './slsp-ill-signin-order-logged-out.controller';\n    import {slspIllSigninOrderLoggedOutService} from './slsp-ill-signin-order-logged-out.service';\n\n    export const slspIllSigninOrderLoggedOutModule = angular\n        .module('slspIllSigninOrderLoggedOutModule', [])\n            .factory('slspIllSigninOrderLoggedOutService', slspIllSigninOrderLoggedOutService)\n            .controller('slspIllSigninOrderLoggedOutController', slspIllSigninOrderLoggedOutController)\n            .component('slspIllSigninOrderLoggedOutComponent',  {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIllSigninOrderLoggedOutController',\n                \n            })\n    ","\n\n    export const slspIllSigninOrderLoggedOutService = ['jwtHelper', function( jwtHelper ){\n\n        function getDecodedToken(){\n            try{\n                if (!sessionStorage){\n                    console.error(\"***SLSP*** no session storage\")\n                    return null;\n                }\n                let jwt = sessionStorage.getItem('primoExploreJwt');\n                if (!jwt){\n                    return null;\n                }\n                return jwtHelper.decodeToken(jwt);\n            }\n            catch(e){\n                console.error(\"**SLSP*** an error occured: userService.getDecodedToken:\");\n                console.error(e.message);\n            }\n        }\n  \n        function isGuest(){\n            try{\n                let decodedToken = getDecodedToken();\n                if (!decodedToken) {\n                    return null;\n                }\n                let userName= decodedToken.userGroup !== 'GUEST'? decodedToken.userName : '';\n                if (userName){\n                    return false;\n                }\n                else{\n                    return true;\n                }\n            }\n            catch(e){\n                console.error(\"***SLSP*** an error occured: userService.isGuest:\");\n                console.error(e.message);\n            }\n        }\n    \n        return {\n            isGuest: isGuest,\n            getDecodedToken: getDecodedToken\n        };\n    }]\n    ","import {bcuLangSwitchModule} from './bcu-lang-switch/bcu-lang-switch.module';\nimport {slspIllSigninOrderLoggedOutModule} from './slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module';\n\nexport const slspUserAreaExpandableAfterModule = angular\n    .module('slspUserAreaExpandableAfterModule', [])\n        .component('prmUserAreaExpandableAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<bcu-lang-switch-component after-ctrl=\"$ctrl\"></bcu-lang-switch-component><slsp-ill-signin-order-logged-out-component after-ctrl=\"$ctrl\"></slsp-ill-signin-order-logged-out-component><slsp-user-area-expandable-after parent-ctrl=\"$parent.$ctrl\"></slsp-user-area-expandable-after>`,\n        });\n\nslspUserAreaExpandableAfterModule.requires.push(bcuLangSwitchModule.name);\nslspUserAreaExpandableAfterModule.requires.push(slspIllSigninOrderLoggedOutModule.name);","require('./js/slsp-archives-htgi.module.js')\nmodule.exports = 'slspArchivesHtgi'\n","angular\n    .module('slspArchivesHtgi', [])\n\n    // \"how to get it\" section for resources of archives MFA, TMA (CMI STAR)\n\n    .controller('ArchivesHtgiController', [function () {\n\n        this.$onInit = function () {\n            try{\n                if(!this.parentCtrl.item.pnx.display.source || this.parentCtrl.item.pnx.display.source.length === 0){\n                    return;\n                }\n                this.source = this.parentCtrl.item.pnx.display.source[0];\n                // CMI STAR sources\n                if(this.source === 'ETH_MaxFrischArchiv' || this.source === 'ETH_ThomasMannArchiv'){\n                    // hide content of htgi section\n                    let section = document.getElementById('full-view-container');\n                    section.classList.add('slsp-archives-hide');\n\n                    // get guid of CMIStar\n                    let sourceid = this.parentCtrl.item.pnx.control.originalsourceid[0];\n                    let guid = sourceid.substring(sourceid.lastIndexOf(':') + 1);\n\n                    // different sources: concat url\n                    if(this.source === 'ETH_ThomasMannArchiv'){\n                        this.url = 'http://www.online.tma.ethz.ch/home/#/content/' + guid;\n                        // only for test\n                        //this.label = 'Detailed information in Thomas Mann-Archiv Online (metadata only)';\n                    }\n                    else if (this.source === 'ETH_MaxFrischArchiv') {\n                        this.url = 'http://maxfrischarchiv-online.ethz.ch/home/#/content/' + guid;\n                        // only for test\n                        //this.label = 'Request via Max Frisch-Archiv Online';\n                    }\n                }\n            }\n            catch(e){\n                console.error(\"***SLSP*** an error occured: ArchivesHtgiController\\n\\n\");\n                console.error(e.message);\n            }\n        }\n    }])\n\n    .component('almaHtgiSvcAfter', {\n        bindings: { parentCtrl: '<' },\n        controller: 'ArchivesHtgiController',\n        template: `\n        <div class=\"slsp-archives\" ng-if=\"$ctrl.url\">\n            <md-list layout=\"column\" class=\"separate-list-items md-primoExplore-theme layout-column\" role=\"list\">\n                <md-list-item role=\"listitem\" ng-href=\"{{$ctrl.url}}\" target=\"_blank\">\n                      <span>{{('customized.archives.' + $ctrl.source + '.linktext' | translate)}}</span>\n                    <span>{{$ctrl.label}}</span>\n                    <div class=\"md-secondary\">\n                        <prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\" class=\"layout-margin\"/>\n                    </div>\n                </md-list-item>\n            </md-list>\n            <div ng-if=\"$ctrl.source === 'ETH_ThomasMannArchiv'\" class=\"slsp-archives-additional-hint\">\n                <div>\n                    <span translate=\"customized.archives.ETH_ThomasMannArchiv.text1\">No request possible. The digitized item can be consulted in the Thomas Mann Archives reading room upon advance registration (</span>\n                    <a target=\"_blank\" rel=\"noopener\" ng-href=\"https://tma.ethz.ch/utils/kontakt.html\">\n                        <span translate=\"customized.archives.ETH_ThomasMannArchiv.linktext2\">Contact</span>\n                        <prm-icon external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\"></prm-icon>\n                    </a>\n                    <span translate=\"customized.archives.ETH_ThomasMannArchiv.text2\">).</span>\n                </div>\n            </div>\n            <div ng-if=\"$ctrl.source === 'ETH_MaxFrischArchiv'\" class=\"slsp-archives-additional-hint\">\n                <div>\n                    <span translate=\"customized.archives.ETH_MaxFrischArchiv.text1\">Informationen zu Bestellung und Benutzung siehe</span>\n                    <a target=\"_blank\" rel=\"noopener\" ng-href=\"http://maxfrischarchiv-online.ethz.ch/home/#/manual\">\n                        <span translate=\"customized.archives.ETH_MaxFrischArchiv.linktext2\">Bedienungshinweise</span>\n                        <prm-icon external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\"></prm-icon>\n                    </a>\n                    <span translate=\"customized.archives.ETH_MaxFrischArchiv.text2\">.</span>\n                </div>\n            </div>\n        </div><slsp-htgi-svc-after parent-ctrl=\"$parent.$ctrl\"></slsp-htgi-svc-after>\n        `\n    });\n","require('./js/slsp-archives-viewit.module.js')\nmodule.exports = 'slspArchivesViewit'\n","angular\n.module('slspArchivesViewit', [])\n\n    .component('prmSearchResultAvailabilityLineAfter', {\n        bindings: { parentCtrl: '<' },\n        controller: 'ArchivesAvailabilityLineController',\n        template:'<slsp-search-result-availability-line-after parent-ctrl=\"$parent.$ctrl\"></slsp-search-result-availability-line-after>'\n    })\n\n    .component('prmAlmaViewitAfter', {\n        bindings: { parentCtrl: '<' },\n        controller: 'ArchivesViewitController',\n        template: `\n        <div class=\"slsp-archives\" ng-if=\"$ctrl.url\">\n            <md-list layout=\"column\" class=\"separate-list-items md-primoExplore-theme layout-column\" role=\"list\">\n                <md-list-item role=\"listitem\" ng-href=\"{{$ctrl.url}}\" target=\"_blank\">\n                    <span>{{('customized.archives.' + $ctrl.source + '.linktext' | translate)}}</span>\n                    <span>{{$ctrl.label}}</span>\n                    <div class=\"md-secondary\">\n                        <prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\" class=\"layout-margin\"/>\n                    </div>\n                </md-list-item>\n            </md-list>\n            <div ng-if=\"$ctrl.source === 'ETH_Hochschularchiv'\" class=\"slsp-archives-additional-hint\">\n                <div>\n                    <span translate=\"customized.archives.ETH_Hochschularchiv.text1\">Informationen zu Bestellung und Benutzung siehe</span>\n                    <a target=\"_blank\" rel=\"noopener\" ng-href=\"http://archivdatenbank-online.ethz.ch/hsa/#/manual\">\n                        <span translate=\"customized.archives.ETH_Hochschularchiv.linktext2\">Bedienungshinweise</span>\n                        <prm-icon external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\"></prm-icon>\n                    </a>\n                    <span translate=\"customized.archives.ETH_Hochschularchiv.text2\">.</span>\n                </div>\n            </div>\n        </div><slsp-alma-viewit-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-viewit-after>\n        `\n        })\n\n    // viewit section for archives when there are only partial digitized items, e.g. \"ETH Hochschularchiv\" (CMI STAR)\n    .controller('ArchivesViewitController', ['$translate', function ($translate) {\n        this.$onInit = function () {\n            try{\n                if(!this.parentCtrl.item.pnx.display.source || this.parentCtrl.item.pnx.display.source.length === 0){\n                    return;\n                }\n                this.source = this.parentCtrl.item.pnx.display.source[0];\n                // CMI STAR sources\n                if(this.source === 'ETH_Hochschularchiv'){\n                    if(this.parentCtrl.item.delivery.GetIt1 && this.parentCtrl.item.delivery.GetIt1.length > 0 && this.parentCtrl.item.delivery.GetIt1[0].links && this.parentCtrl.item.delivery.GetIt1[0].links.length > 0){\n\n                        // there is an online resource: return and do nothing\n                        let aOnlineLink = this.parentCtrl.item.delivery.GetIt1[0].links.filter( l => {\n                            if(l.isLinktoOnline && l.link !== ''){\n                                return true;\n                            }\n                            return false;\n                        });\n                        if (aOnlineLink.length > 0) {\n                            return;\n                        }\n\n                        // there is no online resource\n                        // change section heading\n                        $translate('nui.getit.service_howtogetit').then((translation) => {\n                            let fullView = document.getElementById('fullView');\n                            angular.element(fullView.querySelector(\"h4[translate='nui.getit.service_viewit']\")).text(translation);\n                            angular.element(fullView.querySelector(\"#services-index span[translate='nui.getit.service_viewit']\")).text(translation);\n                        });\n\n                    }\n                    // hide content of viewit section\n                    let section = document.getElementById('full-view-container');\n                    section.classList.add('slsp-archives-hide');\n\n                    // get guid of CMIStar\n                    let sourceid = this.parentCtrl.item.pnx.control.originalsourceid[0];\n                    let guid = sourceid.substring(sourceid.lastIndexOf(':') + 1);\n\n                    // different sources: concat url\n                    if(this.source === 'ETH_Hochschularchiv'){\n                        this.url = 'http://archivdatenbank-online.ethz.ch/hsa/#/content/' + guid;\n                        // only for test\n                        //this.label = 'Bestellen über Hochschularchiv Online';\n                    }\n                }\n            }\n            catch(e){\n                console.error(\"***SLSP*** an error occured: ArchivesViewitController\\n\\n\");\n                console.error(e.message);\n            }\n        }\n    }])\n\n    // change availability line, if there is no digitization\n    .controller('ArchivesAvailabilityLineController', ['$translate', function ($translate) {\n        this.$onInit = function () {\n            try{\n                this.changeButton = false;\n                if(!this.parentCtrl.result.pnx.display.source || this.parentCtrl.result.pnx.display.source.length === 0){\n                    return;\n                }\n                this.source = this.parentCtrl.result.pnx.display.source[0];\n                if(!(this.source === 'ETH_Hochschularchiv'))return;\n                if(!this.parentCtrl.result.delivery.GetIt1 || this.parentCtrl.result.delivery.GetIt1.length == 0 || !this.parentCtrl.result.delivery.GetIt1[0].links || this.parentCtrl.result.delivery.GetIt1[0].links.length == 0)return;\n\n                let aOnlineLink = this.parentCtrl.result.delivery.GetIt1[0].links.filter( l => {\n                    if(l.isLinktoOnline && l.link !== ''){\n                        return true;\n                    }\n                    return false;\n                });\n                if (aOnlineLink.length === 0) {\n                    // there is no online resource\n                    $translate('delivery.code.no_inventory').then((translation) => {\n                        this.changeButton = true;\n                        this.changeButtonText = translation;\n                    });\n                    let availabilityLine = this.parentCtrl.$element[0];\n                    if(availabilityLine) {\n                        availabilityLine.classList.add('slsp-hsa-no-online');\n                    }\n                }\n            }\n            catch(e){\n                console.error(\"***SLSP*** an error occured: ArchivesAvailabilityLineController\\n\\n\");\n                console.error(e.message);\n            }\n        }\n\n        this.$doCheck = function () {\n            try{\n                if (this.changeButton){\n                    let availabilityLine = this.parentCtrl.$element[0];\n                    let button = availabilityLine.querySelector('.availability-status');\n                    if(angular.element(button) && angular.element(button).length > 0){\n                        angular.element(button).html(this.changeButtonText);\n                        this.changeButton = false;\n                        this.changeButtonText = '';\n                    }\n                }\n            }\n            catch(e){\n                console.error(\"***ETH*** an error occured: ArchivesAvailabilityLineController $doCheck\\n\\n\");\n                console.error(e.message);\n            }\n        }\n    }])\n","require('./js/slsp-http-intercept-pickup-information.module.js')\nmodule.exports = 'slspHttpInterceptPickupInformation'","export const slspHttpInterceptPickupInformation = angular.module('slspHttpInterceptPickupInformation', ['ng'])\n    .config(['$httpProvider', ($httpProvider) => {\n        $httpProvider.interceptors.push(['$q', ($q) => {\n            return {\n                'request': (request) => {\n                    return request\n                },\n                'requestError': (request) => {\n                    return $q.reject(request)\n                },\n                'responseError': (response) => {\n                    return $q.reject(response)\n                },\n                'response': (response) => {\n                    try {                        \n                        if (/primaws\\/rest\\/pub\\/ngrs\\/ngrsPickupInformationUrl/.test(response.config.url)) {                            \n                            //get userGroup from JWT \n                            let userGroup = angular.element(document.querySelector('primo-explore')).controller('primo-explore').userSessionManagerService.jwtUtilService.getDecodedToken().userGroup;\n\n                            //list of user groups to change delivery for\n                            if (['91','92'].includes(userGroup)) {\n                                response.data.personalDelivery = 'None';\n                            }\n                        }\n                     \n                    } catch (error) {\n                        console.log(error)\n                    }\n                    return response\n                }\n            }\n        }])\n    }])\n","require('./js/slsp-http-intercept-requests.module.js')\nmodule.exports = 'slspHttpInterceptRequests'","export const slspHttpInterceptRequests = angular.module('slspHttpInterceptRequests', ['ng'])\n    .config(['$httpProvider', ($httpProvider) => {\n        $httpProvider.interceptors.push(['$q', ($q) => {\n            return {\n                'request': (request) => {\n                    return request\n                },\n                'requestError': (request) => {\n                    return $q.reject(request)\n                },\n                'responseError': (response) => {\n                    return $q.reject(response)\n                },\n                'response': (response) => {\n                    try {\n                        if (/primaws\\/rest\\/priv\\/myaccount\\/requests/.test(response.config.url)) {\n                            if (response.status == 200 && response.data.status == \"ok\") {\n                                let interfaceLanguage = angular.element(document.querySelector('primo-explore')).injector().get('$rootScope').$$childHead.$ctrl.userSessionManagerService.getUserLanguage() ||\n                                    window.appConfig['primo-view']['attributes-map'].interfaceLanguage\n\n                                let list_of_hold_states = {\n                                    'en': [\"in transit\", \"in process\", \"on hold shelf\"],\n                                    'de': [\"transfer\", \"in bearbeitung\", \"bereitgestellt\"],\n                                    'fr': [\"en cours de transfert\", \"en cours\", \"sur le rayon des réservations\"],\n                                    'it': [\"in transito\", \"in processo\", \"scaffale prenotazioni\"]\n                                }\n                                let list_of_photocopy_states = {\n                                    'en': [\"in transit\", \"in process\"],\n                                    'de': [\"transfer\", \"in bearbeitung\"],\n                                    'fr': [\"en cours de transfert\", \"en cours\"],\n                                    'it': [\"in transito\", \"in processo\"]\n                                }\n                                if (Object.keys(list_of_hold_states).includes(interfaceLanguage)) {\n                                    let list_of_hold_states_regexp = RegExp(list_of_hold_states[interfaceLanguage].map(m => m.toLowerCase()).join('|'))\n                                    // rewrite cancellable holds\n                                    response.data.data.holds.hold.map((m) => {\n                                        if (list_of_hold_states_regexp.test(m.holdstatus.toLowerCase())) {\n                                            m.cancel = 'N'\n                                        }\n                                    })\n                                }\n                                else {\n                                    throw `No mapping found for holds: ${interfaceLanguage}`\n                                }\n\n                                if (Object.keys(list_of_photocopy_states).includes(interfaceLanguage)) {\n                                    let list_of_photocopy_states_regexp = RegExp(list_of_photocopy_states[interfaceLanguage].map(m => m.toLowerCase()).join('|'))\n                                    // rewrite cancellable photocopies\n                                    response.data.data.photocopies.photocopy.map((m) => {\n                                        if (list_of_photocopy_states_regexp.test(m.requeststatus.toLowerCase())) {\n                                            m.cancel = 'N'\n                                        }\n                                    })\n                                }\n                                \n                                else {\n                                    throw `No mapping found for photocopies: ${interfaceLanguage}`\n                                }\n                            }\n                        }\n\n                        \n                    }\n                    catch (error) {\n                        console.error(error);\n                    }\n                    return response;\n                }\n            }\n        }])\n    }])\n","require('./js/slsp-ill-signin-order-alert.module.js')\nmodule.exports = 'slspIllSigninOrderAlert'","//--------ILL Signin Order -  if Alert Message ---------------------------------------\n\nangular\n    .module('slspIllSigninOrderAlert', [])\n\n    .controller('AlertMsgController', ['$scope', function ($scope) {\n        var vm = this;\n        vm.getAlert = getAlert\n\n        function getAlert() {\n            var ga = vm.parentCtrl.almaHowToGetitService.reqAlert._htmlMsg;\n            var myEl2 = angular.element(document.querySelector('primo-explore'));\n\n            if (ga.length > 0) {\n                return myEl2.addClass('alert');\n\n            }\n            else {\n\n                return myEl2.removeClass('alert');\n\n            }\n        }\n\n    }])\n\n    .component('almaHowovpAfter', {\n        bindings: { parentCtrl: '<' },\n        controller: 'AlertMsgController',\n        template: '<div style=\"display:none\">{{$ctrl.getAlert()}}</div><slsp-howovp-after parent-ctrl=\"$parent.$ctrl\"></slsp-howovp-after>'\n    });\n"]}