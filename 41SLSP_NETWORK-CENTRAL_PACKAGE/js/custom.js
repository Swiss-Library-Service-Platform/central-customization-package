!function n(r,l,i){function s(t,e){if(!l[t]){if(!r[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(a)return a(t,!0);throw(o=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",o}o=l[t]={exports:{}},r[t][0].call(o.exports,function(e){return s(r[t][1][e]||e)},o,o.exports,n,r,l,i)}return l[t].exports}for(var a="function"==typeof require&&require,e=0;e<i.length;e++)s(i[e]);return s}({1:[function(e,t,o){"use strict";e("./slsp-ill-signin-order-alert"),e("./prm-locations-after"),e("./prm-location-items-after"),e("./slsp-http-intercept-requests"),e("./prm-user-area-expandable-after"),e("./prm-loan-after"),e("./prm-personal-info-after"),e("./prm-alma-other-members-after"),e("./prm-service-ngrs-after"),e("./prm-service-physical-best-offer-after"),e("./slsp-http-intercept-pickup-information"),e("./prm-search-bar-after"),e("./prm-tabs-and-scopes-selector-after"),e("./prm-service-button-after"),e("./prm-full-view-after"),e("./prm-request-after"),e("./prm-requests-after"),e("./prm-alma-viewit-items-after"),e("./prm-alma-other-units-after"),e("./prm-login-after"),e("./prm-location-holdings-after"),e("./prm-offer-details-tile-after"),e("./prm-fines-after"),e("./prm-service-details-after"),e("./prm-location-item-after"),e("./prm-union-catalog-login-after"),e("./prm-opac-after"),e("./prm-facet-exact-after"),e("./prm-citation-after"),e("./prm-send-email-after"),e("./prm-favorites-edit-labels-menu-after"),e("./prm-search-result-tool-bar-after"),e("./prm-search-result-list-after"),e("./prm-top-bar-before"),e("./prm-advanced-search-after"),e("./prm-get-it-request-after"),e("./pickup-anywhere-form-after"),e("./prm-gallery-collection-after");angular.module("centralCustom",["angularLoad","slspIllSigninOrderAlert","ethLocationsAfterModule","ethLocationItemsAfterModule","slspHttpInterceptRequests","slspUserAreaExpandableAfterModule","slspLoanAfterModule","slspPersonalInfoAfterModule","prmAlmaOtherMembersAfterModule","prmServiceNgrsAfterModule","prmServicePhysicalBestOfferAfterModule","slspHttpInterceptPickupInformation","bcuSearchBarAfterModule","bcuTabsAndScopesSelectorAfterModule","prmServiceButtonAfterModule","prmFullViewAfterModule","slspRequestAfterModule","slspRequestsAfterModule","prmAlmaViewitItemsAfterModule","prmAlmaOtherUnitsAfterModule","prmLoginAfterModule","prmLocationHoldingsAfterModule","prmOfferDetailsTileAfterModule","prmFinesAfterModule","prmServiceDetailsAfterModule","hsgLocationItemAfterModule","prmUnionCatalogLoginAfterModule","prmOpacAfterModule","prmFacetExactAfterModule","prmCitationAfterModule","prmSendEmailAfterModule","prmFavoritesEditLabelsMenuAfterModule","prmSearchResultToolBarAfterModule","prmSearchResultListAfterModule","prmTopBarBeforeModule","prmAdvancedSearchAfterModule","prmGetItRequestAfterModule","pickupAnywhereFormAfterModule","prmGalleryCollectionAfterModule"])},{"./pickup-anywhere-form-after":2,"./prm-advanced-search-after":5,"./prm-alma-other-members-after":8,"./prm-alma-other-units-after":13,"./prm-alma-viewit-items-after":16,"./prm-citation-after":23,"./prm-facet-exact-after":30,"./prm-favorites-edit-labels-menu-after":33,"./prm-fines-after":36,"./prm-full-view-after":39,"./prm-gallery-collection-after":42,"./prm-get-it-request-after":45,"./prm-loan-after":50,"./prm-location-holdings-after":53,"./prm-location-item-after":60,"./prm-location-items-after":63,"./prm-locations-after":75,"./prm-login-after":82,"./prm-offer-details-tile-after":85,"./prm-opac-after":88,"./prm-personal-info-after":93,"./prm-request-after":98,"./prm-requests-after":101,"./prm-search-bar-after":102,"./prm-search-result-list-after":107,"./prm-search-result-tool-bar-after":110,"./prm-send-email-after":113,"./prm-service-button-after":116,"./prm-service-details-after":121,"./prm-service-ngrs-after":128,"./prm-service-physical-best-offer-after":133,"./prm-tabs-and-scopes-selector-after":140,"./prm-top-bar-before":141,"./prm-union-catalog-login-after":145,"./prm-user-area-expandable-after":153,"./slsp-http-intercept-pickup-information":154,"./slsp-http-intercept-requests":156,"./slsp-ill-signin-order-alert":158}],2:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.pickupAnywhereFormAfterModule=void 0;e=e("./slsp-close-pickup-anywhere-form/slsp-close-pickup-anywhere-form.module");(o.pickupAnywhereFormAfterModule=angular.module("pickupAnywhereFormAfterModule",[]).component("pickupAnywhereFormAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-close-pickup-anywhere-form-component after-ctrl="$ctrl"></slsp-close-pickup-anywhere-form-component>\n            <slsp-pickup-anywhere-form-after parent-ctrl="$parent.$ctrl"></<slsp-pickup-anywhere-form-after>'})).requires.push(e.slspClosePickupAnywhereFormModule.name)},{"./slsp-close-pickup-anywhere-form/slsp-close-pickup-anywhere-form.module":4}],3:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.parentCtrl=null}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspClosePickupAnywhereFormController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl}catch(e){console.error("***SLSP*** An error occurred: ClosePickupAnywhereForm"),console.error(e.message)}}},{key:"closePickupAnywhereForm",value:function(){this.parentCtrl?this.parentCtrl.hidePickupAnywhereForm.emit():console.error("slspClosePickupAnywhereFormController")}}]),r)).$inject=[]},{}],4:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspClosePickupAnywhereFormModule=void 0;e=e("./slsp-close-pickup-anywhere-form.controller"),o.slspClosePickupAnywhereFormModule=angular.module("slspClosePickupAnywhereFormModule",[]).controller("slspClosePickupAnywhereFormController",e.slspClosePickupAnywhereFormController).component("slspClosePickupAnywhereFormComponent",{bindings:{afterCtrl:"<"},controller:"slspClosePickupAnywhereFormController",template:'<div>\n    <button ng-click="$ctrl.closePickupAnywhereForm()" class="close md-button md-primoExplore-theme md-ink-ripple">x</button>\n</div>'})},{"./slsp-close-pickup-anywhere-form.controller":3}],5:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmAdvancedSearchAfterModule=void 0;e=e("./slsp-advanced-search-clear-button/slsp-advanced-search-clear-button.module");(o.prmAdvancedSearchAfterModule=angular.module("prmAdvancedSearchAfterModule",[]).component("prmAdvancedSearchAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-advanced-search-clear-button-component after-ctrl="$ctrl"></slsp-advanced-search-clear-button-component>\n            <slsp-advanced-search-after parent-ctrl="$parent.$ctrl"></<slsp-advanced-search-after>'})).requires.push(e.slspAdvancedSearchClearButtonModule.name)},{"./slsp-advanced-search-clear-button/slsp-advanced-search-clear-button.module":7}],6:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$timeout=e,this.$compile=t,this.$scope=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspAdvancedSearchClearButtonController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){var n=this;try{this.$timeout(function(){n.afterCtrl=n.afterCtrl.parentCtrl,n.afterCtrl.limit=2;var e=angular.element(document.querySelector('button[ng-click="$ctrl.incrementLimit()"')),t=angular.element(document.querySelector('button[ng-click="$ctrl.clearSearchForm()"')),o=n.$compile('\n                    <button class="button-with-icon zero-margin button-notice button-with-icon md-button md-primoExplore-theme" type="button" ng-click="$ctrl.resetForm()">\n                        <prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="replay">\n                            <md-icon ng-if="($ctrl.iconDefinition && !$ctrl.isCustom && !$ctrl.isEmailMode()) && !$ctrl.useFallBack" md-svg-icon="primo-ui:replay" role="presentation" class="md-primoExplore-theme">\n                                <svg id="replay_cache250" width="100%" height="100%" viewBox="0 0 24 24" y="960" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false">\n                                    <path d="M12,5V1L7,6L12,11V7A6,6 0 0,1 18,13A6,6 0 0,1 12,19A6,6 0 0,1 6,13H4A8,8 0 0,0 12,21A8,8 0 0,0 20,13A8,8 0 0,0 12,5Z"></path>\n                                </svg>\n                            </md-icon>\n                            <prm-icon-after parent-ctrl="$ctrl"></prm-icon-after>\n                        </prm-icon>\n                        <span translate="link.title.search.clear"></span>\n                    </button>')(n.$scope);t.length&&t.replaceWith(o);o=n.$compile('\n                    <button type="button" class="decrement-limit button-with-icon md-primary zero-margin button-with-icon md-button md-primoExplore-theme" ng-click="$ctrl.decrementLimit()" ng-hide="$ctrl.afterCtrl.limit <= 2">\n                        <svg width="100%" height="100%" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" focusable="false">\n                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>\n                        </svg>\n                        <span translate="customized.search-advanced.delete"></span>\n                    </button>')(n.$scope);e[0].parentNode.insertBefore(o[0],e[0].nextSibling)},0)}catch(e){console.error("***SLSP*** an error occured: slspAdvancedSearchClearButton\n\n"),console.error(e.message)}}},{key:"decrementLimit",value:function(){var e;2<this.afterCtrl.limit&&(--this.afterCtrl.limit,e=this.afterCtrl.limit,this.afterCtrl.rowArray[e]&&(this.afterCtrl.rowArray[e].boolOperator="AND",this.afterCtrl.rowArray[e].searchOperator="contains",this.afterCtrl.rowArray[e].searchCategory="any",this.afterCtrl.rowArray[e].searchQuery=""))}},{key:"resetForm",value:function(){this.afterCtrl.clearSearchForm(),this.afterCtrl.limit=2}}]),r)).$inject=["$timeout","$compile","$scope"]},{}],7:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspAdvancedSearchClearButtonModule=void 0;e=e("./slsp-advanced-search-clear-button.controller"),o.slspAdvancedSearchClearButtonModule=angular.module("slspAdvancedSearchClearButtonModule",[]).controller("slspAdvancedSearchClearButtonController",e.slspAdvancedSearchClearButtonController).component("slspAdvancedSearchClearButtonComponent",{bindings:{afterCtrl:"<"},controller:"slspAdvancedSearchClearButtonController",template:""})},{"./slsp-advanced-search-clear-button.controller":6}],8:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmAlmaOtherMembersAfterModule=void 0;var n=e("./slsp-collapse-other-inst/slsp-collapse-other-inst.module"),e=e("./slsp-icon-label-other-members/slsp-icon-label-other-members.module"),o=o.prmAlmaOtherMembersAfterModule=angular.module("prmAlmaOtherMembersAfterModule",[]).component("prmAlmaOtherMembersAfter",{bindings:{parentCtrl:"<"},template:'<slsp-collapse-other-inst-component after-ctrl="$ctrl"></slsp-collapse-other-inst-component>\n            <slsp-icon-label-other-members-component after-ctrl="$ctrl"></slsp-icon-label-other-members-component>\n            <slsp-alma-other-members-after parent-ctrl="$parent.$ctrl"></slsp-alma-other-members-after>'});o.requires.push(n.slspCollapseOtherInstModule.name),o.requires.push(e.slspIconLabelOtherMembersModule.name)},{"./slsp-collapse-other-inst/slsp-collapse-other-inst.module":10,"./slsp-icon-label-other-members/slsp-icon-label-other-members.module":12}],9:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspCollapseOtherInstController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{var e,t;this.parentCtrl=this.afterCtrl.parentCtrl,console.log(this.parentCtrl),"howovp"!==this.parentCtrl.serviceMode?this.parentCtrl.isCollapsed=!0:this.parentCtrl.isCollapsed=!1,"no_inventory"==this.parentCtrl.item.delivery.displayedAvailability&&(this.noItemAtPickupLocation=void 0,e=document.querySelectorAll("prm-alma-other-members:nth-child(2)"),t=document.querySelectorAll("alma-htgi-svc"),angular.element(e).prepend(this.$compile('<div class="bar alert-bar zero-margin-bottom layout-align-center-center layout-row"><span class="center" translate="customized.alert.nolocations">​</span></div>')(this.$scope)).addClass("noItemAtPickupLocation"),angular.element(t).addClass("alma-alert-bar-hide"))}catch(e){console.error("***SLSP*** an error occured: slspCollapseOtherInstController\n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile"]},{}],10:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspCollapseOtherInstModule=void 0;e=e("./slsp-collapse-other-inst.controller"),o.slspCollapseOtherInstModule=angular.module("slspCollapseOtherInstModule",[]).controller("slspCollapseOtherInstController",e.slspCollapseOtherInstController).component("slspCollapseOtherInstComponent",{bindings:{afterCtrl:"<"},controller:"slspCollapseOtherInstController",template:"\n"})},{"./slsp-collapse-other-inst.controller":9}],11:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.$timeout=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspIconLabelOtherMembersController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){var t=this;try{this.$timeout(function(){var e;t.parentCtrl=t.afterCtrl.parentCtrl,"E"==t.parentCtrl.availabilityType&&(t.iconLabelOtherMembersE=void 0,e=document.querySelectorAll("prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('E')\"] md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme"),angular.element(e).prepend(t.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g id="Outline_Icons"><g><path d="M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="39.43" y1="56.62" x2="145.06" y2="56.62" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="29.04" y1="89.74" x2="155.98" y2="89.74" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="37.22" y1="122.86" x2="148.17" y2="122.86" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/></g></g></g></g></svg></div><div class="iconLabel" translate="customized.viewit_other.icon"></div></div>')(t.$scope)).addClass("icnLblOtherMembersE")),"P"==t.parentCtrl.availabilityType&&(t.iconLabelOtherMembersP2=void 0,e=document.querySelectorAll("prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('P')\"] md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme"),angular.element(e).prepend(t.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_4" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.physical"></div></div>')(t.$scope)).addClass("icnLblOtherMembersP2"))},0)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile","$timeout"]},{}],12:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspIconLabelOtherMembersModule=void 0;e=e("./slsp-icon-label-other-members.controller"),o.slspIconLabelOtherMembersModule=angular.module("slspIconLabelOtherMembersModule",[]).controller("slspIconLabelOtherMembersController",e.slspIconLabelOtherMembersController).component("slspIconLabelOtherMembersComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelOtherMembersController",template:"\n"})},{"./slsp-icon-label-other-members.controller":11}],13:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmAlmaOtherUnitsAfterModule=void 0;e=e("./slsp-icon-label-other-units/slsp-icon-label-other-units.module");(o.prmAlmaOtherUnitsAfterModule=angular.module("prmAlmaOtherUnitsAfterModule",[]).component("prmAlmaOtherUnitsAfter",{bindings:{parentCtrl:"<"},template:'<slsp-icon-label-other-units-component after-ctrl="$ctrl"></slsp-icon-label-other-units-component><slsp-alma-other-units-after parent-ctrl="$parent.$ctrl"></slsp-alma-other-units-after>'})).requires.push(e.slspIconLabelOtherUnitsModule.name)},{"./slsp-icon-label-other-units/slsp-icon-label-other-units.module":15}],14:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.$timeout=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspIconLabelOtherUnitsController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){var t=this;try{this.$timeout(function(){t.parentCtrl=t.afterCtrl.parentCtrl;var e=document.querySelectorAll("prm-alma-other-units md-content md-list.md-primoExplore-theme");angular.element(e).prepend(t.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g id="Outline_Icons"><g><path d="M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="39.43" y1="56.62" x2="145.06" y2="56.62" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="29.04" y1="89.74" x2="155.98" y2="89.74" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="37.22" y1="122.86" x2="148.17" y2="122.86" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/></g></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.online"></div></div>')(t.$scope)).addClass("icnLblOtherUnitsE"),t.parentCtrl.isCollapsed=!1},0)}catch(e){console.error("***SLSP*** an error occured:  \n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile","$timeout"]},{}],15:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspIconLabelOtherUnitsModule=void 0;e=e("./slsp-icon-label-other-units.controller"),o.slspIconLabelOtherUnitsModule=angular.module("slspIconLabelOtherUnitsModule",[]).controller("slspIconLabelOtherUnitsController",e.slspIconLabelOtherUnitsController).component("slspIconLabelOtherUnitsComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelOtherUnitsController",template:"\n"})},{"./slsp-icon-label-other-units.controller":14}],16:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmAlmaViewitItemsAfterModule=void 0;var n=e("./slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.module"),r=e("./slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.module"),e=e("./slsp-translate-public-note/slsp-translate-public-note.module"),o=o.prmAlmaViewitItemsAfterModule=angular.module("prmAlmaViewitItemsAfterModule",[]).component("prmAlmaViewitItemsAfter",{bindings:{parentCtrl:"<"},template:'<slsp-icon-label-viewit-items-component after-ctrl="$ctrl"></slsp-icon-label-viewit-items-component>\n                    <slsp-collapse-related-e-resources-component after-ctrl="$ctrl"></slsp-collapse-related-e-resources-component>\n                    <slsp-translate-public-note-component after-ctrl="$ctrl"></slsp-translate-public-note-component>\n                    <slsp-alma-viewit-items-after parent-ctrl="$parent.$ctrl"></slsp-alma-viewit-items-after>'});o.requires.push(n.slspIconLabelViewitItemsModule.name),o.requires.push(r.slspCollapseRelatedEResourcesModule.name),o.requires.push(e.slspTranslatePublicNoteModule.name)},{"./slsp-collapse-related-e-resources/slsp-collapse-related-e-resources.module":18,"./slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.module":20,"./slsp-translate-public-note/slsp-translate-public-note.module":22}],17:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.$timeout=o,this.isCollapsed=!1}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspCollapseRelatedEResourcesController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl?this.afterCtrl.parentCtrl:null}},{key:"$doCheck",value:function(){var n=this;if(!this.isCollapsed)try{this.$timeout(function(){n.afterCtrl&&(n.parentCtrl=n.afterCtrl.parentCtrl),!n.parentCtrl||"ELECTRONIC_RELATED"!==n.parentCtrl.serviceType&&"DIGITAL_RELATED"!==n.parentCtrl.serviceType||(document.querySelectorAll(".ELECTRONIC_RELATED, .DIGITAL_RELATED").forEach(function(e){var t,e=e.closest("prm-alma-viewit-items"),o=e.querySelectorAll("md-list");o.forEach(function(e,t){0===t&&e.classList.add("collapsed")}),e.querySelector(".collapse-related")||((t=document.createElement("button")).classList.add("section-title","md-button","md-primoExplore-theme","md-ink-ripple","collapse-related","collapsed"),t.innerHTML='<div layout="row" layout-align="start center" class="layout-align-start-center layout-row"><h3 class="medium-uppercase-bold" aria-expanded="false"><br><span translate="c.uresolverServicesForRelatedTitles" class="bold-text"></span><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right" class="arrow-icon" style=""><md-icon ng-if="($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())" md-svg-icon="primo-ui:chevron-right" role="presentation" class="md-primoExplore-theme"><svg width="100%" height="100%" viewBox="0 0 24 24" y="384" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"></path></svg></md-icon></prm-icon></h3></div>',t.addEventListener("click",function(){o.forEach(function(e){e.classList.toggle("collapsed")}),t.querySelector(".arrow-icon").classList.toggle("rotate-90")}),(e=e.querySelector('span[translate="c.uresolverServicesForRelatedTitles"]'))&&((e=e.parentNode).parentNode.replaceChild(t,e),n.$timeout(function(){n.$compile(t)(n.$scope)})))}),n.isCollapsed=!0)})}catch(e){console.error(e)}}},{key:"getServiceType",value:function(){return this.parentCtrl&&void 0!==this.parentCtrl.serviceType?this.parentCtrl.serviceType:""}}]),r)).$inject=["$scope","$compile","$timeout"]},{}],18:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspCollapseRelatedEResourcesModule=void 0;e=e("./slsp-collapse-related-e-resources.controller"),o.slspCollapseRelatedEResourcesModule=angular.module("slspCollapseRelatedEResourcesModule",[]).controller("slspCollapseRelatedEResourcesController",e.slspCollapseRelatedEResourcesController).component("slspCollapseRelatedEResourcesComponent",{bindings:{afterCtrl:"<"},controller:"slspCollapseRelatedEResourcesController",template:'<div class="{{$ctrl.getServiceType()}}"></div>\n'})},{"./slsp-collapse-related-e-resources.controller":17}],19:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.$timeout=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspIconLabelViewitItemsController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){var o=this;try{this.$timeout(function(){var e,t;o.parentCtrl=o.afterCtrl.parentCtrl,"ELECTRONIC"==o.parentCtrl.serviceType?(o.iconLabelViewitItems=void 0,t=document.querySelectorAll("#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-viewit > prm-alma-viewit-items:nth-child(1) > md-list"),e=document.querySelectorAll(".icnWrp:nth-child(2)"),angular.element(e).detach(),angular.element(t).prepend(o.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g id="Outline_Icons"><g><path d="M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="39.43" y1="56.62" x2="145.06" y2="56.62" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="29.04" y1="89.74" x2="155.98" y2="89.74" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="37.22" y1="122.86" x2="148.17" y2="122.86" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/></g></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.online"></div></div>')(o.$scope)).addClass("icnLblViewitItems")):"DIGITAL"==o.parentCtrl.serviceType&&(o.iconLabelViewitItemsDigital=void 0,e=document.querySelectorAll("#getit_link1_0>div>prm-full-view-service-container>div.section-body>div>prm-alma-viewit>prm-alma-viewit-items:nth-child(2)>md-list"),t=document.querySelectorAll(".icnWrp:nth-child(2)"),angular.element(t).detach(),angular.element(e).prepend(o.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g id="Outline_Icons"><g><path d="M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><path d="M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="39.43" y1="56.62" x2="145.06" y2="56.62" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="29.04" y1="89.74" x2="155.98" y2="89.74" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/><line x1="37.22" y1="122.86" x2="148.17" y2="122.86" fill="none" stroke="#000" stroke-linejoin="round" stroke-width="6"/></g></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.online"></div></div>')(o.$scope)).addClass("icnLblViewitItemsDigital"))},0)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile","$timeout"]},{}],20:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspIconLabelViewitItemsModule=void 0;e=e("./slsp-icon-label-viewit-items.controller"),o.slspIconLabelViewitItemsModule=angular.module("slspIconLabelViewitItemsModule",[]).controller("slspIconLabelViewitItemsController",e.slspIconLabelViewitItemsController).component("slspIconLabelViewitItemsComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelViewitItemsController",template:"\n"})},{"./slsp-icon-label-viewit-items.controller":19}],21:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.$filter=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspTranslatePublicNoteController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$doCheck",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl;var e=document.querySelectorAll(".note-de"),t=document.querySelectorAll(".note-en"),o=document.querySelectorAll(".note-fr"),n=document.querySelectorAll(".note-it"),r=document.querySelectorAll('p[ng-if="item.authNote"] br, p[ng-if="item.publicNote"] br');angular.element(r).remove();var l="de",i=this.$scope.$root.$$childHead.$ctrl.userSessionManagerService;"de"!==(l=i?i.getInterfaceLanguage():l)&&angular.element(e).remove(),"en"!==l&&angular.element(t).remove(),"fr"!==l&&angular.element(o).remove(),"it"!==l&&angular.element(n).remove()}catch(e){console.error("***SLSP*** Ein Fehler ist aufgetreten: TranslatePublicNoteController \n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile","$filter"]},{}],22:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspTranslatePublicNoteModule=void 0;e=e("./slsp-translate-public-note.controller"),o.slspTranslatePublicNoteModule=angular.module("slspTranslatePublicNoteModule",[]).controller("slspTranslatePublicNoteController",e.slspTranslatePublicNoteController).component("slspTranslatePublicNoteComponent",{bindings:{afterCtrl:"<"},controller:"slspTranslatePublicNoteController"})},{"./slsp-translate-public-note.controller":21}],23:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmCitationAfterModule=void 0;e=e("./slsp-citation-select/slsp-citation-select.module");(o.prmCitationAfterModule=angular.module("prmCitationAfterModule",[]).component("prmCitationAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-citation-select-component after-ctrl="$ctrl"></slsp-citation-select-component>\n            <slsp-citation-after parent-ctrl="$parent.$ctrl"></<slsp-citation-after>'})).requires.push(e.slspCitationSelectModule.name)},{"./slsp-citation-select/slsp-citation-select.module":25}],24:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$timeout=t,this.$compile=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspCitationSelectController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){var t=this;try{this.$timeout(function(){t.parentCtrl=t.afterCtrl.parentCtrl;var e=document.querySelectorAll("prm-citation ul li button");angular.forEach(e,function(e){angular.element(e).append(t.$compile('<div class="md-container slsp-citation-select"><div class="md-off"></div><div class="md-on"></div></div>')(t.$scope)).addClass("slsp-citation-select-radio")})},0)}catch(e){console.error("***SLSP*** an error occured: Rapido hide Library\n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$timeout","$compile"]},{}],25:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspCitationSelectModule=void 0;e=e("./slsp-citation-select.controller"),o.slspCitationSelectModule=angular.module("slspCitationSelectModule",[]).controller("slspCitationSelectController",e.slspCitationSelectController).component("slspCitationSelectComponent",{bindings:{afterCtrl:"<"},controller:"slspCitationSelectController",template:""})},{"./slsp-citation-select.controller":24}],26:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.ethOkmLinkConfig=function(){return{label:{groupName:{de:"Meine Suche schicken an",en:"Send my search to",fr:"Envoyer ma recherche à",it:"Invia la mia ricerca a"}}}}},{}],27:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$location=e,this.ethConfigService=t,this.config=o,this.$element=n}Object.defineProperty(o,"__esModule",{value:!0}),(o.ethOkmLinkController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){var e,t,o,n=this;try{this.parentCtrl=this.afterCtrl.parentCtrl,this.groupName=this.ethConfigService.getLabel(this.config,"groupName"),0===this.prmFacet.facets.filter(function(e){return e.name===n.groupName}).length&&this.prmFacet.facets.push({name:this.groupName,displayedType:"exact",limitCount:0,facetGroupCollapsed:!1,values:[]}),this.parentCtrl.facetGroup.name===this.groupName&&(e=this.$location.search().query,t=(Array.isArray(e)?e:[e]).map(function(e){return e.split(",")[2]||""}).join(" "),window.appConfig.vid.replace(":","-"),this.searchAlternatives=[{label:"Open Knowledge Maps (BASE)",url:"https://openknowledgemaps.org/search?service=base&type=get&sorting=most-relevant&min_descsize=300&q="+encodeURIComponent(t),image:"custom/41SLSP_NETWORK-CENTRAL_PACKAGE/img/logo-okmaps.png"},{label:"Open Knowledge Maps (Pubmed)",url:"https://openknowledgemaps.org/search?service=pubmed&type=get&sorting=most-relevant&min_descsize=300&q="+encodeURIComponent(t),image:"custom/41SLSP_NETWORK-CENTRAL_PACKAGE/img/logo-okmaps.png"}],o=this.$element[0].closest("prm-facet-exact"),angular.element(o).addClass("okm-full"))}catch(e){console.error("***ETH*** an error occured: ethOkmLinkController.onInit()\n\n"),console.error(e.message)}}}]),r)).$inject=["$location","ethConfigService","ethOkmLinkConfig","$element"]},{}],28:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ethOkmLinkModule=void 0;var n=e("./services/eth-config.service"),r=e("./eth-okm-link.config"),e=e("./eth-okm-link.controller");o.ethOkmLinkModule=angular.module("ethOkmLinkModule",[]).factory("ethConfigService",n.ethConfigService).factory("ethOkmLinkConfig",r.ethOkmLinkConfig).controller("ethOkmLinkController",e.ethOkmLinkController).component("ethOkmLinkComponent",{require:{prmFacet:"^^prmFacet"},restrict:"E",bindings:{afterCtrl:"<"},controller:"ethOkmLinkController",template:'<div ng-if="$ctrl.parentCtrl.facetGroup.name == $ctrl.groupName" class="eth-okm">\n    <div ng-hide="$ctrl.parentCtrl.facetGroup.facetGroupCollapsed" aria-hidden="false">\n        <div class="section-content animate-max-height-variable">\n            <div class="md-chips md-chips-wrap okm-wrap">\n                <div ng-repeat="search in $ctrl.searchAlternatives" aria-live="polite" class="md-chip  eth-okm-link">\n                    <div class="md-chip-content layout-row" role="button" tabindex="0">\n                        <strong>\n                            <a ng-href="{{search.url}}" target="_blank" rel="noopener">\n                                <img ng-src="{{search.image}}" alt="">\n                                <span >{{search.label}}</span>\n                                \n                            </a>\n                        </strong>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'})},{"./eth-okm-link.config":26,"./eth-okm-link.controller":27,"./services/eth-config.service":29}],29:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.ethConfigService=["$rootScope",function(t){return{getLanguage:function(){try{var e=t.$$childHead.$ctrl.userSessionManagerService;return e?e.getUserLanguage()||$window.appConfig["primo-view"]["attributes-map"].interfaceLanguage:(console.error("***ETH*** ethConfigService: userSessionManagerService not available"),"en")}catch(e){return console.error("***ETH*** an error occured: ethConfigService.getLanguage():"),console.error(e.message),"en"}},getLabel:function(e,t){try{var o=this.getLanguage();return e.label[t]?e.label[t][o]||e.label[t].en:(console.error("***ETH*** ethConfigService.getLabel: '"+t+"' not in config"),t)}catch(e){return console.error("***ETH*** an error occured: ethConfigService.getLabel():"),console.error(e.message),""}},getUrl:function(e,t){try{var o=this.getLanguage();return e.url[t]?e.url[t][o]||e.url[t].en:(console.error("***ETH*** ethConfigService.getUrl: '"+t+"' not in config"),"")}catch(e){return console.error("***ETH*** an error occured: ethConfigService.getUrl():"),console.error(e.message),""}}}}]},{}],30:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmFacetExactAfterModule=void 0;var n=e("./primo-explore-eth-okm-link/eth-okm-link.module"),e=e("./slsp-odn-link/slsp-odn-link.module"),o=o.prmFacetExactAfterModule=angular.module("prmFacetExactAfterModule",[]).component("prmFacetExactAfter",{bindings:{parentCtrl:"<"},template:'\n        <eth-okm-link-component after-ctrl="$ctrl"></eth-okm-link-component>\n        <slsp-odn-link-component after-ctrl="$ctrl"></slsp-odn-link-component>\n            <slsp-facet-exact-after parent-ctrl="$parent.$ctrl"></<slsp-facet-exact-after>'});o.requires.push(n.ethOkmLinkModule.name),o.requires.push(e.slspOdnLinkModule.name)},{"./primo-explore-eth-okm-link/eth-okm-link.module":28,"./slsp-odn-link/slsp-odn-link.module":32}],31:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspOdnLinkController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$doCheck",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl;var e,t,o=this.parentCtrl.facetGroup.name,n=this.parentCtrl.searchService.searchFieldsService.mainSearch;"Send my search to"!==o&&"Meine Suche schicken an"!==o&&"Envoyer ma recherche à"!==o&&"Invia la mia ricerca a"!==o||(e=angular.element(document.querySelectorAll(".okm-wrap")),document.getElementById("odn-link-component")||(t='<div id="odn-link-component" class="md-chips md-chips-wrap"><div class="md-chip eth-okm-link"><div class="md-chip-content layout-row"><strong><a href="https://opendatanavigator.switch.ch/search?f.%40type=Dataset&q='+n+'" target="_blank" class="odnLink md-primoExplore-theme" style="min-width:100%"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 128 129" fill="none"><g clip-path="url(#clip0_95_350)"><circle cx="64.0001" cy="64.6653" r="61.9518" fill="white" stroke="#D9D9D9" stroke-width="4.09648"/><circle cx="64.0004" cy="64.6654" r="5.18592" fill="#D9D9D9"/><path d="M57.1287 46.3325L47.0392 35.679L105.426 22.863L88.2503 39.1297L57.1287 46.3325Z" fill="#F59900"/><path d="M79.3656 69.8125L89.4551 80.4661L105.425 22.8617L88.2492 39.1284L79.3656 69.8125Z" fill="#00247D"/><path d="M68.9389 79.3262L79.0283 89.9797L20.6411 102.796L37.8172 86.529L68.9389 79.3262Z" fill="#F59900"/><path d="M46.7019 55.8445L36.6124 45.1909L20.6421 102.795L37.8183 86.5286L46.7019 55.8445Z" fill="#00247D"/></g><defs><clipPath id="clip0_95_350"><rect width="128" height="128" fill="white" transform="translate(0 0.665283)"/></clipPath></defs></svg><span >Open Data Navigator (Datasets)</span></a></strong></div></div></div>',e.append(t)))}catch(e){console.error("***SLSP*** an error occurred: open data navigator link \n\n"),console.error(e.message)}}}]),r)).$inject=["$scope"]},{}],32:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspOdnLinkModule=void 0;e=e("./slsp-odn-link.controller"),o.slspOdnLinkModule=angular.module("slspOdnLinkModule",[]).controller("slspOdnLinkController",e.slspOdnLinkController).component("slspOdnLinkComponent",{bindings:{afterCtrl:"<"},controller:"slspOdnLinkController",template:""})},{"./slsp-odn-link.controller":31}],33:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmFavoritesEditLabelsMenuAfterModule=void 0;e=e("./slsp-save-label-button/slsp-save-label-button.module");(o.prmFavoritesEditLabelsMenuAfterModule=angular.module("prmFavoritesEditLabelsMenuAfterModule",[]).component("prmFavoritesEditLabelsMenuAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-save-label-button-component after-ctrl="$ctrl"></slsp-save-label-button-component>\n            <slsp-favorites-edit-labels-menu-after parent-ctrl="$parent.$ctrl"></<slsp-favorites-edit-labels-menu-after>'})).requires.push(e.slspSaveLabelButtonModule.name)},{"./slsp-save-label-button/slsp-save-label-button.module":35}],34:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.$element=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspSaveLabelButtonController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl;document.querySelectorAll('form[ng-submit="$ctrl.addNewLabel()"]').forEach(function(e){angular.element(e).data("buttonAdded")||(angular.element(e).find("md-input-container").after('<button type="submit" class="slsp-save-label-button"><md-icon class="md-primoExplore-theme"><svg width="100%" height="100%" viewBox="0 0 24 24" id="ic_add_24px_cache88" x="24" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg></md-icon></button>'),angular.element(e).data("buttonAdded",!0))})}catch(e){console.error("***SLSP*** an error occured: slsp-save-label-button\n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile","$element"]},{}],35:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspSaveLabelButtonModule=void 0;e=e("./slsp-save-label-button.controller"),o.slspSaveLabelButtonModule=angular.module("slspSaveLabelButtonModule",[]).controller("slspSaveLabelButtonController",e.slspSaveLabelButtonController).component("slspSaveLabelButtonComponent",{bindings:{afterCtrl:"<"},controller:"slspSaveLabelButtonController",template:""})},{"./slsp-save-label-button.controller":34}],36:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmFinesAfterModule=void 0;e=e("./slsp-closed-fines-bar/slsp-closed-fines-bar.module");(o.prmFinesAfterModule=angular.module("prmFinesAfterModule",[]).component("prmFinesAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-closed-fines-bar-component after-ctrl="$ctrl"></slsp-closed-fines-bar-component>\n            <slsp-fines-after parent-ctrl="$parent.$ctrl"></<slsp-fines-after>'})).requires.push(e.slspClosedFinesBarModule.name)},{"./slsp-closed-fines-bar/slsp-closed-fines-bar.module":38}],37:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.showClosedFines=!1}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspClosedFinesBarController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl}catch(e){console.error("***SLSP*** an error occurred: RequestCancelButton \n\n"),console.error(e.message)}}},{key:"$doCheck",value:function(){"closed"===this.parentCtrl.finesTypeDropDownSelection||"all"===this.parentCtrl.finesTypeDropDownSelection?(e=this.parentCtrl.totalNumOfFines,angular.isArray(e)&&0<e.length?this.showClosedFines=!0:this.showClosedFines=!1):this.showClosedFines=!1;var e=this.parentCtrl.totalNumOfFines;angular.isArray(e)&&0<e.length&&angular.forEach(e,function(e){var t,o;"CLOSED"===e.fineType&&(e.firstWordRemoved||(t=e.expandedDisplay[0].data,(o=e.firstLineRight.split(/\s+/)).splice(0,2),o.unshift(t),e.firstLineRight=o.join(" "),e.firstWordRemoved=!0))})}}]),r)).$inject=["$scope"]},{}],38:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspClosedFinesBarModule=void 0;e=e("./slsp-closed-fines-bar.controller"),o.slspClosedFinesBarModule=angular.module("slspClosedFinesBarModule",[]).controller("slspClosedFinesBarController",e.slspClosedFinesBarController).component("slspClosedFinesBarComponent",{bindings:{afterCtrl:"<"},controller:"slspClosedFinesBarController",template:'<div ng-if="$ctrl.showClosedFines" class="bar alert-bar">\n    <span translate="customize.libcard.closedfees"></span>\n    \n</div>'})},{"./slsp-closed-fines-bar.controller":37}],39:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmFullViewAfterModule=void 0;e=e("./slsp-icon-label/slsp-icon-label.module");(o.prmFullViewAfterModule=angular.module("prmFullViewAfterModule",[]).component("prmFullViewAfter",{bindings:{parentCtrl:"<"},template:'<slsp-icon-label-component after-ctrl="$ctrl"></slsp-icon-label-component><slsp-full-view-after parent-ctrl="$parent.$ctrl"></slsp-full-view-after>'})).requires.push(e.slspIconLabelModule.name)},{"./slsp-icon-label/slsp-icon-label.module":41}],40:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.$timeout=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspIconLabelController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){var e=this;try{this.$timeout(function(){e.parentCtrl=e.afterCtrl.parentCtrl},1e3)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile","$timeout"]},{}],41:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspIconLabelModule=void 0;e=e("./slsp-icon-label.controller"),o.slspIconLabelModule=angular.module("slspIconLabelModule",[]).controller("slspIconLabelController",e.slspIconLabelController).component("slspIconLabelComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelController",template:"\n"})},{"./slsp-icon-label.controller":40}],42:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmGalleryCollectionAfterModule=void 0;e=e("./slsp-collection-id/slsp-collection-id.module");(o.prmGalleryCollectionAfterModule=angular.module("prmGalleryCollectionAfterModule",[]).component("prmGalleryCollectionAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-collection-id-component after-ctrl="$ctrl"></slsp-collection-id-component>\n            <slsp-gallery-collection-after parent-ctrl="$parent.$ctrl"></slsp-gallery-collection-after>'})).requires.push(e.slspCollectionIdModule.name)},{"./slsp-collection-id/slsp-collection-id.module":44}],43:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$element=t}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspCollectionIdController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl;var e,t=this.getCollectionId();!t||(e=this.$element[0].closest("prm-gallery-collection"))&&e.setAttribute("collection-id",t)}catch(e){console.error("***SLSP*** an error occured: slspCollectionIdController\n\n"),console.error(e.message)}}},{key:"getCollectionId",value:function(){if(void 0!==this.parentCtrl.collection&&void 0!==this.parentCtrl.collection.pid)return this.parentCtrl.collection.pid.value}}]),r)).$inject=["$scope","$element"]},{}],44:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspCollectionIdModule=void 0;e=e("./slsp-collection-id.controller"),o.slspCollectionIdModule=angular.module("slspCollectionIdModule",[]).controller("slspCollectionIdController",e.slspCollectionIdController).component("slspCollectionIdComponent",{bindings:{afterCtrl:"<"},controller:"slspCollectionIdController",template:"\x3c!-- Collection ID is now set as attribute on parent element --\x3e"})},{"./slsp-collection-id.controller":43}],45:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmGetItRequestAfterModule=void 0;e=e("./slsp-pickup-information/slsp-pickup-information.module");(o.prmGetItRequestAfterModule=angular.module("prmGetItRequestAfterModule",[]).component("prmGetItRequestAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-pickup-information-component after-ctrl="$ctrl"></slsp-pickup-information-component>\n            <slsp-get-it-request-after parent-ctrl="$parent.$ctrl"></<slsp-get-it-request-after>'})).requires.push(e.slspPickupInformationModule.name)},{"./slsp-pickup-information/slsp-pickup-information.module":47}],46:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspPickupInformationController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.getInstitutionName=this.getInstitutionName.bind(this),this.getLibraryName=this.getLibraryName.bind(this),this.getSupplyTime=this.getSupplyTime.bind(this),this.getLoanPeriod=this.getLoanPeriod.bind(this),this.getPatronCost=this.getPatronCost.bind(this),this.getCurrency=this.getCurrency.bind(this),this.getChosenPlaceRadio=this.getChosenPlaceRadio.bind(this)}catch(e){console.error("***SLSP*** an error occured: slsp Pickup Information Controller\n\n"),console.error(e.message)}}},{key:"getInstitutionName",value:function(){if(void 0!==this.parentCtrl.pickupAnywhereService)return this.parentCtrl.pickupAnywhereService.getSelectedPickupInformation().institutionName}},{key:"getLibraryName",value:function(){if(void 0!==this.parentCtrl.pickupAnywhereService)return this.parentCtrl.pickupAnywhereService.getSelectedPickupInformation().libraryName}},{key:"getSupplyTime",value:function(){if(null!==this.parentCtrl.bestoffer)return this.parentCtrl.bestoffer.supplyTime}},{key:"getLoanPeriod",value:function(){if(null!==this.parentCtrl.bestoffer)return this.parentCtrl.bestoffer.loanPeriod}},{key:"getPatronCost",value:function(){if(null!==this.parentCtrl.bestoffer)return this.parentCtrl.bestoffer.patronCost}},{key:"getCurrency",value:function(){if(null!==this.parentCtrl.bestoffer)return this.parentCtrl.bestoffer.currency}},{key:"getChosenPlaceRadio",value:function(){if(void 0!==this.parentCtrl.pickupAnywhereService)return this.parentCtrl.pickupAnywhereService.getSelectedPickupInformation().chosenPlaceRadio}}]),r)).$inject=["$scope"]},{}],47:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspPickupInformationModule=void 0;e=e("./slsp-pickup-information.controller"),o.slspPickupInformationModule=angular.module("slspPickupInformationModule",[]).controller("slspPickupInformationController",e.slspPickupInformationController).component("slspPickupInformationComponent",{bindings:{afterCtrl:"<"},controller:"slspPickupInformationController",template:'<div class="slsp-request-details-box">\n    <h3 class="light-text md-title zero-margin-top" translate="nui.ngrs.physical.getitbtn"></h3>\n    <br>\n\n    <div class="slsp-request-alert physical-only delivery-unknown">\n        <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 122.88 111.24"><defs><style>.cls-1{fill:#fec901;fill-rule:evenodd;}.cls-2{fill:#010101;}</style></defs><title>risk</title><path d="M2.5,85l43-74.41h0a22.59,22.59,0,0,1,8-8.35,15.72,15.72,0,0,1,16,0,22.52,22.52,0,0,1,7.93,8.38l.23.44,42.08,73.07a20.91,20.91,0,0,1,3,10.84A16.44,16.44,0,0,1,121,102.4a15.45,15.45,0,0,1-5.74,6,21,21,0,0,1-11.35,2.78v0H17.7c-.21,0-.43,0-.64,0a19,19,0,0,1-7.83-1.74,15.83,15.83,0,0,1-6.65-5.72A16.26,16.26,0,0,1,0,95.18a21.66,21.66,0,0,1,2.2-9.62c.1-.2.2-.4.31-.59Z"/><path class="cls-1" d="M9.09,88.78l43-74.38c5.22-8.94,13.49-9.2,18.81,0l42.32,73.49c4.12,6.79,2.41,15.9-9.31,15.72H17.7C9.78,103.79,5,97.44,9.09,88.78Z"/><path class="cls-2" d="M57.55,83.15a5.47,5.47,0,0,1,5.85-1.22,5.65,5.65,0,0,1,2,1.3A5.49,5.49,0,0,1,67,86.77a5.12,5.12,0,0,1-.08,1.4,5.22,5.22,0,0,1-.42,1.34,5.51,5.51,0,0,1-5.2,3.25,5.63,5.63,0,0,1-2.26-.53,5.51,5.51,0,0,1-2.81-2.92A6,6,0,0,1,55.9,88a5.28,5.28,0,0,1,0-1.31h0a6,6,0,0,1,.56-2,4.6,4.6,0,0,1,1.14-1.56Zm8.12-10.21c-.19,4.78-8.28,4.78-8.46,0-.82-8.19-2.92-27.63-2.85-35.32.07-2.37,2-3.78,4.55-4.31a11.65,11.65,0,0,1,2.48-.25,12.54,12.54,0,0,1,2.5.25c2.59.56,4.63,2,4.63,4.43V38l-2.84,35Z"/></svg>\n        <span class="request-details-label" translate="rapido.tiles.physical.best_offer.delivery_unknown"></span>\n    </div>\n\n    <div class="slsp-request-alert physical-only no-best-offer">\n        <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 122.88 111.24"><defs><style>.cls-1{fill:#fec901;fill-rule:evenodd;}.cls-2{fill:#010101;}</style></defs><title>risk</title><path d="M2.5,85l43-74.41h0a22.59,22.59,0,0,1,8-8.35,15.72,15.72,0,0,1,16,0,22.52,22.52,0,0,1,7.93,8.38l.23.44,42.08,73.07a20.91,20.91,0,0,1,3,10.84A16.44,16.44,0,0,1,121,102.4a15.45,15.45,0,0,1-5.74,6,21,21,0,0,1-11.35,2.78v0H17.7c-.21,0-.43,0-.64,0a19,19,0,0,1-7.83-1.74,15.83,15.83,0,0,1-6.65-5.72A16.26,16.26,0,0,1,0,95.18a21.66,21.66,0,0,1,2.2-9.62c.1-.2.2-.4.31-.59Z"/><path class="cls-1" d="M9.09,88.78l43-74.38c5.22-8.94,13.49-9.2,18.81,0l42.32,73.49c4.12,6.79,2.41,15.9-9.31,15.72H17.7C9.78,103.79,5,97.44,9.09,88.78Z"/><path class="cls-2" d="M57.55,83.15a5.47,5.47,0,0,1,5.85-1.22,5.65,5.65,0,0,1,2,1.3A5.49,5.49,0,0,1,67,86.77a5.12,5.12,0,0,1-.08,1.4,5.22,5.22,0,0,1-.42,1.34,5.51,5.51,0,0,1-5.2,3.25,5.63,5.63,0,0,1-2.26-.53,5.51,5.51,0,0,1-2.81-2.92A6,6,0,0,1,55.9,88a5.28,5.28,0,0,1,0-1.31h0a6,6,0,0,1,.56-2,4.6,4.6,0,0,1,1.14-1.56Zm8.12-10.21c-.19,4.78-8.28,4.78-8.46,0-.82-8.19-2.92-27.63-2.85-35.32.07-2.37,2-3.78,4.55-4.31a11.65,11.65,0,0,1,2.48-.25,12.54,12.54,0,0,1,2.5.25c2.59.56,4.63,2,4.63,4.43V38l-2.84,35Z"/></svg>\n        <span class="request-details-label" translate="rapido.tiles.physical.no_best_offer.line_3"></span>\n    </div>\n\n    <div class="slsp-request-details physical-only">\n        <span class="request-details-label" translate="nui.ngrs.pickup.information.title"></span>\n        <br>\n\n        \x3c!-- Anzeige von Institution und Bibliothek, wenn chosenPlaceRadio NICHT "homeDelivery" oder "" ist --\x3e\n        <span ng-if="$ctrl.getChosenPlaceRadio() === \'pickupAtLibrary\'">\n            <span>{{ $ctrl.getInstitutionName() }}</span><span> - </span>\n            <span>{{ $ctrl.getLibraryName() }}</span>\n        </span>\n\n        \x3c!-- Anzeigen, wenn chosenPlaceRadio "homeDelivery" ist --\x3e\n        <span class="days" translate="nui.ngrs.request.home_delivery"\n            ng-if="$ctrl.getChosenPlaceRadio() === \'homeDelivery\'"></span>\n\n        \x3c!-- Anzeigen, wenn chosenPlaceRadio "officeDelivery" ist --\x3e\n        <span class="days" translate="nui.ngrs.request.office_delivery"\n            ng-if="$ctrl.getChosenPlaceRadio() === \'officeDelivery\'"></span>\n\n    </div>\n\n    <div class="slsp-request-details physical-only deliverd-in">\n        <span class="request-details-label" translate="nui.ngrs.physical.deliverdin"></span><span\n            class="request-details-label">:</span>\n        <br>\n        <span>{{ $ctrl.getSupplyTime() }}</span>\n        <span class="days" translate="nui.ngrs.search.brief.physical.deliverdin.days"></span>\n    </div>\n\n    <div class="slsp-request-details digital-only">\n        <span class="request-details-label" translate="nui.ngrs.search.brief.digital.getAChapter"></span>\n    </div>\n\n    <div class="slsp-request-details physical-only">\n        <span class="request-details-label" translate="nui.ngrs.form.physical.keepfor"></span>\n        <br>\n        <span>{{ $ctrl.getLoanPeriod() }}</span>\n        <span class="days" translate="nui.ngrs.search.brief.physical.keepfor.days"></span>\n        <span class="reading-Room-Pod" translate="customized.rapido.readingroom">in reading room</span>\n    </div>\n    <div class="slsp-request-details">\n        <span class="request-details-label" translate="rapido.tiles.digital.best_offer.line_4"></span>\n        <br>\n        <span><strong>{{ $ctrl.getPatronCost() }}</strong></span>\n        <span><strong>{{ $ctrl.getCurrency() }}</strong></span>\n    </div>'})},{"./slsp-pickup-information.controller":46}],48:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.itemType=null,this.itemBarcode=null,this.hideTitle=!1,this.$element=e}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspHideRapidoLoanLinkController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.itemBarcode=this.parentCtrl.item.itembarcode,this.itemType=this.parentCtrl.loansService.requestParams.type,(this.itemBarcode.includes("RAPIDO")||this.itemBarcode.includes("41SLSP"))&&(this.setTitle=function(){return this.parentCtrl.item.title},this.hideTitle=!0,this.$element.parent().parent().addClass("hide-title"))}catch(e){console.error("***SLSP*** an error occured: slspHideRapidoLoanLinkController\n\n"),console.error(e.message)}}}]),r)).$inject=["$element"]},{}],49:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspHideRapidoLoanLinkModule=void 0;e=e("./slsp-hide-rapido-loan-link.controller"),o.slspHideRapidoLoanLinkModule=angular.module("slspHideRapidoLoanLinkModule",[]).controller("slspHideRapidoLoanLinkController",e.slspHideRapidoLoanLinkController).component("slspHideRapidoLoanLinkComponent",{bindings:{afterCtrl:"<"},controller:"slspHideRapidoLoanLinkController",template:"<div ng-if=\"$ctrl.itemBarcode.includes('RAPIDO') || $ctrl.itemBarcode.includes('41SLSP')\"\n    class=\"loan-item-title\">{{$ctrl.setTitle()}}</div>\n\n\n"})},{"./slsp-hide-rapido-loan-link.controller":48}],50:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspLoanAfterModule=void 0;var n=e("./slsp-renew-item-text/slsp-renew-item-text.module"),e=e("./slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.module"),o=o.slspLoanAfterModule=angular.module("slspLoanAfterModule",[]).component("prmLoanAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-renew-item-text-component after-ctrl="$ctrl"></slsp-renew-item-text-component>\n            <slsp-hide-rapido-loan-link-component after-ctrl="$ctrl"></slsp-hide-rapido-loan-link-component>\n            <slsp-loan-after parent-ctrl="$parent.$ctrl"></slsp-loan-after>'});o.requires.push(n.slspRenewItemTextModule.name),o.requires.push(e.slspHideRapidoLoanLinkModule.name)},{"./slsp-hide-rapido-loan-link/slsp-hide-rapido-loan-link.module":49,"./slsp-renew-item-text/slsp-renew-item-text.module":52}],51:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r)}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspRenewItemTextController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.getRenewText=function(){if(void 0!==this.parentCtrl.item.renewstatuses&&void 0!==this.parentCtrl.item.renewstatuses.renewstatus[0])return this.parentCtrl.item.renewstatuses.renewstatus[0]}}catch(e){console.error("***SLSP*** an error occured: slspRenewItemTextController\n\n"),console.error(e.message)}}}]),r)).$inject=[]},{}],52:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspRenewItemTextModule=void 0;e=e("./slsp-renew-item-text.controller"),o.slspRenewItemTextModule=angular.module("slspRenewItemTextModule",[]).controller("slspRenewItemTextController",e.slspRenewItemTextController).component("slspRenewItemTextComponent",{bindings:{afterCtrl:"<"},controller:"slspRenewItemTextController",template:'<div layout="row" class="LibInfo" layout-align="start center">\n\n\n    <div class="md-subhead">\n        <span class="md-subhead">{{$ctrl.getRenewText()}}</span>\n\n    </div>'})},{"./slsp-renew-item-text.controller":51}],53:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmLocationHoldingsAfterModule=void 0;var n=e("./slsp-i-button/slsp-i-button.module"),e=e("./slsp-holding-collapse/slsp-holding-collapse.module"),o=o.prmLocationHoldingsAfterModule=angular.module("prmLocationHoldingsAfterModule",[]).component("prmLocationHoldingsAfter",{bindings:{parentCtrl:"<"},template:'\n\t\t\n        <slsp-i-button-component after-ctrl="$ctrl"></slsp-i-button-component>\n        <slsp-holding-collapse-component after-ctrl="$ctrl"></slsp-holding-collapse-component>\n        <slsp-location-holdings-after parent-ctrl="$parent.$ctrl"></slsp-location-holdings-after>\n        \n\t\t'});o.requires.push(n.slspIButtonModule.name),o.requires.push(e.slspHoldingCollapseModule.name)},{"./slsp-holding-collapse/slsp-holding-collapse.module":55,"./slsp-i-button/slsp-i-button.module":57}],54:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$element=t,this.$compile=o,this.$timeout=n,this.labels={holdingExpandLabel:'<md-icon md-svg-icon="hardware:ic_keyboard_arrow_down_24px" class="md-primoExplore-theme" role="img" aria-label="hardware:ic_keyboard_arrow_down_24px"><svg width="100%" height="100%" viewBox="0 0 24 24" id="ic_keyboard_arrow_down_24px_cache189" y="264" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"></path></svg></md-icon><span translate="customized.holdings.expand"></span>',holdingCollapseLabel:'<md-icon class="hsg-fold-icon-collapse md-primoExplore-theme" md-svg-icon="hardware:ic_keyboard_arrow_down_24px" role="img" aria-label="hardware:ic_keyboard_arrow_down_24px"><svg width="100%" height="100%" viewBox="0 0 24 24" id="ic_keyboard_arrow_down_24px_cache231" y="264" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"></path></svg></md-icon><span translate="customized.holdings.collapse"></span>'}}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspHoldingCollapseController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl.parentCtrl;var e=this;this.$scope.$watch(function(){return e.parentCtrl.currLoc},function(e,t){void 0!==e&&void 0!==e.isHoldingExpandedData&&!0===e.isHoldingExpandedData&&(e=document.querySelectorAll("prm-location-holdings"),angular.element(e).addClass("holding-data-expandable"))})}},{key:"$doCheck",value:function(){var t=this;try{var e=document.querySelectorAll('button[ng-if="($ctrl.currLoc.locationNoItems ?  $ctrl.summaryLinesVisible : !$ctrl.summaryLinesVisible) && $ctrl.currLoc.summaryHoldings.baseSummaryShort.length > 0 && $ctrl.currLoc.isHoldingExpandedData"] > span[translate="nui.locations.viewMore"]'),o=document.querySelectorAll('button[ng-if="($ctrl.currLoc.locationNoItems ?  $ctrl.summaryLinesVisible : !$ctrl.summaryLinesVisible) && $ctrl.currLoc.summaryHoldings.baseSummaryShort.length > 0 && $ctrl.currLoc.isHoldingExpandedData"]');e.forEach(function(e){e.__replaced||(angular.element(e).replaceWith(t.$compile(t.labels.holdingExpandLabel)(t.$scope)),e.__replaced=!0),angular.element(o).addClass("holding-expand-button")});var n=document.querySelectorAll('button[ng-if="($ctrl.currLoc.locationNoItems ?  !$ctrl.summaryLinesVisible : $ctrl.summaryLinesVisible) && $ctrl.currLoc.summaryHoldings.baseSummaryShort.length > 0 && $ctrl.currLoc.isHoldingExpandedData"] > span[translate="nui.locations.viewLess"]'),r=document.querySelectorAll('button[ng-if="($ctrl.currLoc.locationNoItems ?  !$ctrl.summaryLinesVisible : $ctrl.summaryLinesVisible) && $ctrl.currLoc.summaryHoldings.baseSummaryShort.length > 0 && $ctrl.currLoc.isHoldingExpandedData"]');n.forEach(function(e){e.__replaced||(angular.element(e).replaceWith(t.$compile(t.labels.holdingCollapseLabel)(t.$scope)),e.__replaced=!0),angular.element(r).addClass("holding-collapse-button")})}catch(e){console.error("***SLSP*** an error occurred: slspHoldingCollapseController\n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$element","$compile","$timeout"]},{}],55:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspHoldingCollapseModule=void 0;e=e("./slsp-holding-collapse.controller"),o.slspHoldingCollapseModule=angular.module("slspHoldingCollapseModule",[]).controller("slspHoldingCollapseController",e.slspHoldingCollapseController).component("slspHoldingCollapseComponent",{bindings:{afterCtrl:"<"},controller:"slspHoldingCollapseController",template:""})},{"./slsp-holding-collapse.controller":54}],56:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$rootScope=t,this.biblinkBase="https://registration.slsp.ch/libraries/?library="}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspIButtonController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl.parentCtrl,this.getLibrary=this.getLibrary.bind(this),this.getLibraryCode=this.getLibraryCode.bind(this),this.getLanguage=this.getLanguage.bind(this)}},{key:"getLibrary",value:function(){if(void 0!==this.parentCtrl.currLoc&&void 0!==this.parentCtrl.currLoc.location)return this.parentCtrl.currLoc.location.librarycodeTranslation}},{key:"getLibraryCode",value:function(){if(void 0!==this.parentCtrl.currLoc&&void 0!==this.parentCtrl.currLoc.location)return this.parentCtrl.currLoc.location.libraryCode}},{key:"getLanguage",value:function(){var e=this.$rootScope.$$childHead.$ctrl.userSessionManagerService;return e?e.getUserLanguage()||$window.appConfig["primo-view"]["attributes-map"].interfaceLanguage:"en"}},{key:"specialInfoBox",value:function(){var e=document.querySelectorAll("prm-location-items");angular.element(e).addClass("special-library-info")}}]),r)).$inject=["$scope","$rootScope"]},{}],57:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspIButtonModule=void 0;e=e("./slsp-i-button.controller"),o.slspIButtonModule=angular.module("slspIButtonModule",[]).controller("slspIButtonController",e.slspIButtonController).component("slspIButtonComponent",{bindings:{afterCtrl:"<"},controller:"slspIButtonController",template:"<div ng-if=\"['E73', 'E76', 'E79', 'tri_isdc', 'USTAR', 'USTAZ', 'A154', 'A164', 'A178', 'A186', 'A188', 'A190', 'A191', 'A196', 'A200', 'A202', 'A204', 'A206', 'A220', 'A222', 'A226', 'A232', 'A235', 'A238', 'A245', 'A251', 'A253', 'A255', 'A256', 'A264', 'A265', 'A266', 'A278', 'A280', 'A298', 'A301', 'A304', 'A316', 'A320', 'A344', 'A348', 'A356', 'A361', 'A363', 'A368', 'A369', 'A373', 'A374', 'A381', 'B440', 'URIET', 'StASO','B429', 'LUSAR', 'UMWI', 'Z16'].includes($ctrl.getLibraryCode())\"\n    layout=\"row\" class=\"spezLibInfo bar alert-bar zero-margin-bottom layout-align-center-center layout-row\"\n    layout-align=\"center center\">\n    <span class=\"md-subhead\"><span class=\"md-subhead-part1\" translate=\"customized.onsite.before\">&nbsp;</span>\n        <a ng-href=\"{{ $ctrl.biblinkBase }}{{ $ctrl.getLibraryCode() }}&lang={{ $ctrl.getLanguage() }}\"\n            target=\"_blank\">{{ $ctrl.getLibrary() }}</a>\n    </span>{{$ctrl.specialInfoBox()}}\n</div>\n\n\n\n<div class=\"i-button neutralized-button arrow-link-button md-button md-primoExplore-theme md-ink-ripple\">\n    <a ng-href=\"{{ $ctrl.biblinkBase }}{{ $ctrl.getLibraryCode() }}&lang={{ $ctrl.getLanguage() }}\"\n        target=\"_blank\"><span>{{ $ctrl.getLibrary() }}</span>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"library-info\"\n        x=\"0px\" y=\"0px\" width=\"22px\" height=\"22px\" viewBox=\"0 0 100 100\" xml:space=\"preserve\">\n            <g>\n                <path\n                    d=\"M50,95C25.187,95,5,74.813,5,50C5,25.187,25.187,5,50,5c24.813,0,45,20.187,45,45C95,74.813,74.813,95,50,95z M50,10.625   c-21.711,0-39.375,17.664-39.375,39.375c0,21.711,17.664,39.375,39.375,39.375c21.712,0,39.375-17.664,39.375-39.375   C89.375,28.289,71.712,10.625,50,10.625z\" />\n            </g>\n            <g>\n                <g>\n                    <path\n                        d=\"M61.516,67.309l2.288,1.063c-4.021,3.073-7.879,5.476-11.577,7.208c-3.698,1.733-6.748,2.599-9.149,2.599    c-1.342,0-2.322-0.255-2.947-0.767c-0.623-0.512-0.937-1.319-0.937-2.424c0-2.73,1.145-7.004,3.432-12.819    c2.288-5.815,3.432-9.933,3.432-12.349c0-0.446-0.127-0.787-0.382-1.024c-0.254-0.236-0.612-0.355-1.074-0.355    c-0.74,0-1.641,0.223-2.704,0.67c-1.063,0.447-2.379,1.156-3.951,2.127l-2.149-1.182c4.297-2.888,8.25-5.146,11.854-6.775    c3.604-1.627,6.422-2.441,8.456-2.441c1.341,0,2.333,0.236,2.98,0.709c0.647,0.472,0.971,1.181,0.971,2.126    c0,0.919-0.739,3.874-2.218,8.862c-0.51,1.681-0.901,3.007-1.179,3.979c-0.971,3.256-1.733,5.961-2.288,8.113    c-0.554,2.153-0.831,3.454-0.831,3.9c0,0.551,0.15,0.959,0.45,1.222c0.301,0.263,0.773,0.394,1.421,0.394    c0.646,0,1.478-0.237,2.495-0.71C58.927,68.963,60.129,68.254,61.516,67.309z\" />\n                </g>\n                <g>\n                    <circle cx=\"56.198\" cy=\"29.933\" r=\"8.004\" />\n                </g>\n            </g>\n        </svg>\n\n\n        <prm-icon link-arrow=\"\" icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"chevron-right\"\n            [display-mode]=\"::$ctrl.displayMode\" id=\"library-info-arrow\"><md-icon\n                ng-if=\"::($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())\"\n                md-svg-icon=\"primo-ui:chevron-right\" role=\"presentation\" class=\"md-primoExplore-theme\">\n                <svg id=\"chevron-right_cache76\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" y=\"384\"\n                    xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\">\n                    <path d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"></path>\n                </svg></md-icon><prm-icon-after parent-ctrl=\"$ctrl\"></prm-icon-after>\n        </prm-icon>\n    </a>\n</div>"})},{"./slsp-i-button.controller":56}],58:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$document=t,this.$element=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.hsgDisplayItemPolicyController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){this.ctrl=this.afterCtrl.parentCtrl,this.setItemPolicyText()}},{key:"setItemPolicyText",value:function(){var e=this.selectItem().itemFields[3];this.selectItem().itemFields[3]=e.replace(/^\d{2} /,""),this.registerWatcher()}},{key:"registerWatcher",value:function(){var o=this;this.$scope.$watch(function(){return o.selectItem().itemFields[3]},function(e,t){e!==t&&o.setItemPolicyText()})}},{key:"selectItem",value:function(){var t=this,e=this.$element[0].nodeName.toLocaleLowerCase(),e=Array.from(this.$document.find(e)).findIndex(function(e){return e==t.$element[0]});return this.ctrl.loc.items[e]}}]),r)).$inject=["$scope","$document","$element"]},{}],59:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.hsgDisplayItemPolicyModule=void 0;e=e("./hsg-display-item-policy.controller"),o.hsgDisplayItemPolicyModule=angular.module("hsgDisplayItemPolicyModule",[]).controller("hsgDisplayItemPolicyController",e.hsgDisplayItemPolicyController).component("hsgDisplayItemPolicyComponent",{bindings:{afterCtrl:"<"},controller:"hsgDisplayItemPolicyController"})},{"./hsg-display-item-policy.controller":58}],60:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.hsgLocationItemAfterModule=void 0;var n=e("./hsg-display-item-policy/hsg-display-item-policy.module"),e=e("./slsp-cug-policy/slsp-cug-policy.module"),o=o.hsgLocationItemAfterModule=angular.module("hsgLocationItemAfterModule",[]).component("prmLocationItemAfter",{bindings:{parentCtrl:"<"},template:'\n\t\t\t<hsg-display-item-policy-component after-ctrl="$ctrl"></hsg-display-item-policy-component>\n\t\t\t<slsp-cug-policy-component after-ctrl="$ctrl"></slsp-cug-policy-component>\n\t\t\t<slsp-ovp-item-reservation-component after-ctrl="$ctrl"></slsp-ovp-item-reservation-component>\n\t\t\t<slsp-location-item-after parent-ctrl="$parent.$ctrl"></<slsp-location-item-after>\n\t\t'});o.requires.push(n.hsgDisplayItemPolicyModule.name),o.requires.push(e.slspCugPolicyModule.name)},{"./hsg-display-item-policy/hsg-display-item-policy.module":59,"./slsp-cug-policy/slsp-cug-policy.module":62}],61:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspCugPolicyController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$doCheck",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl;for(var e=this.parentCtrl.userSessionManagerService.jwtUtilService.getDecodedToken().userGroup,t=0;t<this.parentCtrl.loc.items.length;t++)["GUEST","01","02","03","04","05","06","11","12","13","14","15","16","17","18","91","92","98","99","STAFF"].includes(e)?this.parentCtrl.loc.items[t].itemFields[1]="":""!==this.parentCtrl.loc.items[t].itemFields[1].trim()&&(this.parentCtrl.loc.items[t].itemFields[3]="")}catch(e){console.error("***SLSP*** an error occurred: Rapido hide Library\n\n"),console.error(e.message)}}}]),r)).$inject=["$scope"]},{}],62:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspCugPolicyModule=void 0;e=e("./slsp-cug-policy.controller"),o.slspCugPolicyModule=angular.module("slspCugPolicyModule",[]).controller("slspCugPolicyController",e.slspCugPolicyController).component("slspCugPolicyComponent",{bindings:{afterCtrl:"<"},controller:"slspCugPolicyController"})},{"./slsp-cug-policy.controller":61}],63:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ethLocationItemsAfterModule=void 0;var n=e("./eth-mapongo/eth-mapongo-check.module"),r=e("./eth-mapongo/eth-mapongo.module"),l=e("./slsp-icon-label-location-items/slsp-icon-label-location-items.module"),e=e("./eth-location-items-filter/eth-location-items-filter.module"),o=o.ethLocationItemsAfterModule=angular.module("ethLocationItemsAfterModule",[]).component("prmLocationItemsAfter",{bindings:{parentCtrl:"<"},template:'\n\t\t<eth-mapongo-check after-ctrl="$ctrl"></eth-mapongo-check>\n        <slsp-icon-label-location-items-component after-ctrl="$ctrl"></slsp-icon-label-location-items-component>\n        <eth-location-items-filter-component after-ctrl="$ctrl"></eth-location-items-filter-component>\n        <slsp-location-items-after parent-ctrl="$parent.$ctrl"></slsp-location-items-after>\n        \n\t\t'});o.requires.push(n.ethMapongoCheckModule.name),o.requires.push(r.ethMapongoModule.name),o.requires.push(l.slspIconLabelLocationItemsModule.name),o.requires.push(e.ethLocationItemsFilterModule.name)},{"./eth-location-items-filter/eth-location-items-filter.module":65,"./eth-mapongo/eth-mapongo-check.module":68,"./eth-mapongo/eth-mapongo.module":72,"./slsp-icon-label-location-items/slsp-icon-label-location-items.module":74}],64:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$timeout=e,this.$scope=t,this.$compile=o,this.filterLabel='<span class="filter-label" translate="nui.aria.locationItems.filters"></span>'}Object.defineProperty(o,"__esModule",{value:!0}),(o.ethLocationItemsFilterController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$doCheck",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl;var e=document.querySelectorAll('button[ng-if="($ctrl.isFilter || $ctrl.isFiltered) && $ctrl.isAnyFilterFilled()"] svg');0<e.length?angular.element(e).replaceWith(this.$compile(this.filterLabel)(this.$scope)):this.filterButtonReplaced=!0}catch(e){console.error("***SLSP*** an error occured: ethLocationItemsFilterController\n\n"),console.error(e.message)}}}]),r)).$inject=["$timeout","$scope","$compile"]},{}],65:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ethLocationItemsFilterModule=void 0;e=e("./eth-location-items-filter.controller"),o.ethLocationItemsFilterModule=angular.module("ethLocationItemsFilterModule",[]).controller("ethLocationItemsFilterController",e.ethLocationItemsFilterController).component("ethLocationItemsFilterComponent",{bindings:{afterCtrl:"<"},controller:"ethLocationItemsFilterController"})},{"./eth-location-items-filter.controller":64}],66:[function(e,t,o){arguments[4][29][0].apply(o,arguments)},{dup:29}],67:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.$element=o,this.ethMapongoLibrariesService=n,this.isMapongoLibrary=!0,this.noLocationItemAfter=0}Object.defineProperty(o,"__esModule",{value:!0}),(o.ethMapongoCheckController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl.parentCtrl}},{key:"$doCheck",value:function(){try{var e=this.$element[0].parentElement.parentElement.getElementsByTagName("prm-location-item-after"),t=e.length;if(t<=this.noLocationItemAfter)return;if(this.noLocationItemAfter=t,!this.isMapongoLibrary)return;if(!this.ethMapongoLibrariesService.isMapongoLibrary(this.parentCtrl.loc.location.libraryCode))return void(this.isMapongoLibrary=!1);var o=[].slice.call(e);this.recordid=this.parentCtrl.item.pnx.control.sourcerecordid[0];for(var n=0;n<this.parentCtrl.loc.items.length;n++){if(n>=o.length)return;var r,l,i=this.parentCtrl.loc.items[n],s=o[n];s.querySelector("eth-mapongo")||this.ethMapongoLibrariesService.isMapongoSubLocation(this.parentCtrl.loc.location.libraryCode,i._additionalData.secondarylocationname)&&this.ethMapongoLibrariesService.isAvailable(i._additionalData.itemstatusname)&&(this.subLocationCode=this.ethMapongoLibrariesService.getSubLocationCode(this.parentCtrl.loc.location.libraryCode,i._additionalData.secondarylocationname),this.callnumber=i._additionalData.callnumber,r=i.fullItemFields.filter(function(e){return-1<e.indexOf("Zusätzliche Signatur:")||-1<e.indexOf("Additional call number:")}),this.addCallnumber="",0<r.length&&(this.addCallnumber=r[0].replace("Zusätzliche Signatur: ","").replace("Additional call number: ","")),""!=this.addCallnumber&&(this.callnumber=this.addCallnumber),l=i.fullItemFields.filter(function(e){return-1<e.indexOf("Barcode:")||-1<e.indexOf("Strichcode:")}),this.barcode="",0<l.length&&(this.barcode=l[0].replace("Barcode: ","").replace("Strichcode: ","")),angular.element(s).append(this.$compile('<eth-mapongo after-ctrl="$ctrl" class="eth-mapongo-container" recordid="'+this.recordid+'" barcode="'+this.barcode+'" callnumber="'+this.callnumber+'" sublocation="'+this.subLocationCode+'"parent-ctrl="$ctrl.parentCtrl"></eth-mapongo>')(this.$scope)))}}catch(e){console.error("***ETH*** ethMapongoCheckController.$doCheck:"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile","$element","ethMapongoLibrariesService"]},{}],68:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ethMapongoCheckModule=void 0;var n=e("./eth-mapongo-libraries.service"),e=e("./eth-mapongo-check.controller");o.ethMapongoCheckModule=angular.module("ethMapongoCheckModule",[]).factory("ethMapongoLibrariesService",n.ethMapongoLibrariesService).controller("ethMapongoCheckController",e.ethMapongoCheckController).component("ethMapongoCheck",{bindings:{afterCtrl:"<"},controller:"ethMapongoCheckController"})},{"./eth-mapongo-check.controller":67,"./eth-mapongo-libraries.service":69}],69:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.ethMapongoLibrariesService=[function(){var n=[{shortname:"ZHdK-MIZ",name:"ZHdK-MIZ",libraryCode:"E65",baseUrl:"https://zhdk.mapongo.de",locationCodeWhiteList:["E65G1","E65G2","E65E1","E65U1","E65U4"],locationWhiteList:["Galeriegeschoss","Galeriegeschoss","Eingangsgeschoss","Untergeschoss","Untergeschoss Curating Degree Zero Archive"]},{shortname:"ZHAW-HSB-ZH",name:"ZHAW Hochschulbibliothek Zürich",libraryCode:"E97",baseUrl:"https://zhdk.mapongo.de",locationCodeWhiteList:["E97E1"],locationWhiteList:["Eingangsgeschoss"]},{shortname:"ZHAW-HSB-WIN",name:"ZHAW Hochschulbibliothek Winterthur",libraryCode:"E51",baseUrl:"https://zhaw.mapongo.de",locationCodeWhiteList:["E51BA","E51B0","E51B9","E51B2","E51B8","E51BN","E51BL","E51BG","E51BT","E51BB","E51BW","E51BA","E51BK","E51BR"],locationWhiteList:["Architektur und Bau - 1. ZG","Neuerwerbungen - EG","Handapparate - EG","Compactus, offen - EG","Zeitschriften - EG","Allgemeines und Nachschlagewerke - EG","Angewandte Linguistik - EG","Gesundheit und Medizin - EG","Technik und Naturwissenschaften - 1. ZG","Wissenschaft und Bildung - EG","Wirtschaft und Management - 1. ZG","Architektur und Bau - 1. ZG","Kunst und Unterhaltung - EG","Recht und Politik - 2. ZG"]},{shortname:"PHZH",name:"PH Zürich, Bibliothek",libraryCode:"UPHZH",baseUrl:"https://phzh.mapongo.de",locationCodeWhiteList:["ULFHF","ULFHG","ULFHN","ULFHS"],locationWhiteList:["Stockwerk F - frei zugänglich","Stockwerk G - frei zugänglich","Stockwerk H Nord - frei zugänglich","Stockwerk H Süd - frei zugänglich"]},{shortname:"HGK-MED",name:"FHNW HGK-Mediathek Basel",libraryCode:"E75",baseUrl:"https://mediathek.hgk.fhnw.ch/nebis",locationCodeWhiteList:["HAP","E75BI","E75AC","E75MA","E75VS"],locationWhiteList:["Handapparat","Mediathek","Archiv","Magazin","Verschiedene Standorte"]},{shortname:"FHNW-CMU",name:"FHNW Campus Muttenz Bibliothek",libraryCode:"E44",baseUrl:"https://fhnw-cmu.mapongo.de",locationCodeWhiteList:["E44TE","E44BI","E44MG","E44VS"],locationWhiteList:["Ausleihe nur intern an Angehörige PH FHNW für Lehre und Forschung","Bibliothek","Magazin: Nicht frei zugänglich, zur Abholung bestellen","Verschiedene Standorte"]},{shortname:"FHNW-PH-S",name:"FHNW Bibliothek Solothurn",libraryCode:"E39",baseUrl:"https://fhnw-solothurn.mapongo.de",locationCodeWhiteList:["E39BJ","E39BI","E39BB","E39KA","E39LS","E39LE","E39TK","E39ZS"],locationWhiteList:["Belletristik Kinder/Jugend","Bibliothek","Bilderbücher","Kamishibai","Benutzung nur vor Ort","Lernspiele","Themenkisten","Zeitschriften"]},{shortname:"UBH",name:"Basel - UB Hauptbibliothek",libraryCode:"A100",baseUrl:"https://ub.unibas.mapongo.de",locationCodeWhiteList:["100FH","100FHZ","LS"],locationWhiteList:["Freihand","Freihand Zeitschriften","Lesesaal (Nutzung an Ort)"]}],e=["Exemplar ist vorhanden","Item in place","Exemplaire en rayon","Copia in posizione"];return{isMapongoLibrary:function(t){return 0<n.filter(function(e){return e.libraryCode===t}).length},isMapongoSubLocation:function(t,o){return 0<n.filter(function(e){return e.libraryCode===t&&-1<e.locationWhiteList.indexOf(o)}).length},getBaseUrl:function(e){var t;return(e=(t=e,0<(e=n.filter(function(e){return e.libraryCode===t})).length?e[0]:null))?e.baseUrl:""},getSubLocationCode:function(t,e){var o=n.filter(function(e){return e.libraryCode===t});return 0===o.length?null:(e=o[0].locationWhiteList.indexOf(e),o[0].locationCodeWhiteList[e])},isAvailable:function(t){return 0<e.filter(function(e){return e===t}).length}}}]},{}],70:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.ethMapongoConfig=function(){return{label:{qrc:{de:"Karte auf Smartphone laden",en:"Load map on your smartphone",fr:"Charger la carte sur votre smartphone"}}}}},{}],71:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.ethMapongoLibrariesService=e,this.ethConfigService=t,this.config=o,this.lang=this.ethConfigService.getLanguage()}Object.defineProperty(o,"__esModule",{value:!0}),(o.ethMapongoController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl.parentCtrl}},{key:"getMapongoImageSrc",value:function(){var e="";try{if(!this.parentCtrl.loc||!this.parentCtrl.loc.location)return void console.error("***ETH*** ethMapongoController.getMapongoImageSrc: loc or loc.location not available");var t=this.parentCtrl.loc.location,e=this.ethMapongoLibrariesService.getBaseUrl(t.libraryCode)+"/static_images/projects/1/search_thumbnail.jpg?project_id=1&search_key="+encodeURIComponent(this.callnumber);"E51"!==t.libraryCode&&"UPHZH"!==t.libraryCode||(e+="&search_context2="+encodeURIComponent(this.sublocation)),"E65"===t.libraryCode&&(e+="&e="+encodeURIComponent(this.recordid))}catch(e){console.error("***ETH*** EthMapongoController.getMapongoImageSrc:"),console.error(e.message)}return e}},{key:"getMapongoUrl",value:function(){var e="";try{var t=this.parentCtrl.loc.location,e=this.ethMapongoLibrariesService.getBaseUrl(t.libraryCode)+"/viewer?project_id=1&search_key="+encodeURIComponent(this.callnumber)+"&language="+this.lang+"&e="+encodeURIComponent(this.recordid);"E51"!==t.libraryCode&&"UPHZH"!==t.libraryCode||(e+="&search_context2="+encodeURIComponent(this.sublocation)),""!=this.barcode&&(e+="&bcd="+this.barcode)}catch(e){console.error("***ETH*** EthMapongoController.getMapongoUrl:"),console.error(e.message)}return e}},{key:"getMapongoQRC",value:function(){var e="";try{var t=this.parentCtrl.loc.location,e=this.ethMapongoLibrariesService.getBaseUrl(t.libraryCode)+"/static_images/projects/1/search_qrcode.png?project_id=1&search_key="+encodeURIComponent(this.callnumber)+"&language="+this.lang+"&e="+encodeURIComponent(this.recordid);"E51"!==t.libraryCode&&"UPHZH"!==t.libraryCode||(e+="&search_context2="+encodeURIComponent(this.sublocation)),""!=this.barcode&&(e+="&bcd="+this.barcode)}catch(e){console.error("***ETH*** EthMapongoController.getMapongoQRC:"),console.error(e.message)}return e}}]),r)).$inject=["ethMapongoLibrariesService","ethConfigService","ethMapongoConfig"]},{}],72:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ethMapongoModule=void 0;var n=e("./eth-config.service"),r=e("./eth-mapongo.config"),l=e("./eth-mapongo-libraries.service"),e=e("./eth-mapongo.controller");o.ethMapongoModule=angular.module("ethMapongoModule",[]).factory("ethConfigService",n.ethConfigService).factory("ethMapongoConfig",r.ethMapongoConfig).factory("ethMapongoLibrariesService",l.ethMapongoLibrariesService).controller("ethMapongoController",e.ethMapongoController).component("ethMapongo",{bindings:{afterCtrl:"<",recordid:"@",callnumber:"@",barcode:"@",sublocation:"@"},controller:"ethMapongoController",template:'<div class="eth-mapongo" layout="row" layout-sm="column" layout-xs="column">\n    <div class="eth-mapongo-qrc">\n        <img alt="QR Code" src="{{$ctrl.getMapongoQRC()}}"/>\n        <div>{{::$ctrl.ethConfigService.getLabel($ctrl.config, \'qrc\')}}</div>\n    </div>\n    <div class="eth-mapongo-link">\n        <a target="_blank" href="{{$ctrl.getMapongoUrl()}}">\n            <img alt="Mapongo" src="{{$ctrl.getMapongoImageSrc()}}"/>\n        </a>\n    </div>\n</div>\n'})},{"./eth-config.service":66,"./eth-mapongo-libraries.service":69,"./eth-mapongo.config":70,"./eth-mapongo.controller":71}],73:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.$timeout=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspIconLabelLocationItemsController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){var o=this;try{this.$timeout(function(){var e,t;o.parentCtrl=o.afterCtrl.parentCtrl,"getit_link1_0"===o.parentCtrl.serviceScrollId&&(o.iconLabelLocationItems=void 0,e=document.querySelectorAll("#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column"),angular.element(e).prepend(o.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.physical"></div></div>')(o.$scope)).addClass("icnLblLocationItems")),"getit_link1_1"===o.parentCtrl.serviceScrollId&&(o.iconLabelLocationItems3=void 0,t=document.querySelectorAll("#getit_link1_1 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column"),angular.element(t).prepend(o.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.physical"></div></div>')(o.$scope)).addClass("icnLblLocationItems3")),"alma_other_members"===o.parentCtrl.serviceScrollId&&(o.iconLabelLocationItems2=void 0,t=document.querySelectorAll("prm-alma-other-members md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column"),angular.element(t).prepend(o.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.physical"></div></div>')(o.$scope)).addClass("icnLblLocationItems2"))},0)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile","$timeout"]},{}],74:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspIconLabelLocationItemsModule=void 0;e=e("./slsp-icon-label-location-items.controller"),o.slspIconLabelLocationItemsModule=angular.module("slspIconLabelLocationItemsModule",[]).controller("slspIconLabelLocationItemsController",e.slspIconLabelLocationItemsController).component("slspIconLabelLocationItemsComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelLocationItemsController",template:"\n"})},{"./slsp-icon-label-location-items.controller":73}],75:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ethLocationsAfterModule=void 0;var n=e("./eth-locations-filter/eth-locations-filter.module"),r=e("./slsp-icon-label-locations/slsp-icon-label-locations.module"),e=e("./slsp-collapse-related/slsp-collapse-related.module"),o=o.ethLocationsAfterModule=angular.module("ethLocationsAfterModule",[]).component("prmLocationsAfter",{bindings:{parentCtrl:"<"},template:'<eth-locations-filter-component after-ctrl="$ctrl"></eth-locations-filter-component><slsp-icon-label-locations-component after-ctrl="$ctrl"></slsp-icon-label-locations-component><slsp-collapse-related-component after-ctrl="$ctrl"></slsp-collapse-related-component><slsp-locations-after parent-ctrl="$parent.$ctrl"></slsp-locations-after>'});o.requires.push(n.ethLocationsFilterModule.name),o.requires.push(r.slspIconLabelLocationsModule.name),o.requires.push(e.slspCollapseRelatedModule.name)},{"./eth-locations-filter/eth-locations-filter.module":77,"./slsp-collapse-related/slsp-collapse-related.module":79,"./slsp-icon-label-locations/slsp-icon-label-locations.module":81}],76:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$timeout=e,this.$scope=t,this.$compile=o,this.filterLabel='<span class="filter-label" translate="nui.aria.locationItems.filters"></span>'}Object.defineProperty(o,"__esModule",{value:!0}),(o.ethLocationsFilterController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$doCheck",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl;var e=document.querySelectorAll('button[ng-if="$ctrl.displayFiltersButton && !$ctrl.locationsPrefilterActive"] svg');0<e.length?angular.element(e).replaceWith(this.$compile(this.filterLabel)(this.$scope)):this.filterButtonReplaced=!0}catch(e){console.error("***ETH*** an error occurred: ethLocationsFilterController\n\n"),console.error(e.message)}}}]),r)).$inject=["$timeout","$scope","$compile"]},{}],77:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ethLocationsFilterModule=void 0;e=e("./eth-locations-filter.controller"),o.ethLocationsFilterModule=angular.module("ethLocationsFilterModule",[]).controller("ethLocationsFilterController",e.ethLocationsFilterController).component("ethLocationsFilterComponent",{bindings:{afterCtrl:"<"},controller:"ethLocationsFilterController"})},{"./eth-locations-filter.controller":76}],78:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$timeout=e,this.$scope=t}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspCollapseRelatedController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,angular.isArray(this.parentCtrl.locations)&&0<this.parentCtrl.locations.length&&(this.parentCtrl.relatedLocationsListLimit=0)}catch(e){console.error("***SLSP*** an error occured: slspCollapseRelatedController\n\n"),console.error(e.message)}}}]),r)).$inject=["$timeout","$scope"]},{}],79:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspCollapseRelatedModule=void 0;e=e("./slsp-collapse-related.controller"),o.slspCollapseRelatedModule=angular.module("slspCollapseRelatedModule",[]).controller("slspCollapseRelatedController",e.slspCollapseRelatedController).component("slspCollapseRelatedComponent",{bindings:{afterCtrl:"<"},controller:"slspCollapseRelatedController",template:"\n"})},{"./slsp-collapse-related.controller":78}],80:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.$timeout=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspIconLabelLocationsController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){var o=this;try{this.$timeout(function(){var e,t;o.parentCtrl=o.afterCtrl.parentCtrl,"getit_link1_0"===o.parentCtrl.serviceScrollId&&(o.iconLabelLocations=void 0,e=document.querySelectorAll('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if="!$ctrl.enableLibraryLevelList"] > md-list:nth-child(1)'),angular.element(e).prepend(o.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.physical"></div></div>')(o.$scope)).addClass("icnLblLocations")),"getit_link1_1"===o.parentCtrl.serviceScrollId&&(o.iconLabelLocations3=void 0,t=document.querySelectorAll('#getit_link1_1 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if="!$ctrl.enableLibraryLevelList"] > md-list:nth-child(1)'),angular.element(t).prepend(o.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.physical"></div></div>')(o.$scope)).addClass("icnLblLocations3")),"alma_other_members"===o.parentCtrl.serviceScrollId&&(o.iconLabelLocations2=void 0,t=document.querySelectorAll('prm-alma-other-members prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if="!$ctrl.enableLibraryLevelList"] > md-list:nth-child(1)'),angular.element(t).prepend(o.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.physical"></div></div>')(o.$scope)).addClass("icnLblLocations2"))},0)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile","$timeout"]},{}],81:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspIconLabelLocationsModule=void 0;e=e("./slsp-icon-label-locations.controller"),o.slspIconLabelLocationsModule=angular.module("slspIconLabelLocationsModule",[]).controller("slspIconLabelLocationsController",e.slspIconLabelLocationsController).component("slspIconLabelLocationsComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelLocationsController",template:"\n"})},{"./slsp-icon-label-locations.controller":80}],82:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmLoginAfterModule=void 0;e=e("./slsp-login-box/slsp-login-box.module");(o.prmLoginAfterModule=angular.module("prmLoginAfterModule",[]).component("prmLoginAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-login-box-component after-ctrl="$ctrl"></slsp-login-box-component>\n            <slsp-login-after parent-ctrl="$parent.$ctrl"></<slsp-login-after>'})).requires.push(e.slspLoginBoxModule.name)},{"./slsp-login-box/slsp-login-box.module":84}],83:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,o,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this.$scope=e,this.$compile=t,this.$timeout=o,this.$rootScope=n,this.$window=r}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspLoginBoxController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(l,[{key:"$onInit",value:function(){var t=this;try{this.$timeout(function(){t.parentCtrl=t.afterCtrl.parentCtrl;var e=angular.element(document.querySelectorAll("prm-login div > md-content > md-list > md-list-item:nth-child(1)"));angular.element(e).addClass("authMethSaml");e=angular.element(document.querySelectorAll("prm-login .loginbox-register"));angular.element(e).append(t.$compile('<a ng-href="https://registration.slsp.ch/help/?lang={{ $ctrl.getLanguage() }}" target="_blank" class="parallelLoginDescription"><span translate="parallel.login.link3"></span><svg width="100%" height="100%" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></svg></a>')(t.$scope));e=angular.element(document.querySelectorAll("prm-login div > md-content > md-list > md-list-item:nth-child(2)"));angular.element(e).addClass("authMethAlma")},0)}catch(e){console.error("***SLSP*** an error occured: Rapido hide Library\n\n"),console.error(e.message)}}},{key:"getLanguage",value:function(){var e=this.$rootScope.$$childHead.$ctrl.userSessionManagerService;return e?e.getUserLanguage()||$window.appConfig["primo-view"]["attributes-map"].interfaceLanguage:"en"}}]),l)).$inject=["$scope","$compile","$timeout","$rootScope","$window"]},{}],84:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspLoginBoxModule=void 0;e=e("./slsp-login-box.controller"),o.slspLoginBoxModule=angular.module("slspLoginBoxModule",[]).controller("slspLoginBoxController",e.slspLoginBoxController).component("slspLoginBoxComponent",{bindings:{afterCtrl:"<"},controller:"slspLoginBoxController",template:'<div class="loginbox-register">\n    <a ng-href="https://registration.slsp.ch/?lang={{ $ctrl.getLanguage() }}" class="register-link">\n        <span translate="nui.fulldisplay.otherLocations.register"></span>\n        <svg width="100%" height="100%" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fit=""\n            preserveAspectRatio="xMidYMid meet" focusable="false">\n            <path\n                d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z">\n            </path>\n        </svg>\n\n    </a>\n</div>\n'})},{"./slsp-login-box.controller":83}],85:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmOfferDetailsTileAfterModule=void 0;e=e("./slsp-multivolume-request/slsp-multivolume-request.module");(o.prmOfferDetailsTileAfterModule=angular.module("prmOfferDetailsTileAfterModule",[]).component("prmOfferDetailsTileAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-multivolume-request-component after-ctrl="$ctrl"></slsp-multivolume-request-component>\n            <slsp-offer-details-tile-after parent-ctrl="$parent.$ctrl"></<slsp-offer-details-tile-after>'})).requires.push(e.slspMultivolumeRequestModule.name)},{"./slsp-multivolume-request/slsp-multivolume-request.module":87}],86:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.previousUnavailableVolume=null}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspMultivolumeRequestController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl.parentCtrl,this.domManipulated=!1}},{key:"$doCheck",value:function(){try{var e,t,o=this.parentCtrl.isNoOfferAfterRefine(),n=this.parentCtrl.isUnavailableResource();this.domManipulated||(e=angular.element(document.querySelector("prm-get-it-request .form_item[ng-if=\"::$ctrl.isCodeEnabledforForm('VOLUME')\"]")),t=angular.element(document.querySelector('span[ng-if="::$ctrl._tempRapidoLocateSerialMultivolumeOffers"]')),e.append(t),this.domManipulated=!0),o!==this.previousUnavailableVolume&&(!0===o?this.disableRequestButton():this.enableRequestButton(),this.previousUnavailableVolume=o),this.updatePhysicalGetItRequestClass(n,o)}catch(e){console.error("***SLSP*** an error occurred: Multivolume Request\n\n"),console.error(e.message)}}},{key:"disableRequestButton",value:function(){var e=angular.element(document.querySelector("button.button-with-icon.button-confirm.md-button.md-primoExplore-theme.md-ink-ripple"));e&&e.attr("disabled","disabled")}},{key:"enableRequestButton",value:function(){var e=angular.element(document.querySelector("button.button-with-icon.button-confirm.md-button.md-primoExplore-theme.md-ink-ripple"));e&&e.removeAttr("disabled")}},{key:"updatePhysicalGetItRequestClass",value:function(e,t){var o=angular.element(document.querySelector("#physicalGetItRequest"));o&&(e?o.addClass("is-unavailbl-resource"):o.removeClass("is-unavailbl-resource"),t?o.addClass("no-best-offer"):o.removeClass("no-best-offer"))}}]),r)).$inject=["$scope"]},{}],87:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspMultivolumeRequestModule=void 0;e=e("./slsp-multivolume-request.controller"),o.slspMultivolumeRequestModule=angular.module("slspMultivolumeRequestModule",[]).controller("slspMultivolumeRequestController",e.slspMultivolumeRequestController).component("slspMultivolumeRequestComponent",{bindings:{afterCtrl:"<"},controller:"slspMultivolumeRequestController"})},{"./slsp-multivolume-request.controller":86}],88:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmOpacAfterModule=void 0;e=e("./slsp-ovp-reservation/slsp-ovp-reservation.module");(o.prmOpacAfterModule=angular.module("prmOpacAfterModule",[]).component("prmOpacAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-ovp-reservation-component after-ctrl="$ctrl"></slsp-ovp-reservation-component>\n            <slsp-opac-after parent-ctrl="$parent.$ctrl"></<slsp-opac-after>'})).requires.push(e.slspOvpReservationModule.name)},{"./slsp-ovp-reservation/slsp-ovp-reservation.module":90}],89:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$element=t,this.$compile=o,this.reservationLabel='<span translate="customized.rapido.reservation"></span>'}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspOvpReservationController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.processDoCheck=!0}catch(e){console.error("***ETH*** Ein Fehler ist aufgetreten: slspOvpReservationController \n\n"),console.error(e.message)}}},{key:"$doCheck",value:function(){try{var e,t=this.parentCtrl.item.delivery.bestlocation.availabilityStatus,o=this.$element[0].closest("prm-opac").querySelector('prm-service-button button span[data-qa="AlmaRequest"], prm-service-button button span[data-qa="AlmaRequestOther"]');this.processDoCheck||"available"===t||"check_holdings"===t||o&&!o.innerHTML.includes("customized.rapido.reservation")&&(e=this.$compile(this.reservationLabel)(this.$scope),angular.element(o).replaceWith(e)),this.processDoCheck=!1}catch(e){console.error("***SLSP*** Ein Fehler ist aufgetreten: slspOvpReservationController \n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$element","$compile"]},{}],90:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspOvpReservationModule=void 0;e=e("./slsp-ovp-reservation.controller"),o.slspOvpReservationModule=angular.module("slspOvpReservationModule",[]).controller("slspOvpReservationController",e.slspOvpReservationController).component("slspOvpReservationComponent",{bindings:{afterCtrl:"<"},controller:"slspOvpReservationController",template:""})},{"./slsp-ovp-reservation.controller":89}],91:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$element=t,this.$rootScope=o,this.$window=n}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspEditPersonalDetailsController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$doCheck",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.detailsBaseEdu="https://eduid.ch/account/profile",this.detailsBaseReg="https://registration.slsp.ch/library-card",this.exclude=["STAFF","11","12","13","14","15","16","17","18","91","92","99"],this.grpA=["11","91","92"],this.grpB=["12","13","14","15","16","17","18"],this.getPatronGrp=function(){if(void 0===this.parentCtrl.personalInfoService.personalInfo)return!1;var e=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;return!this.exclude.includes(e)},this.grpLabelA=function(){if(void 0===this.parentCtrl.personalInfoService.personalInfo)return!1;var e=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;return!!this.grpA.includes(e)},this.grpLabelB=function(){if(void 0===this.parentCtrl.personalInfoService.personalInfo)return!1;var e=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;return!!this.grpB.includes(e)},this.buttonMove=function(){var e=angular.element(document.querySelector("md-card > md-card-content > prm-personal-settings > prm-personal-settings-after")),t=angular.element(document.querySelector("#SLSPeditPersonalDetails"));e.append(t)}}catch(e){console.error("***SLSP*** an error occured: EditPersonalDetailsController\n\n"),console.error(e.message)}}},{key:"getLanguage",value:function(){var e=this.$rootScope.$$childHead.$ctrl.userSessionManagerService;return e?e.getUserLanguage()||this.$window.appConfig["primo-view"]["attributes-map"].interfaceLanguage:"en"}}]),r)).$inject=["$scope","$element","$rootScope","$window"]},{}],92:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspEditPersonalDetailsModule=void 0;e=e("./slsp-edit-personal-details.controller"),o.slspEditPersonalDetailsModule=angular.module("slspEditPersonalDetailsModule",[]).controller("slspEditPersonalDetailsController",e.slspEditPersonalDetailsController).component("slspEditPersonalDetailsComponent",{bindings:{afterCtrl:"<"},controller:"slspEditPersonalDetailsController",template:'<span>{{ $ctrl.buttonMove() }}</span>\n<md-card ng-if="$ctrl.grpLabelA()" translate="customized.libraries.details" flex="100" class="bar alert-bar courier-info">\n</md-card>\n\n<md-card ng-if="$ctrl.grpLabelB()" translate="customized.slsp.details" flex="100" class="bar alert-bar courier-info">\n</md-card>\n\n<div ng-if="$ctrl.getPatronGrp()" layout="column">\n    <div layout="column">\n        <div translate="customized.personal.details"></div>\n        <md-button href="{{ $ctrl.detailsBaseEdu }}?lang={{ $ctrl.getLanguage() }}" target="_blank" layout="row" class="courier-info bar alert-bar" layout-align="center center">\n            <prm-icon class="rotate-20 margin-right-small" icon-type="svg" svg-icon-set="primo-ui" icon-definition="pencil">\n            </prm-icon>\n        </md-button>\n    </div>\n</div>\n\n<br />\n<div ng-if="$ctrl.getPatronGrp()" layout="column">\n    <div translate="customized.libcard.number"></div>\n    <md-button href="{{ $ctrl.detailsBaseReg }}?lang={{ $ctrl.getLanguage() }}" target="_blank" layout="row" class="courier-info bar alert-bar" layout-align="center center">\n        <prm-icon class="rotate-20 margin-right-small" icon-type="svg" svg-icon-set="primo-ui" icon-definition="account-card-details">\n        </prm-icon>\n    </md-button>\n</div>\n</div>\n</div>'})},{"./slsp-edit-personal-details.controller":91}],93:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspPersonalInfoAfterModule=void 0;e=e("./slsp-edit-personal-details/slsp-edit-personal-details.module");(o.slspPersonalInfoAfterModule=angular.module("slspPersonalInfoAfterModule",[]).component("prmPersonalInfoAfter",{bindings:{parentCtrl:"<"},template:'<slsp-edit-personal-details-component after-ctrl="$ctrl" id="SLSPeditPersonalDetails"></slsp-edit-personal-details-component><slsp-personal-info-after parent-ctrl="$parent.$ctrl"></slsp-personal-info-after>'})).requires.push(e.slspEditPersonalDetailsModule.name)},{"./slsp-edit-personal-details/slsp-edit-personal-details.module":92}],94:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$element=e[0],this.form=this.$element.parentElement.parentElement,this.display=!1}Object.defineProperty(o,"__esModule",{value:!0}),(o.bcuFeesLinkController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$doCheck",value:function(){var e,t=!1;void 0!==this.form.children[0].children[1]&&void 0!==this.form.children[0].children[1].children[0]?t=this.form.children[0].children[1].children[0]:void 0!==this.form.children[0].children[0]&&void 0!==this.form.children[0].children[0].children[0]&&(t=this.form.children[0].children[0].children[0]),t&&2<=t.children.length&&"AlmaPurchaseRequest"!==this.afterCtrl.parentCtrl.serviceType?this.display||(this.display=!0,(e=document.createElement("DIV")).className="courier-info bar alert-bar",e.innerHTML='<div class="digitization-form"><h4>'+this.afterCtrl.parentCtrl.$translate.instant("customize.fullview.feesTitle")+"</h4>\n                    <p>"+this.afterCtrl.parentCtrl.$translate.instant("customize.fullview.feesInfo")+'</p>\n                    <p><a href="'+this.afterCtrl.parentCtrl.$translate.instant("customize.fullview.feesUrl")+'"\n                    target="_blank">'+this.afterCtrl.parentCtrl.$translate.instant("customize.fullview.feesLinkText")+'</a></p></div>\n                    <div class="ill-form"><div>'+this.afterCtrl.parentCtrl.$translate.instant("customize.fees.ill1")+"</div>\n                    <div>"+this.afterCtrl.parentCtrl.$translate.instant("customize.fees.ill2")+"</div></div>",t.insertBefore(e,t.children[t.children.length-1])):this.display&&(this.display=!1,(t=this.form.querySelector(".courier-info.bar.alert-bar"))&&t.remove())}}]),r)).$inject=["$element"]},{}],95:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.bcuFeesLinkModule=void 0;e=e("./bcu-fees-link.controller"),o.bcuFeesLinkModule=angular.module("bcuFeesLinkModule",[]).controller("bcuFeesLinkController",e.bcuFeesLinkController).component("bcuFeesLinkComponent",{bindings:{afterCtrl:"<"},controller:"bcuFeesLinkController"})},{"./bcu-fees-link.controller":94}],96:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.$timeout=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspAlmaRequestController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$doCheck",value:function(){try{var e,t;this.parentCtrl=this.afterCtrl.parentCtrl,"AlmaRequest"==this.parentCtrl.serviceType||"AlmaItemRequest"==this.parentCtrl.serviceType||"AlmaRequestAnyItem"==this.parentCtrl.serviceType||"AlmaRequestOther"==this.parentCtrl.serviceType?(this.requestLoan=void 0,e=document.querySelectorAll('prm-opac form[name="requestForm"]'),angular.element(e).addClass("almaRequestLoan")):"AlmaDigitization"!=this.parentCtrl.serviceType&&"AlmaDigitizationOther"!=this.parentCtrl.serviceType&&"AlmaGeneralDigitization"!=this.parentCtrl.serviceType&&"AlmaItemDigitization"!=this.parentCtrl.serviceType&&"AlmaResourceSharing"!=this.parentCtrl.serviceType||(this.requestDigi=void 0,t=document.querySelectorAll('prm-opac form[name="requestForm"]'),angular.element(t).removeClass("almaRequestLoan"))}catch(e){console.error("***SLSP*** an error occured: slspAlmaRequestController \n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile","$timeout"]},{}],97:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspAlmaRequestModule=void 0;e=e("./slsp-alma-request.controller"),o.slspAlmaRequestModule=angular.module("slspAlmaRequestModule",[]).controller("slspAlmaRequestController",e.slspAlmaRequestController).component("slspAlmaRequestComponent",{bindings:{afterCtrl:"<"},controller:"slspAlmaRequestController"})},{"./slsp-alma-request.controller":96}],98:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspRequestAfterModule=void 0;var n=e("./bcu-fees-link/bcu-fees-link.module"),e=e("./slsp-alma-request/slsp-alma-request.module"),o=o.slspRequestAfterModule=angular.module("slspRequestAfterModule",[]).component("prmRequestAfter",{bindings:{parentCtrl:"<"},template:'<bcu-fees-link-component after-ctrl="$ctrl"></bcu-fees-link-component>\n            <slsp-alma-request-component after-ctrl="$ctrl"></slsp-alma-request-component>\n            <slsp-request-after parent-ctrl="$parent.$ctrl"></slsp-request-after>'});o.requires.push(n.bcuFeesLinkModule.name),o.requires.push(e.slspAlmaRequestModule.name)},{"./bcu-fees-link/bcu-fees-link.module":95,"./slsp-alma-request/slsp-alma-request.module":97}],99:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspRequestCancelButtonController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.$scope.$watch("this.$ctrl.parentCtrl.requestsDisplay",function(e){angular.isArray(e)&&0<e.length&&angular.forEach(e,function(e){"ill"===e.requestType&&("DELIVERED"===e.statusCode||"LOST_COMMUNICATED"===e.statusCode||"RECALLED_BOR"===e.statusCode||"RECEIVED_DIGITALLY"===e.statusCode||"RECEIVED_NOT_FOR_LOAN"===e.statusCode||"RECEIVED_PHYSICALLY"===e.statusCode||"RENEWED"===e.statusCode||"RENEW_NOT_ACCEPTED"===e.statusCode||"RENEW_REQUESTED"===e.statusCode||"REQUEST_COMPLETED"===e.statusCode||"SHIPPED_DIGITALLY"===e.statusCode||"SHIPPED_PHYSICALLY"===e.statusCode?e.isCancelable=!1:e.isCancelable=!0)})})}catch(e){console.error("***SLSP*** an error occured: RequestCancelButton \n\n"),console.error(e.message)}}}]),r)).$inject=["$scope"]},{}],100:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspRequestCancelButtonModule=void 0;e=e("./slsp-request-cancel-button.controller"),o.slspRequestCancelButtonModule=angular.module("slspRequestCancelButtonModule",[]).controller("slspRequestCancelButtonController",e.slspRequestCancelButtonController).component("slspRequestCancelButtonComponent",{bindings:{afterCtrl:"<"},controller:"slspRequestCancelButtonController"})},{"./slsp-request-cancel-button.controller":99}],101:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspRequestsAfterModule=void 0;e=e("./slsp-request-cancel-button/slsp-request-cancel-button.module");(o.slspRequestsAfterModule=angular.module("slspRequestsAfterModule",[]).component("prmRequestsAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-request-cancel-button-component after-ctrl="$ctrl"></slsp-request-cancel-button-component>\n            <slsp-requests-after parent-ctrl="$parent.$ctrl"></slsp-requests-after>\n            '})).requires.push(e.slspRequestCancelButtonModule.name)},{"./slsp-request-cancel-button/slsp-request-cancel-button.module":100}],102:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.bcuSearchBarAfterModule=void 0;var n=e("./bcu-search-slots/bcu-search-slots.module"),e=e("./slsp-ra-beta-icon/slsp-ra-beta-icon.module"),o=o.bcuSearchBarAfterModule=angular.module("bcuSearchBarAfterModule",[]).component("prmSearchBarAfter",{bindings:{parentCtrl:"<"},template:'<bcu-search-slots-component after-ctrl="$ctrl"></bcu-search-slots-component>\n                       <slsp-ra-beta-icon-component after-ctrl="$ctrl"></slsp-ra-beta-icon-component>\n                       <slsp-search-bar-after parent-ctrl="$parent.$ctrl"></slsp-search-bar-after>'});o.requires.push(n.bcuSearchSlotsModule.name),o.requires.push(e.slspRaBetaIconModule.name)},{"./bcu-search-slots/bcu-search-slots.module":104,"./slsp-ra-beta-icon/slsp-ra-beta-icon.module":106}],103:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(o,"__esModule",{value:!0});o.bcuSearchSlotsController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl.parentCtrl,this.parentCtrl.showTabsAndScopes=!0;var e=this.parentCtrl.jwtUtilService.getInstitutionCode();return angular.element(document.querySelector("primo-explore")).addClass(e)}}]),r);function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r)}},{}],104:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.bcuSearchSlotsModule=void 0;e=e("./bcu-search-slots.controller"),o.bcuSearchSlotsModule=angular.module("bcuSearchSlotsModule",[]).controller("bcuSearchSlotsController",e.bcuSearchSlotsController).component("bcuSearchSlotsComponent",{bindings:{afterCtrl:"<"},controller:"bcuSearchSlotsController"})},{"./bcu-search-slots.controller":103}],105:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.filterLabel='<div class="raBetaLogo">BETA</div>',this.aiLogoAppended=!1}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspRaBetaIconController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$doCheck",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl;var e,t=document.querySelectorAll('div[ng-if="::$ctrl.isResearchAssistantByIcon"] .md-button.button-link');0<t.length&&((e=t[0]).querySelector(".raBetaLogo")||angular.element(e).append(this.$compile(this.filterLabel)(this.$scope)),this.aiLogoAppended=!0)}catch(e){console.error("***SLSP*** an error occured: slspRaBetaIconController\n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile"]},{}],106:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspRaBetaIconModule=void 0;e=e("./slsp-ra-beta-icon.controller"),o.slspRaBetaIconModule=angular.module("slspRaBetaIconModule",[]).controller("slspRaBetaIconController",e.slspRaBetaIconController).component("slspRaBetaIconComponent",{bindings:{afterCtrl:"<"},controller:"slspRaBetaIconController"})},{"./slsp-ra-beta-icon.controller":105}],107:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmSearchResultListAfterModule=void 0;e=e("./slsp-top-pagination-switch/slsp-top-pagination-switch.module");(o.prmSearchResultListAfterModule=angular.module("prmSearchResultListAfterModule",[]).component("prmSearchResultListAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-top-pagination-switch-component after-ctrl="$ctrl"></slsp-top-pagination-switch-component>\n            <slsp-search-result-list-after parent-ctrl="$parent.$ctrl"></<slsp-search-result-list-after>'})).requires.push(e.slspTopPaginationSwitchModule.name)},{"./slsp-top-pagination-switch/slsp-top-pagination-switch.module":109}],108:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspTopPaginationSwitchController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.parentCtrl.enableTopPagination=!0}catch(e){console.error("***SLSP*** an error occured: slsp-top-pagination-switch hide Library\n\n"),console.error(e.message)}}}]),r)).$inject=["$scope"]},{}],109:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspTopPaginationSwitchModule=void 0;e=e("./slsp-top-pagination-switch.controller"),o.slspTopPaginationSwitchModule=angular.module("slspTopPaginationSwitchModule",[]).controller("slspTopPaginationSwitchController",e.slspTopPaginationSwitchController).component("slspTopPaginationSwitchComponent",{bindings:{afterCtrl:"<"},controller:"slspTopPaginationSwitchController"})},{"./slsp-top-pagination-switch.controller":108}],110:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmSearchResultToolBarAfterModule=void 0;e=e("./slsp-top-pagination-switch/slsp-top-pagination-switch.module");(o.prmSearchResultToolBarAfterModule=angular.module("prmSearchResultToolBarAfterModule",[]).component("prmSearchResultToolBarAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-top-pagination-switch-component after-ctrl="$ctrl"></slsp-top-pagination-switch-component>\n            <slsp-search-result-tool-bar-after parent-ctrl="$parent.$ctrl"></<slsp-search-result-tool-bar-after>'})).requires.push(e.slspTopPaginationSwitchModule.name)},{"./slsp-top-pagination-switch/slsp-top-pagination-switch.module":112}],111:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspTopPaginationSwitchController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.parentCtrl.enableTopPagination=!1}catch(e){console.error("***SLSP*** an error occured: slsp-top-pagination-switch hide Library\n\n"),console.error(e.message)}}}]),r)).$inject=["$scope"]},{}],112:[function(e,t,o){arguments[4][109][0].apply(o,arguments)},{"./slsp-top-pagination-switch.controller":111,dup:109}],113:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmSendEmailAfterModule=void 0;e=e("./slsp-send-email-info/slsp-send-email-info.module");(o.prmSendEmailAfterModule=angular.module("prmSendEmailAfterModule",[]).component("prmSendEmailAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-send-email-info-component after-ctrl="$ctrl"></slsp-send-email-info-component>\n            <slsp-send-email-after parent-ctrl="$parent.$ctrl"></<slsp-send-email-after>'})).requires.push(e.slspSendEmailInfoModule.name)},{"./slsp-send-email-info/slsp-send-email-info.module":115}],114:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.sendEmailInfoLabel='<div class="send-email-info-box"><span translate="customized.email.infobox"></span></div>'}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspSendEmailInfoController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl;var e,t=angular.element(document.querySelectorAll('form[name="emailForm"]'));t&&!t.html().includes("customized.email.infobox")&&(e=this.$compile(this.sendEmailInfoLabel)(this.$scope),t.prepend(e)),console.log(this.parentCtrl),console.log(this.parentCtrl.jwtUtilService.getDecodedToken()),console.log(this.parentCtrl.jwtUtilService.decodeJWT())}catch(e){console.error("***SLSP*** an error occured: slspSendEmailInfoController\n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile"]},{}],115:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspSendEmailInfoModule=void 0;e=e("./slsp-send-email-info.controller"),o.slspSendEmailInfoModule=angular.module("slspSendEmailInfoModule",[]).controller("slspSendEmailInfoController",e.slspSendEmailInfoController).component("slspSendEmailInfoComponent",{bindings:{afterCtrl:"<"},controller:"slspSendEmailInfoController",template:""})},{"./slsp-send-email-info.controller":114}],116:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmServiceButtonAfterModule=void 0;var n=e("./slsp-digitization-button-label/slsp-digitization-button-label.module"),e=e("./slsp-reservation-button/slsp-reservation-button.module"),o=o.prmServiceButtonAfterModule=angular.module("prmServiceButtonAfterModule",[]).component("prmServiceButtonAfter",{bindings:{parentCtrl:"<"},template:'<slsp-digitization-button-label-component after-ctrl="$ctrl"></slsp-digitization-button-label-component>\n                     <slsp-reservation-button-component after-ctrl="$ctrl"></slsp-reservation-button-component>\n        <slsp-service-button-after parent-ctrl="$parent.$ctrl"></slsp-service-button-after>'});o.requires.push(n.slspDigitizationButtonLabelModule.name),o.requires.push(e.slspReservationButtonModule.name)},{"./slsp-digitization-button-label/slsp-digitization-button-label.module":118,"./slsp-reservation-button/slsp-reservation-button.module":120}],117:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.$timeout=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspDigitizationButtonLabelController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){var o=this;try{this.$timeout(function(){var e,t;o.parentCtrl=o.afterCtrl.parentCtrl,void 0!==o.parentCtrl.service.type&&"AlmaDigitization"===o.parentCtrl.service.type&&(o.digiButtonLabel=void 0,e=document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate="AlmaDigitization"]'),angular.element(e).after('<div class="DigiButtonLabel1">CHF</div>').addClass("digiButton")),void 0!==o.parentCtrl.service.type&&"AlmaGeneralDigitization"===o.parentCtrl.service.type&&(o.digiButtonLabel=void 0,t=document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate="AlmaGeneralDigitization"]'),angular.element(t).after('<div class="DigiButtonLabel1">CHF</div>').addClass("digiButton")),void 0!==o.parentCtrl.service.type&&"AlmaItemDigitization"===o.parentCtrl.service.type&&(o.digiItemButtonLabel=void 0,t=document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate="AlmaItemDigitization"]'),angular.element(t).append('<div class="DigiButtonLabel">CHF</div>').addClass("digiButton"))},20)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile","$timeout"]},{}],118:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspDigitizationButtonLabelModule=void 0;e=e("./slsp-digitization-button-label.controller"),o.slspDigitizationButtonLabelModule=angular.module("slspDigitizationButtonLabelModule",[]).controller("slspDigitizationButtonLabelController",e.slspDigitizationButtonLabelController).component("slspDigitizationButtonLabelComponent",{bindings:{afterCtrl:"<"},controller:"slspDigitizationButtonLabelController",template:"\n"})},{"./slsp-digitization-button-label.controller":117}],119:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,o,n,r,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.$scope=e,this.$compile=t,this.$timeout=o,this.$rootScope=n,this.$window=r,this.$element=l,this.itemReservationLabel='<span translate="customized.rapido.reservation"></span>'}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspReservationButtonController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(i,[{key:"$onInit",value:function(){var r=this;try{this.$timeout(function(){r.parentCtrl=r.afterCtrl.parentCtrl;var e=r.getLanguage(),t=r.parentCtrl.service.type,o=r.parentCtrl.requestParameters.itemstatusname,n=r.$element[0].closest("md-list-item");n&&(n=n.querySelector('prm-service-button button span[data-qa="AlmaItemRequest"]'),"AlmaItemRequest"===t&&("de"===e&&"Exemplar ist vorhanden"!==o||"fr"===e&&"Exemplaire en rayon"!==o||"it"===e&&"Copia a scaffale"!==o||"en"===e&&"Item in place"!==o)&&(o=r.$compile(r.itemReservationLabel)(r.$scope),angular.element(n).replaceWith(o)))},0)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}},{key:"getLanguage",value:function(){var e=this.$rootScope.$$childHead.$ctrl.userSessionManagerService;return e?e.getUserLanguage()||$window.appConfig["primo-view"]["attributes-map"].interfaceLanguage:"en"}}]),i)).$inject=["$scope","$compile","$timeout","$rootScope","$window","$element"]},{}],120:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspReservationButtonModule=void 0;e=e("./slsp-reservation-button.controller"),o.slspReservationButtonModule=angular.module("slspReservationButtonModule",[]).controller("slspReservationButtonController",e.slspReservationButtonController).component("slspReservationButtonComponent",{bindings:{afterCtrl:"<"},controller:"slspReservationButtonController",template:"\n"})},{"./slsp-reservation-button.controller":119}],121:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmServiceDetailsAfterModule=void 0;e=e("./slsp-collapse-details/slsp-collapse-details.module");(o.prmServiceDetailsAfterModule=angular.module("prmServiceDetailsAfterModule",[]).component("prmServiceDetailsAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-collapse-details-component after-ctrl="$ctrl"></slsp-collapse-details-component>\n            <slsp-service-details-after parent-ctrl="$parent.$ctrl"></<slsp-service-details-after>'})).requires.push(e.slspCollapseDetailsModule.name)},{"./slsp-collapse-details/slsp-collapse-details.module":125}],122:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.hsgTranslatorService=["$rootScope","$log",function(t,r){return this.defaultLang="de",this.getLang=function(){var e=t.$$childHead.$ctrl.userSessionManagerService;return e?e.getUserLanguage()||$window.appConfig["primo-view"]["attributes-map"].interfaceLanguage:(r.error("UserSessionManagerService not available"),this.defaultLang)},this.getLabel=function(e,t){if(!t)return r.error("no config object present",e),e;var o=t.labels;if(!o)throw new Error("Config contains no labels");var n=o[e];if(!n)return r.error("label not found: ",e),e;t=this.getLang(),o=n[t];return o||(r.error("no translation for label",e,t),o=n[this.defaultLang]),o||(r.error("no translation for label",e,this.defaultLang),e)},{getLang:this.getLang,getLabel:this.getLabel}}]},{}],123:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.slspCollapseDetailsConfig={ignore:[],charCount:400,itemCount:5,icons:{expand:'<md-icon md-svg-icon="hardware:ic_keyboard_arrow_down_24px" class="md-primoExplore-theme"><svg width="100%" height="100%" viewBox="0 0 24 24" id="ic_keyboard_arrow_down_24px_cache154" y="264" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"></path></svg></md-icon>',collapse:'<md-icon class="hsg-fold-icon-collapse" md-svg-icon="hardware:ic_keyboard_arrow_down_24px" class="md-primoExplore-theme"><svg width="100%" height="100%" viewBox="0 0 24 24" id="ic_keyboard_arrow_down_24px_cache154" y="264" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"></path></svg></md-icon>'}}},{}],124:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,o,n,r,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.$scope=e,this.$element=t,this.$sce=o,this.$compile=n,this.config=r,this.translator=l,this.waiting=!0,this.iconExpand=this.config.icons.expand,this.iconCollapse=this.config.icons.collapse,this.labels={expandButtonLabel:'<span translate="fulldisplay.details.showAll"> </span>',collapseButtonLabel:'<span translate="fulldisplay.details.showLess"></span>'}}(o.slspCollapseDetailsController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(i,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl.parentCtrl,this.parentCtrl.NUMBER_OF_DETAILS_TO_SHOW=1e3,this.rootEl=this.$element.parent().parent().query("div").children();var o=this,n=this.$scope.$watch(function(){return o.rootEl.query("div")},function(e,t){o.waiting&&e!==t&&(o.waiting=!1,o.makeFoldable(),n())})}},{key:"makeFoldable",value:function(){var e,t=this.parentCtrl._details;for(e in t){var o,n,r,l=t[e];"object"==(void 0===l?"undefined":p(l))&&(this.config.ignore.includes(l.label)||(n=(o=l.values[0].values)[0].length,l=(r=this.config.itemCount)+3,n>this.config.charCount?this.addMarkup(this.getItemContainer(e),1,!0):o.length>r&&o.length>=l&&this.addMarkup(this.getItemContainer(e),this.config.itemCount,!1)))}}},{key:"getItemContainer",value:function(e){return this.rootEl.children()[e].querySelector(".item-details-element-container")}},{key:"addMarkup",value:function(e,t,o){var n=this;e.classList.add("hsg-collapsed");var r,l=e.querySelector(".item-details-element"),i=l.querySelectorAll("[role=listitem]");for(r in i){var s=i[r];"object"==(void 0===s?"undefined":p(s))&&(o&&r<t&&s.classList.add("hsg-foldable-item-longtext"),t<=r&&s.classList.add("hsg-foldable-item"))}var a=document.createElement("div");a.classList.add("hsg-expand-button"),a.innerHTML=this.iconExpand+this.labels.expandButtonLabel,this.$compile(a)(this.$scope),l.insertBefore(a,l.children[t]);var c=document.createElement("div");c.classList.add("hsg-collapse-button"),c.style.display="none",l.appendChild(c),a.addEventListener("click",function(){a.style.display="none",c.style.display="inline-block",e.classList.remove("hsg-collapsed"),e.classList.add("hsg-expanded"),c.innerHTML=n.iconCollapse+n.labels.collapseButtonLabel,n.$compile(c)(n.$scope)}),c.addEventListener("click",function(){e.classList.add("hsg-collapsed"),e.classList.remove("hsg-expanded"),a.style.display="inline-block",c.style.display="none"})}},{key:"translate",value:function(e){if(!this.config)return console.log("config missing"),e;e=this.translator.getLabel(e,this.config);return this.$sce.trustAsHtml(e)}}]),i)).$inject=["$scope","$element","$sce","$compile","slspCollapseDetailsConfig","hsgTranslatorService"]},{}],125:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspCollapseDetailsModule=void 0;var n=e("./hsg-translator.service"),r=e("./slsp-collapse-details.controller"),e=e("./slsp-collapse-details.config");o.slspCollapseDetailsModule=angular.module("slspCollapseDetailsModule",[]).constant("slspCollapseDetailsConfig",e.slspCollapseDetailsConfig).factory("hsgTranslatorService",n.hsgTranslatorService).controller("slspCollapseDetailsController",r.slspCollapseDetailsController).component("slspCollapseDetailsComponent",{bindings:{afterCtrl:"<"},controller:"slspCollapseDetailsController"})},{"./hsg-translator.service":122,"./slsp-collapse-details.config":123,"./slsp-collapse-details.controller":124}],126:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e}Object.defineProperty(o,"__esModule",{value:!0}),(o.bcuRapidoNoFurtherOptionsController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$doCheck",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl;var e=this.parentCtrl.almaRSServiceAvailable,t=this.parentCtrl.isSignedIn(),o=document.getElementById("rapidoOffer"),n=document.querySelector('button span[translate="brief.results.tabs.Get_it_from_other_locations"]');"false"==e&&"true"==t?(angular.element(o).addClass("slsp-hide-rapido"),angular.element(n.parentElement).addClass("slsp-hide-rapido")):(angular.element(o).hasClass("slsp-hide-rapido")&&angular.element(o).removeClass("slsp-hide-rapido"),angular.element(n.parentElement).hasClass("slsp-hide-rapido")&&angular.element(n.parentElement).removeClass("slsp-hide-rapido"))}catch(e){console.error("***SLSP*** an error occured: Rapido no Further Options\n\n"),console.error(e.message)}}}]),r)).$inject=["$scope"]},{}],127:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.bcuRapidoNoFurtherOptionsModule=void 0;e=e("./bcu-rapido-no-further-options.controller"),o.bcuRapidoNoFurtherOptionsModule=angular.module("bcuRapidoNoFurtherOptionsModule",[]).controller("bcuRapidoNoFurtherOptionsController",e.bcuRapidoNoFurtherOptionsController).component("bcuRapidoNoFurtherOptions",{bindings:{afterCtrl:"<"},controller:"bcuRapidoNoFurtherOptionsController"})},{"./bcu-rapido-no-further-options.controller":126}],128:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmServiceNgrsAfterModule=void 0;var n=e("./slsp-rapido-fees-link/slsp-rapido-fees-link.module"),e=e("./bcu-rapido-no-further-options/bcu-rapido-no-further-options.module"),o=o.prmServiceNgrsAfterModule=angular.module("prmServiceNgrsAfterModule",[]).component("prmServiceNgrsAfter",{bindings:{parentCtrl:"<"},template:'<slsp-rapido-fees-link-component after-ctrl="$ctrl"></slsp-rapido-fees-link-component>          \n            <bcu-rapido-no-further-options after-ctrl="$ctrl"></bcu-rapido-no-further-options>\n            <slsp-service-ngrs-after parent-ctrl="$parent.$ctrl"></<slsp-service-ngrs-after>'});o.requires.push(n.slspRapidoFeesLinkModule.name),o.requires.push(e.bcuRapidoNoFurtherOptionsModule.name)},{"./bcu-rapido-no-further-options/bcu-rapido-no-further-options.module":127,"./slsp-rapido-fees-link/slsp-rapido-fees-link.module":130}],129:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspRapidoFeesLinkController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.rapidoFeesLink=void 0;var e=document.querySelector("#rapidoOffer div.full-view-section-content prm-full-view-service-container div.section-head h4"),t='<div class="rapidoFeesLink neutralized-button arrow-link-button md-button md-primoExplore-theme md-ink-ripple"><a href="'+this.afterCtrl.parentCtrl.$translate.instant("customize.fullview.feesUrl")+'" target="_blank"><span translate="customized.rapido.fees">see fees details via link</span><prm-icon link-arrow="" icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right" [display-mode]="::$ctrl.displayMode">\x3c!----\x3e<md-icon ng-if="::($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())" md-svg-icon="primo-ui:chevron-right" role="presentation" class="md-primoExplore-theme"><svg id="chevron-right_cache76" width="100%" height="100%" viewBox="0 0 24 24" y="384" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false">\n                <path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"></path>\n            </svg></md-icon>\x3c!----\x3e\x3c!----\x3e<prm-icon-after parent-ctrl="$ctrl"></prm-icon-after></prm-icon></a></div>';angular.element(e).after(this.$compile(t)(this.$scope))}catch(e){console.error("***SLSP*** an error occured: Rapido Fees Link\n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile"]},{}],130:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspRapidoFeesLinkModule=void 0;e=e("./slsp-rapido-fees-link.controller"),o.slspRapidoFeesLinkModule=angular.module("slspRapidoFeesLinkModule",[]).controller("slspRapidoFeesLinkController",e.slspRapidoFeesLinkController).component("slspRapidoFeesLinkComponent",{bindings:{afterCtrl:"<"},controller:"slspRapidoFeesLinkController",template:""})},{"./slsp-rapido-fees-link.controller":129}],131:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$timeout=e}Object.defineProperty(o,"__esModule",{value:!0}),(o.ethDisableRequestButtonController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.observeDomChanges()}catch(e){console.error("***slsp*** an error occurred: ethDisableRequestButtonController $onInit \n\n"),console.error(e.message)}}},{key:"observeDomChanges",value:function(){var i=this,s=document.querySelector("prm-service-physical-best-offer");s?new MutationObserver(function(e){var t=!0,o=!1,n=void 0;try{for(var r,l=e[Symbol.iterator]();!(t=(r=l.next()).done);t=!0)"childList"===r.value.type&&i.checkAndDisableButton(s)}catch(e){o=!0,n=e}finally{try{!t&&l.return&&l.return()}finally{if(o)throw n}}}).observe(s,{childList:!0,subtree:!0}):console.error("***slsp*** Target element not found for DOM observation")}},{key:"checkAndDisableButton",value:function(e){try{var t;!e.querySelector('[translate="rapido.tiles.physical.no_best_offer.line_2"]')||(t=e.querySelector("#get_it_btn_physical"))&&angular.element(t).attr("disabled","disabled")}catch(e){console.error("***slsp*** an error occurred in checkAndDisableButton\n\n"),console.error(e.message)}}}]),r)).$inject=["$timeout"]},{}],132:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ethDisableRequestButtonModule=void 0;e=e("./eth-disable-request-button.controller"),o.ethDisableRequestButtonModule=angular.module("ethDisableRequestButtonModule",[]).controller("ethDisableRequestButtonController",e.ethDisableRequestButtonController).component("ethDisableRequestButtonComponent",{bindings:{afterCtrl:"<"},controller:"ethDisableRequestButtonController"})},{"./eth-disable-request-button.controller":131}],133:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmServicePhysicalBestOfferAfterModule=void 0;var n=e("./slsp-rapido-digital-offer/slsp-rapido-digital-offer.module"),r=e("./slsp-icon-label-rapido/slsp-icon-label-rapido.module"),e=e("./eth-disable-request-button/eth-disable-request-button.module"),o=o.prmServicePhysicalBestOfferAfterModule=angular.module("prmServicePhysicalBestOfferAfterModule",[]).component("prmServicePhysicalBestOfferAfter",{bindings:{parentCtrl:"<"},template:'<slsp-rapido-digital-offer-component after-ctrl="$ctrl"></slsp-rapido-digital-offer-component>\n            <slsp-icon-label-rapido-component after-ctrl="$ctrl"></slsp-icon-label-rapido-component>\n            <eth-disable-request-button-component after-ctrl="$ctrl"></eth-disable-request-button-component>\n            <slsp-service-physical-best-offer-after parent-ctrl="$parent.$ctrl"></slsp-service-physical-best-offer-after>'});o.requires.push(n.slspRapidoDigitalOfferModule.name),o.requires.push(r.slspIconLabelRapidoModule.name),o.requires.push(e.ethDisableRequestButtonModule.name)},{"./eth-disable-request-button/eth-disable-request-button.module":132,"./slsp-icon-label-rapido/slsp-icon-label-rapido.module":135,"./slsp-rapido-digital-offer/slsp-rapido-digital-offer.module":137}],134:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.$timeout=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspIconLabelRapidoController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){var o=this;try{this.$timeout(function(){var e,t;o.parentCtrl=o.afterCtrl.parentCtrl,!0===o.parentCtrl.isdigitaloffer&&(o.iconLabel=void 0,t=document.querySelectorAll('#item-ngrs > div > div > div[ng-if="$ctrl.digitalTileVisible"] > prm-service-physical-best-offer > div > div.icon-wrapper'),(e=document.querySelector('#item-ngrs > div > div > div[ng-if="$ctrl.digitalTileVisible"] > prm-service-physical-best-offer > div > div.icon-wrapper .icnWrp'))&&e.remove(),angular.element(t).after(o.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><g><circle cx="130" cy="130" r="10.57" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><path d="M145.26,152.31c-4.34,2.98-9.6,4.69-15.26,4.69-14.91,0-27-12.09-27-27s12.09-27,27-27,27,12.09,27,27v2.35c0,4.54-3.68,8.21-8.21,8.21s-8.22-3.68-8.22-8.21v-2.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g><g><path d="M88.91,130H37c-4.97,0-9-4.03-9-9V55c0-4.96,4.03-9,9-9h108c4.97,0,9,4.04,9,9v42.32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polyline points="151 49 91 97 31 49" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.digi"></div></div>')(o.$scope)).addClass("icnLbl")),!0!==o.parentCtrl.isdigitaloffer&&(o.iconLabel2=void 0,e=document.querySelectorAll('#item-ngrs > div > div > div[ng-if="$ctrl.physicalTileVisible"] > prm-service-physical-best-offer > div > div.icon-wrapper'),(t=document.querySelector('#item-ngrs > div > div > div[ng-if="$ctrl.physicalTileVisible"] > prm-service-physical-best-offer > div > div.icon-wrapper .icnWrp'))&&t.remove(),angular.element(e).after(o.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><line x1="6.16" y1="82.58" x2="29.16" y2="82.62" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="17.66" y1="97.91" x2="29.16" y2="97.95" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="25.33" y1="113.24" x2="29.16" y2="113.28" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><g><circle cx="151.84" cy="125.5" r="12" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><circle cx="67.84" cy="125.5" r="12" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polyline points="163.84 125.5 178.84 125.5 178.84 98.5 160.47 65.84 124.84 65.84 124.84 47.5 40.84 47.5 40.84 125.5 55.84 125.5" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="139.84" y1="125.5" x2="79.84" y2="125.5" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="124.84" y1="53.5" x2="124.84" y2="125.5" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="178.84" y1="98.5" x2="124.84" y2="98.5" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></g></svg></div><div class="iconLabel" translate="customized.fee.courier">Courier</div><div class="courierInfo" translate="customized.fee.localcourier">blabla bla Blaabl bla</div></div>')(o.$scope)).addClass("icnLbl2"))},0)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile","$timeout"]},{}],135:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspIconLabelRapidoModule=void 0;e=e("./slsp-icon-label-rapido.controller"),o.slspIconLabelRapidoModule=angular.module("slspIconLabelRapidoModule",[]).controller("slspIconLabelRapidoController",e.slspIconLabelRapidoController).component("slspIconLabelRapidoComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelRapidoController",template:"\n"})},{"./slsp-icon-label-rapido.controller":134}],136:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.$timeout=o,this.loaderTemplate='<div class="slsp-rapido-loader"><prm-spinner class="inline-loader dark-on-light" layout="row" layout-align="start center"></prm-spinner></div>'}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspRapidoDigitalOfferController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.isDone=!1}catch(e){console.error("***SLSP*** an error occured: Rapido onInit \n\n"),console.error(e.message)}}},{key:"$doCheck",value:function(){var o=this;try{var e=document.querySelectorAll('span[translate="rapido.tiles.placeholder.text"]');if(e&&Array.from(e).forEach(function(e){e.classList.contains("rapido-loading")||angular.element(e).after(o.$compile(o.loaderTemplate)(o.$scope)).addClass("rapido-loading")}),this.isDone)return;if(1==this.parentCtrl.tilesplaceholderactive)return;!0===this.parentCtrl.isdigitaloffer&&this.$timeout(function(){var e=document.querySelectorAll('div[ng-if="$ctrl.digitalTileVisible"] .patron_cost.last_line');angular.element(e).after(o.$compile('<div class="rapidoCosts" translate="customized.rapido.digi"></div>')(o.$scope))},20),!0!==this.parentCtrl.isdigitaloffer&&void 0!==this.parentCtrl.bestoffer&&!0===this.parentCtrl.bestoffer.unavailableInAllMembersPod&&!0===this.parentCtrl.bestoffer.unavailableResource&&this.$timeout(function(){var e=document.querySelectorAll("prm-service-physical-best-offer .get_it_btn_physical > span");angular.element(e).after(o.$compile('<div class="reservationButton" translate="customized.rapido.reservation"></div>')(o.$scope)).addClass("noOffer")},20),(!0!==this.parentCtrl.isdigitaloffer&&void 0!==this.parentCtrl.bestoffer&&"452167832730000041"==this.parentCtrl.bestoffer.podId||!0!==this.parentCtrl.isdigitaloffer&&void 0!==this.parentCtrl.bestoffer&&"452167827350000041"==this.parentCtrl.bestoffer.podId||!0!==this.parentCtrl.isdigitaloffer&&void 0!==this.parentCtrl.bestoffer&&"452497325370000041"==this.parentCtrl.bestoffer.podId||!0!==this.parentCtrl.isdigitaloffer&&void 0!==this.parentCtrl.bestoffer&&"452497929300000041"==this.parentCtrl.bestoffer.podId||!0!==this.parentCtrl.isdigitaloffer&&void 0!==this.parentCtrl.bestoffer&&"452084165700000041"==this.parentCtrl.bestoffer.podId)&&this.$timeout(function(){var e=document.querySelectorAll('div[ng-if="$ctrl.physicalTileVisible"] prm-service-physical-best-offer .keep_for span'),t=document.querySelectorAll("prm-service-ngrs");angular.element(e).after(o.$compile('<span class="reading-Room-Pod" translate="customized.rapido.readingroom"></span>')(o.$scope)).addClass("pod"),angular.element(t).addClass("reading-room")},20),this.isDone=!0}catch(e){console.error("***SLSP*** an error occured: Rapido doCheck \n\n"),console.error(e.message)}}}]),r)).$inject=["$scope","$compile","$timeout"]},{}],137:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspRapidoDigitalOfferModule=void 0;e=e("./slsp-rapido-digital-offer.controller"),o.slspRapidoDigitalOfferModule=angular.module("slspRapidoDigitalOfferModule",[]).controller("slspRapidoDigitalOfferController",e.slspRapidoDigitalOfferController).component("slspRapidoDigitalOfferComponent",{bindings:{afterCtrl:"<"},controller:"slspRapidoDigitalOfferController"})},{"./slsp-rapido-digital-offer.controller":136}],138:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}o.bcuScopesSelectorController=(function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e}(l,[{key:"$onInit",value:function(){setTimeout(function(){var e,t=document.querySelectorAll('[id^="select_option_"]');for(e in t)"object"===n(t[e])&&null!==t[e]&&(t[e].onclick=function(){setTimeout(function(){document.getElementsByClassName("zero-margin button-confirm md-button md-primoExplore-theme")[0].click()},100)})},100)}}]),l);function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l)}},{}],139:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.bcuScopesSelectorModule=void 0;e=e("./bcu-scopes-selector.controller"),o.bcuScopesSelectorModule=angular.module("bcuScopesSelectorModule",[]).controller("bcuScopesSelectorController",e.bcuScopesSelectorController).component("bcuScopesSelector",{bindings:{parentCtrl:"<"},controller:"bcuScopesSelectorController"})},{"./bcu-scopes-selector.controller":138}],140:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.bcuTabsAndScopesSelectorAfterModule=void 0;e=e("./bcu-scopes-selector/bcu-scopes-selector.module");(o.bcuTabsAndScopesSelectorAfterModule=angular.module("bcuTabsAndScopesSelectorAfterModule",[]).component("prmTabsAndScopesSelectorAfter",{template:'<bcu-scopes-selector after-ctrl="$ctrl"></bcu-scopes-selector><slsp-tabs-and-scopes-selector-after parent-ctrl="$parent.$ctrl"></slsp-tabs-and-scopes-selector-after>'})).requires.push(e.bcuScopesSelectorModule.name)},{"./bcu-scopes-selector/bcu-scopes-selector.module":139}],141:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmTopBarBeforeModule=void 0;e=e("./slsp-git-hint/slsp-git-hint.module");(o.prmTopBarBeforeModule=angular.module("prmTopBarBeforeModule",[]).component("prmTopBarBefore",{bindings:{parentCtrl:"<"},template:'\n            <slsp-git-hint-component after-ctrl="$ctrl"></slsp-git-hint-component>\n            <slsp-top-bar-before parent-ctrl="$parent.$ctrl"></<slsp-top-bar-before>'})).requires.push(e.slspGitHintModule.name)},{"./slsp-git-hint/slsp-git-hint.module":143}],142:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$scope=e,this.$compile=t,this.slspGitHintService=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspGitHintController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){var o=this,n=new Date;console.log("Current time:",n),this.slspGitHintService.getMessage().then(function(e){var t;e&&(o.data=e,o.lang=angular.element(document.querySelector("primo-explore")).injector().get("$rootScope").$$childHead.$ctrl.userSessionManagerService.getUserLanguage()||window.appConfig["primo-view"]["attributes-map"].interfaceLanguage,console.log("Raw startTime:",e.startTime),console.log("Raw endTime:",e.endTime),t=new Date(e.startTime),e=new Date(e.endTime),console.log("Converted startTime:",t),console.log("Converted endTime:",e),t<=n&&n<=e&&(e=document.querySelector("prm-explore-main, prm-back-to-search-results-button md-toolbar, prm-account"),angular.element(e).prepend(o.$compile('\n                        <div class="slsp-git-topbar" layout="row">\n                            <svg fill="#a8322d" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n                                <path d="M0 0h24v24H0V0z" fill="none"/>\n                                <path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>\n                            </svg>\n                            <span ng-bind-html="$ctrl.data[$ctrl.lang]"></span>\n                        </div>\n                    ')(o.$scope))))})}}]),r)).$inject=["$scope","$compile","slspGitHintService"]},{}],143:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspGitHintModule=void 0;var n=e("./slsp-git-hint.service"),e=e("./slsp-git-hint.controller");o.slspGitHintModule=angular.module("slspGitHintModule",[]).factory("slspGitHintService",n.slspGitHintService).controller("slspGitHintController",e.slspGitHintController).component("slspGitHintComponent",{controller:"slspGitHintController"})},{"./slsp-git-hint.controller":142,"./slsp-git-hint.service":144}],144:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.slspGitHintService=["$http","$sce",function(t,o){return{getMessage:function(){var e="https://swiss-library-service-platform.github.io/snippets/slsp-banner-text.json?timestamp="+(new Date).getTime();return o.trustAsResourceUrl(e),t.get(e,{headers:{"X-From-ExL-API-Gateway":void 0}}).then(function(e){return e.data},function(e){return console.error("***slsp*** An error occurred: slspGitHintService.getData error callback: "+e),null})}}}]},{}],145:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.prmUnionCatalogLoginAfterModule=void 0;e=e("./slsp-union-login-box/slsp-union-login-box.module");(o.prmUnionCatalogLoginAfterModule=angular.module("prmUnionCatalogLoginAfterModule",[]).component("prmUnionCatalogLoginAfter",{bindings:{parentCtrl:"<"},template:'\n            <slsp-union-login-box-component after-ctrl="$ctrl"></slsp-union-login-box-component>\n            <slsp-union-catalog-login-after parent-ctrl="$parent.$ctrl"></<slsp-union-catalog-login-after>'})).requires.push(e.slspUnionLoginBoxModule.name)},{"./slsp-union-login-box/slsp-union-login-box.module":147}],146:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,o,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this.$scope=e,this.$compile=t,this.$timeout=o,this.$rootScope=n,this.$window=r}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspUnionLoginBoxController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(l,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl}catch(e){console.error("***SLSP*** an error occured: Rapido hide Library\n\n"),console.error(e.message)}}},{key:"cancelUnionLogin",value:function(){this.parentCtrl.cancelLogin()}},{key:"getLanguage",value:function(){var e=this.$rootScope.$$childHead.$ctrl.userSessionManagerService;return e?e.getUserLanguage()||$window.appConfig["primo-view"]["attributes-map"].interfaceLanguage:"en"}}]),l)).$inject=["$scope","$compile","$timeout","$rootScope","$window"]},{}],147:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspUnionLoginBoxModule=void 0;e=e("./slsp-union-login-box.controller"),o.slspUnionLoginBoxModule=angular.module("slspUnionLoginBoxModule",[]).controller("slspUnionLoginBoxController",e.slspUnionLoginBoxController).component("slspUnionLoginBoxComponent",{bindings:{afterCtrl:"<"},controller:"slspUnionLoginBoxController",template:'<div class="union-loginbox-register">\n    <a ng-href="https://registration.slsp.ch/?lang={{ $ctrl.getLanguage() }}">\n        <span translate="nui.fulldisplay.otherLocations.register"></span>\n            <svg width="100%" height="100%" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fit=""\n                preserveAspectRatio="xMidYMid meet" focusable="false">\n                <path\n                    d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z">\n                </path>\n            </svg>\n        \n    </a>\n</div>\n\n\n<button class="md-button md-icon-button cancel-union-login" type="button" ng-click="$ctrl.cancelUnionLogin()" >\n    <svg width="100%" height="100%" viewBox="0 0 24 24" y="240" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false">\n        <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"></path>\n    </svg>\n</button>\n\n'})},{"./slsp-union-login-box.controller":146}],148:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.$parent=e.parent().parent()[0],this.$window=t,this.$timeout=o}Object.defineProperty(o,"__esModule",{value:!0}),(o.bcuLangSwitchController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$onInit",value:function(){var e=this;try{this.parentCtrl=this.afterCtrl.parentCtrl,this.languages=["de","fr","it","en"],this.languages.includes(this.parentCtrl.lang)||this.changeLanguage("en"),this.$timeout(function(){return e.initTooltipPositioning()})}catch(e){console.error("***BCUFR*** bcuLangSwitchControler $onInit"),console.error(e.message)}}},{key:"changeLanguage",value:function(e){this.parentCtrl.changeLangService.addLangParamToUrl(e);var t=this.parentCtrl;this.parentCtrl.i18nService.setLanguage(e).then(function(){t.$timeout(function(){return t.$state.go(t.$state.current,{lang:e},{reload:!0})})})}},{key:"getAriaLabelByLanguage",value:function(e){return this.getAriaLabels()[e]["aria_label_"+e]}},{key:"getAriaLabels",value:function(){return{de:{aria_label_de:"Deutsch",aria_label_en:"Englisch",aria_label_fr:"Französisch",aria_label_it:"Italienisch"},en:{aria_label_de:"German",aria_label_en:"English",aria_label_fr:"French",aria_label_it:"Italian"},fr:{aria_label_de:"Allemand",aria_label_en:"Anglais",aria_label_fr:"Français",aria_label_it:"Italien"},it:{aria_label_de:"Tedesco",aria_label_en:"Inglese",aria_label_fr:"Francese",aria_label_it:"Italiano"}}}},{key:"initTooltipPositioning",value:function(){var n=this;document.querySelectorAll(".custom-tooltip").forEach(function(e){var o=e.querySelector(".tooltip-text");e.addEventListener("mouseenter",function(){o.style.left="50%",o.style.right="auto",o.style.transform="translateX(-50%)";var e=o.getBoundingClientRect(),t=n.$window.innerWidth;e.right>t&&(o.style.left="auto",o.style.right="0",o.style.transform="none")})})}}]),r)).$inject=["$element","$window","$timeout"]},{}],149:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.bcuLangSwitchModule=void 0;e=e("./bcu-lang-switch.controller"),o.bcuLangSwitchModule=angular.module("bcuLangSwitchModule",[]).controller("bcuLangSwitchController",e.bcuLangSwitchController).component("bcuLangSwitchComponent",{bindings:{afterCtrl:"<"},controller:"bcuLangSwitchController",template:'<div class="custom-tooltip" \n     ng-repeat="lang in $ctrl.languages">\n    <button class="md-button md-lang-button" \n        ng-class="{active: $ctrl.afterCtrl.parentCtrl.lang == lang}" \n        ng-click="$ctrl.changeLanguage(lang)" \n        ng-attr-lang="{{lang}}" \n        ng-attr-aria-label="{{$ctrl.getAriaLabelByLanguage(lang)}}">\n        {{lang}}\n    </button>\n    <span class="tooltip-text">{{ $ctrl.getAriaLabelByLanguage(lang) }}</span>\n</div>'})},{"./bcu-lang-switch.controller":148}],150:[function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.slspIllSigninOrderLoggedOutService=e,this.$scope=t}Object.defineProperty(o,"__esModule",{value:!0}),(o.slspIllSigninOrderLoggedOutController=(function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}(r,[{key:"$doCheck",value:function(){try{return this.parentCtrl=this.afterCtrl.parentCtrl,this.$scope.usrNme=this.slspIllSigninOrderLoggedOutService.isGuest(),1!=this.$scope.usrNme?angular.element(document.querySelector("primo-explore")).removeClass("logged-out"):angular.element(document.querySelector("primo-explore")).addClass("logged-out")}catch(e){console.error("***SLSP*** an error occured: slspIllSigninOrderLoggedOutController\n\n"),console.error(e.message)}}}]),r)).$inject=["slspIllSigninOrderLoggedOutService","$scope"]},{}],151:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspIllSigninOrderLoggedOutModule=void 0;var n=e("./slsp-ill-signin-order-logged-out.controller"),e=e("./slsp-ill-signin-order-logged-out.service");o.slspIllSigninOrderLoggedOutModule=angular.module("slspIllSigninOrderLoggedOutModule",[]).factory("slspIllSigninOrderLoggedOutService",e.slspIllSigninOrderLoggedOutService).controller("slspIllSigninOrderLoggedOutController",n.slspIllSigninOrderLoggedOutController).component("slspIllSigninOrderLoggedOutComponent",{bindings:{afterCtrl:"<"},controller:"slspIllSigninOrderLoggedOutController"})},{"./slsp-ill-signin-order-logged-out.controller":150,"./slsp-ill-signin-order-logged-out.service":152}],152:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.slspIllSigninOrderLoggedOutService=["jwtHelper",function(t){function o(){try{if(!sessionStorage)return console.error("***SLSP*** no session storage"),null;var e=sessionStorage.getItem("primoExploreJwt");return e?t.decodeToken(e):null}catch(e){console.error("**SLSP*** an error occured: userService.getDecodedToken:"),console.error(e.message)}}return{isGuest:function(){try{var e=o();return e?!("GUEST"!==e.userGroup?e.userName:""):null}catch(e){console.error("***SLSP*** an error occured: userService.isGuest:"),console.error(e.message)}},getDecodedToken:o}}]},{}],153:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.slspUserAreaExpandableAfterModule=void 0;var n=e("./bcu-lang-switch/bcu-lang-switch.module"),e=e("./slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module"),o=o.slspUserAreaExpandableAfterModule=angular.module("slspUserAreaExpandableAfterModule",[]).component("prmUserAreaExpandableAfter",{bindings:{parentCtrl:"<"},template:'<bcu-lang-switch-component after-ctrl="$ctrl"></bcu-lang-switch-component><slsp-ill-signin-order-logged-out-component after-ctrl="$ctrl"></slsp-ill-signin-order-logged-out-component><slsp-user-area-expandable-after parent-ctrl="$parent.$ctrl"></slsp-user-area-expandable-after>'});o.requires.push(n.bcuLangSwitchModule.name),o.requires.push(e.slspIllSigninOrderLoggedOutModule.name)},{"./bcu-lang-switch/bcu-lang-switch.module":149,"./slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module":151}],154:[function(e,t,o){"use strict";e("./js/slsp-http-intercept-pickup-information.module.js"),t.exports="slspHttpInterceptPickupInformation"},{"./js/slsp-http-intercept-pickup-information.module.js":155}],155:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.slspHttpInterceptPickupInformation=angular.module("slspHttpInterceptPickupInformation",["ng"]).config(["$httpProvider",function(e){e.interceptors.push(["$q",function(t){return{request:function(e){return e},requestError:function(e){return t.reject(e)},responseError:function(e){return t.reject(e)},response:function(e){try{var t;/primaws\/rest\/pub\/ngrs\/ngrsPickupInformationUrl/.test(e.config.url)&&(t=angular.element(document.querySelector("primo-explore")).controller("primo-explore").userSessionManagerService.jwtUtilService.getDecodedToken().userGroup,["91","92","02"].includes(t)&&(e.data.personalDelivery="None"))}catch(e){console.log(e)}return e}}}])}])},{}],156:[function(e,t,o){"use strict";e("./js/slsp-http-intercept-requests.module.js"),t.exports="slspHttpInterceptRequests"},{"./js/slsp-http-intercept-requests.module.js":157}],157:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.slspHttpInterceptRequests=angular.module("slspHttpInterceptRequests",["ng"]).config(["$httpProvider",function(e){e.interceptors.push(["$q",function(t){return{request:function(e){return e},requestError:function(e){return t.reject(e)},responseError:function(e){return t.reject(e)},response:function(e){try{if(/primaws\/rest\/priv\/myaccount\/requests/.test(e.config.url)&&200==e.status&&"ok"==e.data.status){var t=angular.element(document.querySelector("primo-explore")).injector().get("$rootScope").$$childHead.$ctrl.userSessionManagerService.getUserLanguage()||window.appConfig["primo-view"]["attributes-map"].interfaceLanguage,o={en:["in transit","in process","on hold shelf"],de:["transfer","in bearbeitung","bereitgestellt"],fr:["en cours de transfert","en cours","sur le rayon des réservations"],it:["in transito","in processo","scaffale prenotazioni"]},n={en:["in transit","in process"],de:["transfer","in bearbeitung"],fr:["en cours de transfert","en cours"],it:["in transito","in processo"]};if(!Object.keys(o).includes(t))throw"No mapping found for holds: "+t;var r=RegExp(o[t].map(function(e){return e.toLowerCase()}).join("|"));if(e.data.data.holds.hold.map(function(e){r.test(e.holdstatus.toLowerCase())&&(e.cancel="N")}),!Object.keys(n).includes(t))throw"No mapping found for photocopies: "+t;var l=RegExp(n[t].map(function(e){return e.toLowerCase()}).join("|"));e.data.data.photocopies.photocopy.map(function(e){l.test(e.requeststatus.toLowerCase())&&(e.cancel="N")})}}catch(e){console.error(e)}return e}}}])}])},{}],158:[function(e,t,o){"use strict";e("./js/slsp-ill-signin-order-alert.module.js"),t.exports="slspIllSigninOrderAlert"},{"./js/slsp-ill-signin-order-alert.module.js":159}],159:[function(e,t,o){"use strict";angular.module("slspIllSigninOrderAlert",[]).controller("AlertMsgController",["$scope",function(e){var o=this;o.getAlert=function(){var e=o.parentCtrl.almaHowToGetitService.reqAlert._htmlMsg,t=angular.element(document.querySelector("primo-explore"));return 0<e.length?t.addClass("alert"):t.removeClass("alert")}}]).component("almaHowovpAfter",{bindings:{parentCtrl:"<"},controller:"AlertMsgController",template:'<div style="display:none">{{$ctrl.getAlert()}}</div><slsp-howovp-after parent-ctrl="$parent.$ctrl"></slsp-howovp-after>'})},{}]},{},[1]);
//# sourceMappingURL=custom.js.map
