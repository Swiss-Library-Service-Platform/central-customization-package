!function n(o,l,i){function s(t,e){if(!l[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(a)return a(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=l[t]={exports:{}},o[t][0].call(r.exports,function(e){return s(o[t][1][e]||e)},r,r.exports,n,o,l,i)}return l[t].exports}for(var a="function"==typeof require&&require,e=0;e<i.length;e++)s(i[e]);return s}({1:[function(e,t,r){"use strict";e("./slsp-courier-info"),e("./slsp-ill-signin-order-alert"),e("./prm-locations-after"),e("./prm-location-items-after"),e("./slsp-archives-htgi"),e("./slsp-archives-viewit"),e("./slsp-http-intercept-requests"),e("./prm-user-area-expandable-after"),e("./prm-loan-after"),e("./prm-personal-info-after"),e("./prm-alma-other-members-after"),e("./prm-service-ngrs-after"),e("./prm-service-physical-best-offer-after"),e("./slsp-http-intercept-pickup-information"),e("./prm-search-bar-after"),e("./prm-tabs-and-scopes-selector-after"),e("./prm-service-button-after"),e("./prm-full-view-after"),e("./prm-request-after");angular.module("centralCustom",["angularLoad","slspCourierInfo","slspIllSigninOrderAlert","ethLocationsAfterModule","ethLocationItemsAfterModule","slspArchivesHtgi","slspArchivesViewit","slspHttpInterceptRequests","slspUserAreaExpandableAfterModule","slspLoanAfterModule","slspPersonalInfoAfterModule","prmAlmaOtherMembersAfterModule","prmServiceNgrsAfterModule","prmServicePhysicalBestOfferAfterModule","slspHttpInterceptPickupInformation","bcuSearchBarAfterModule","bcuTabsAndScopesSelectorAfterModule","prmServiceButtonAfterModule","prmFullViewAfterModule","slspRequestAfterModule"])},{"./prm-alma-other-members-after":2,"./prm-full-view-after":7,"./prm-loan-after":10,"./prm-location-items-after":13,"./prm-locations-after":23,"./prm-personal-info-after":30,"./prm-request-after":33,"./prm-search-bar-after":36,"./prm-service-button-after":39,"./prm-service-ngrs-after":42,"./prm-service-physical-best-offer-after":45,"./prm-tabs-and-scopes-selector-after":50,"./prm-user-area-expandable-after":56,"./slsp-archives-htgi":57,"./slsp-archives-viewit":59,"./slsp-courier-info":61,"./slsp-http-intercept-pickup-information":63,"./slsp-http-intercept-requests":65,"./slsp-ill-signin-order-alert":67}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmAlmaOtherMembersAfterModule=void 0;var n=e("./slsp-collapse-other-inst/slsp-collapse-other-inst.module"),e=e("./slsp-icon-label-other-members/slsp-icon-label-other-members.module"),r=r.prmAlmaOtherMembersAfterModule=angular.module("prmAlmaOtherMembersAfterModule",[]).component("prmAlmaOtherMembersAfter",{bindings:{parentCtrl:"<"},template:'<slsp-collapse-other-inst-component after-ctrl="$ctrl"></slsp-collapse-other-inst-component><slsp-icon-label-other-members-component after-ctrl="$ctrl"></slsp-icon-label-other-members-component><slsp-alma-other-members-after parent-ctrl="$parent.$ctrl"></slsp-alma-other-members-after>'});r.requires.push(n.slspCollapseOtherInstModule.name),r.requires.push(e.slspIconLabelOtherMembersModule.name)},{"./slsp-collapse-other-inst/slsp-collapse-other-inst.module":4,"./slsp-icon-label-other-members/slsp-icon-label-other-members.module":6}],3:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.$timeout=e,this.$scope=t}Object.defineProperty(r,"__esModule",{value:!0}),(r.slspCollapseOtherInstController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$onInit",value:function(){var t=this;try{this.parentCtrl=this.afterCtrl.parentCtrl,this.$scope.$watch("this.$ctrl.parentCtrl.almaInstitutionsList",function(e){angular.isArray(e)&&1<e.length&&t.$timeout(function(){t.parentCtrl.isCollapsed=!0},0)})}catch(e){console.error("***SLSP*** an error occured: slspCollapseOtherInstController\n\n"),console.error(e.message)}}}]),o)).$inject=["$timeout","$scope"]},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspCollapseOtherInstModule=void 0;e=e("./slsp-collapse-other-inst.controller"),r.slspCollapseOtherInstModule=angular.module("slspCollapseOtherInstModule",[]).controller("slspCollapseOtherInstController",e.slspCollapseOtherInstController).component("slspCollapseOtherInstComponent",{bindings:{afterCtrl:"<"},controller:"slspCollapseOtherInstController",template:"\r\n"})},{"./slsp-collapse-other-inst.controller":3}],5:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.$scope=e,this.$compile=t,this.$timeout=r}Object.defineProperty(r,"__esModule",{value:!0}),(r.slspIconLabelOtherMembersController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$onInit",value:function(){var r=this;try{this.$timeout(function(){var e,t;r.parentCtrl=r.afterCtrl.parentCtrl,"E"==r.parentCtrl.availabilityType&&(r.iconLabelOtherMembersE=void 0,e=document.querySelectorAll("#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-other-members:nth-child(2) md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme"),angular.element(e).prepend(r.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><g><circle cx="130" cy="130" r="10.57" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><path d="M145.26,152.31c-4.34,2.98-9.6,4.69-15.26,4.69-14.91,0-27-12.09-27-27s12.09-27,27-27,27,12.09,27,27v2.35c0,4.54-3.68,8.21-8.21,8.21s-8.22-3.68-8.22-8.21v-2.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g><g><path d="M88.91,130H37c-4.97,0-9-4.03-9-9V55c0-4.96,4.03-9,9-9h108c4.97,0,9,4.04,9,9v42.32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polyline points="151 49 91 97 31 49" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></g></svg></div><div class="iconLabel">Label</div></div>')(r.$scope)).addClass("icnLblOtherMembersE")),"P"==r.parentCtrl.availabilityType&&(r.iconLabelOtherMembersP=void 0,t=document.querySelectorAll("#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-other-members:nth-child(3) md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme"),angular.element(t).prepend(r.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_4" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel">Label</div></div>')(r.$scope)).addClass("icnLblOtherMembersP")),"P"==r.parentCtrl.availabilityType&&(r.iconLabelOtherMembersP2=void 0,t=document.querySelectorAll("#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-other-members md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme"),angular.element(t).prepend(r.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_4" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><rect x="32.65" y="139.75" width="119.7" height="12.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><rect x="38.95" y="70.45" width="107.1" height="69.3" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="164.95" y1="152.35" x2="20.05" y2="152.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="51.55" y1="70.45" x2="51.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="83.05" y1="70.45" x2="83.05" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="70.45" y1="70.45" x2="70.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="101.95" y1="70.45" x2="101.95" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="114.55" y1="70.45" x2="114.55" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><line x1="133.45" y1="70.45" x2="133.45" y2="139.75" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polygon points="158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></svg></div><div class="iconLabel">Label</div></div>')(r.$scope)).addClass("icnLblOtherMembersP2"))},1e3)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),o)).$inject=["$scope","$compile","$timeout"]},{}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspIconLabelOtherMembersModule=void 0;e=e("./slsp-icon-label-other-members.controller"),r.slspIconLabelOtherMembersModule=angular.module("slspIconLabelOtherMembersModule",[]).controller("slspIconLabelOtherMembersController",e.slspIconLabelOtherMembersController).component("slspIconLabelOtherMembersComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelOtherMembersController",template:"\r\n"})},{"./slsp-icon-label-other-members.controller":5}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmFullViewAfterModule=void 0;e=e("./slsp-icon-label/slsp-icon-label.module");(r.prmFullViewAfterModule=angular.module("prmFullViewAfterModule",[]).component("prmFullViewAfter",{bindings:{parentCtrl:"<"},template:'<slsp-icon-label-component after-ctrl="$ctrl"></slsp-icon-label-component><slsp-full-view-after parent-ctrl="$parent.$ctrl"></slsp-full-view-after>'})).requires.push(e.slspIconLabelModule.name)},{"./slsp-icon-label/slsp-icon-label.module":9}],8:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.$scope=e,this.$compile=t,this.$timeout=r}Object.defineProperty(r,"__esModule",{value:!0}),(r.slspIconLabelController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$onInit",value:function(){var e=this;try{this.$timeout(function(){e.parentCtrl=e.afterCtrl.parentCtrl},3e3)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),o)).$inject=["$scope","$compile","$timeout"]},{}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspIconLabelModule=void 0;e=e("./slsp-icon-label.controller"),r.slspIconLabelModule=angular.module("slspIconLabelModule",[]).controller("slspIconLabelController",e.slspIconLabelController).component("slspIconLabelComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelController",template:"\r\n"})},{"./slsp-icon-label.controller":8}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspLoanAfterModule=void 0;e=e("./slsp-renew-item-text/slsp-renew-item-text.module");(r.slspLoanAfterModule=angular.module("slspLoanAfterModule",[]).component("prmLoanAfter",{bindings:{parentCtrl:"<"},template:'<slsp-renew-item-text-component after-ctrl="$ctrl"></slsp-renew-item-text-component><slsp-loan-after parent-ctrl="$parent.$ctrl"></slsp-loan-after>'})).requires.push(e.slspRenewItemTextModule.name)},{"./slsp-renew-item-text/slsp-renew-item-text.module":12}],11:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o)}Object.defineProperty(r,"__esModule",{value:!0}),(r.slspRenewItemTextController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.getRenewText=function(){if(void 0!==this.parentCtrl.item.renewstatuses&&void 0!==this.parentCtrl.item.renewstatuses.renewstatus[0])return this.parentCtrl.item.renewstatuses.renewstatus[0]}}catch(e){console.error("***SLSP*** an error occured: slspRenewItemTextController\n\n"),console.error(e.message)}}}]),o)).$inject=[]},{}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspRenewItemTextModule=void 0;e=e("./slsp-renew-item-text.controller"),r.slspRenewItemTextModule=angular.module("slspRenewItemTextModule",[]).controller("slspRenewItemTextController",e.slspRenewItemTextController).component("slspRenewItemTextComponent",{bindings:{afterCtrl:"<"},controller:"slspRenewItemTextController",template:'<div layout="row" class="LibInfo" layout-align="start center">\r\n    \r\n\r\n    <div class="md-subhead">\r\n    <span  class="md-subhead">{{$ctrl.getRenewText()}}</span>\r\n\r\n</div>\r\n<span></span>'})},{"./slsp-renew-item-text.controller":11}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethLocationItemsAfterModule=void 0;var n=e("./eth-mapongo/eth-mapongo-check.module"),o=e("./eth-mapongo/eth-mapongo.module"),e=e("./slsp-i-button/slsp-i-button.module"),r=r.ethLocationItemsAfterModule=angular.module("ethLocationItemsAfterModule",[]).component("prmLocationItemsAfter",{bindings:{parentCtrl:"<"},template:'\n\t\t<eth-mapongo-check after-ctrl="$ctrl"></eth-mapongo-check>\n        <slsp-i-button-component after-ctrl="$ctrl"></slsp-i-button-component>\n\t\t'});r.requires.push(n.ethMapongoCheckModule.name),r.requires.push(o.ethMapongoModule.name),r.requires.push(e.slspIButtonModule.name)},{"./eth-mapongo/eth-mapongo-check.module":16,"./eth-mapongo/eth-mapongo.module":20,"./slsp-i-button/slsp-i-button.module":22}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ethConfigService=["$rootScope",function(t){return{getLanguage:function(){try{var e=t.$$childHead.$ctrl.userSessionManagerService;return e?e.getUserLanguage()||$window.appConfig["primo-view"]["attributes-map"].interfaceLanguage:(console.error("***ETH*** ethConfigService: userSessionManagerService not available"),"en")}catch(e){return console.error("***ETH*** an error occured: ethConfigService.getLanguage():"),console.error(e.message),"en"}},getLabel:function(e,t){try{var r=this.getLanguage();return e.label[t]?e.label[t][r]||e.label[t].en:(console.error("***ETH*** ethConfigService.getLabel: '"+t+"' not in config"),t)}catch(e){return console.error("***ETH*** an error occured: ethConfigService.getLabel():"),console.error(e.message),""}},getUrl:function(e,t){try{var r=this.getLanguage();return e.url[t]?e.url[t][r]||e.url[t].en:(console.error("***ETH*** ethConfigService.getUrl: '"+t+"' not in config"),"")}catch(e){return console.error("***ETH*** an error occured: ethConfigService.getUrl():"),console.error(e.message),""}}}}]},{}],15:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.$scope=e,this.$compile=t,this.$element=r,this.ethMapongoLibrariesService=n,this.isMapongoLibrary=!0,this.noLocationItemAfter=0}Object.defineProperty(r,"__esModule",{value:!0}),(r.ethMapongoCheckController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl.parentCtrl}},{key:"$doCheck",value:function(){try{var e=this.$element[0].parentElement.parentElement.getElementsByTagName("prm-location-item-after"),t=e.length;if(t<=this.noLocationItemAfter)return;if(this.noLocationItemAfter=t,!this.isMapongoLibrary)return;if(!this.ethMapongoLibrariesService.isMapongoLibrary(this.parentCtrl.loc.location.libraryCode))return void(this.isMapongoLibrary=!1);var r=[].slice.call(e);this.recordid=this.parentCtrl.item.pnx.control.sourcerecordid[0];for(var n=0;n<this.parentCtrl.loc.items.length;n++){if(n>=r.length)return;var o,l,i=this.parentCtrl.loc.items[n],s=r[n];s.querySelector("eth-mapongo")||this.ethMapongoLibrariesService.isMapongoSubLocation(this.parentCtrl.loc.location.libraryCode,i._additionalData.secondarylocationname)&&this.ethMapongoLibrariesService.isAvailable(i._additionalData.itemstatusname)&&(this.subLocationCode=this.ethMapongoLibrariesService.getSubLocationCode(this.parentCtrl.loc.location.libraryCode,i._additionalData.secondarylocationname),this.callnumber=i._additionalData.callnumber,o=i.fullItemFields.filter(function(e){return-1<e.indexOf("Zusätzliche Signatur:")||-1<e.indexOf("Additional call number:")}),this.addCallnumber="",0<o.length&&(this.addCallnumber=o[0].replace("Zusätzliche Signatur: ","").replace("Additional call number: ","")),""!=this.addCallnumber&&(this.callnumber=this.addCallnumber),l=i.fullItemFields.filter(function(e){return-1<e.indexOf("Barcode:")||-1<e.indexOf("Strichcode:")}),this.barcode="",0<l.length&&(this.barcode=l[0].replace("Barcode: ","").replace("Strichcode: ","")),angular.element(s).append(this.$compile('<eth-mapongo after-ctrl="$ctrl" class="eth-mapongo-container" recordid="'+this.recordid+'" barcode="'+this.barcode+'" callnumber="'+this.callnumber+'" sublocation="'+this.subLocationCode+'"parent-ctrl="$ctrl.parentCtrl"></eth-mapongo>')(this.$scope)))}}catch(e){console.error("***ETH*** ethMapongoCheckController.$doCheck:"),console.error(e.message)}}}]),o)).$inject=["$scope","$compile","$element","ethMapongoLibrariesService"]},{}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethMapongoCheckModule=void 0;var n=e("./eth-mapongo-libraries.service"),e=e("./eth-mapongo-check.controller");r.ethMapongoCheckModule=angular.module("ethMapongoCheckModule",[]).factory("ethMapongoLibrariesService",n.ethMapongoLibrariesService).controller("ethMapongoCheckController",e.ethMapongoCheckController).component("ethMapongoCheck",{bindings:{afterCtrl:"<"},controller:"ethMapongoCheckController"})},{"./eth-mapongo-check.controller":15,"./eth-mapongo-libraries.service":17}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ethMapongoLibrariesService=[function(){var n=[{shortname:"ZHdK-MIZ",name:"ZHdK-MIZ",libraryCode:"E65",baseUrl:"https://zhdk.mapongo.de",locationCodeWhiteList:["E65G1","E65G2","E65E1","E65U1","E65U4"],locationWhiteList:["Galeriegeschoss","Galeriegeschoss","Eingangsgeschoss","Untergeschoss","Untergeschoss Curating Degree Zero Archive"]},{shortname:"ZHAW-HSB-ZH",name:"ZHAW Hochschulbibliothek Zürich",libraryCode:"E97",baseUrl:"https://zhdk.mapongo.de",locationCodeWhiteList:["E97E1"],locationWhiteList:["Eingangsgeschoss"]},{shortname:"ZHAW-HSB-WIN",name:"ZHAW Hochschulbibliothek Winterthur",libraryCode:"E51",baseUrl:"https://zhaw.mapongo.de",locationCodeWhiteList:["E51BA","E51B0","E51B9","E51B2","E51B8","E51BN","E51BL","E51BG","E51BT","E51BB","E51BW","E51BA","E51BK","E51BR"],locationWhiteList:["Architektur und Bau - 1. ZG","Neuerwerbungen - EG","Handapparate - EG","Compactus, offen - EG","Zeitschriften - EG","Allgemeines und Nachschlagewerke - EG","Angewandte Linguistik - EG","Gesundheit und Medizin - EG","Technik und Naturwissenschaften - 1. ZG","Wissenschaft und Bildung - EG","Wirtschaft und Management - 1. ZG","Architektur und Bau - 1. ZG","Kunst und Unterhaltung - EG","Recht und Politik - 2. ZG"]},{shortname:"PHZH",name:"PH Zürich, Bibliothek",libraryCode:"UPHZH",baseUrl:"https://phzh.mapongo.de",locationCodeWhiteList:["ULFHF","ULFHG","ULFHN","ULFHS"],locationWhiteList:["Stockwerk F - frei zugänglich","Stockwerk G - frei zugänglich","Stockwerk H Nord - frei zugänglich","Stockwerk H Süd - frei zugänglich"]},{shortname:"HGK-MED",name:"FHNW HGK-Mediathek Basel",libraryCode:"E75",baseUrl:"https://mediathek.hgk.fhnw.ch/nebis",locationCodeWhiteList:["HAP","E75BI","E75AC","E75MA","E75VS"],locationWhiteList:["Handapparat","Mediathek","Archiv","Magazin","Verschiedene Standorte"]},{shortname:"HGK-MED",name:"FHNW Campus Muttenz Bibliothek",libraryCode:"E44",baseUrl:"https://fhnw-cmu.mapongo.de",locationCodeWhiteList:["E44TE","E44BI","E44MG","E44VS"],locationWhiteList:["Ausleihe auf Anfrage, bitte Bibliothek kontaktieren","Bibliothek","Magazin: Nicht frei zugänglich, zur Abholung bestellen","Verschiedene Standorte"]}],e=["Exemplar ist vorhanden","Item in place","Exemplaire en rayon","Copia in posizione"];return{isMapongoLibrary:function(t){return 0<n.filter(function(e){return e.libraryCode===t}).length},isMapongoSubLocation:function(t,r){return 0<n.filter(function(e){return e.libraryCode===t&&-1<e.locationWhiteList.indexOf(r)}).length},getBaseUrl:function(e){var t;return(e=(t=e,0<(e=n.filter(function(e){return e.libraryCode===t})).length?e[0]:null))?e.baseUrl:""},getSubLocationCode:function(t,e){var r=n.filter(function(e){return e.libraryCode===t});return 0===r.length?null:(e=r[0].locationWhiteList.indexOf(e),r[0].locationCodeWhiteList[e])},isAvailable:function(t){return 0<e.filter(function(e){return e===t}).length}}}]},{}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ethMapongoConfig=function(){return{label:{qrc:{de:"Karte auf Smartphone laden",en:"Load map on your smartphone",fr:"Charger la carte sur votre smartphone"}}}}},{}],19:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.ethMapongoLibrariesService=e,this.ethConfigService=t,this.config=r,this.lang=this.ethConfigService.getLanguage()}Object.defineProperty(r,"__esModule",{value:!0}),(r.ethMapongoController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl.parentCtrl}},{key:"getMapongoImageSrc",value:function(){var e="";try{if(!this.parentCtrl.loc||!this.parentCtrl.loc.location)return void console.error("***ETH*** ethMapongoController.getMapongoImageSrc: loc or loc.location not available");var t=this.parentCtrl.loc.location,e=this.ethMapongoLibrariesService.getBaseUrl(t.libraryCode)+"/static_images/projects/1/search_thumbnail.jpg?project_id=1&search_key="+encodeURIComponent(this.callnumber);"E51"!==t.libraryCode&&"UPHZH"!==t.libraryCode||(e+="&search_context2="+encodeURIComponent(this.sublocation)),"E65"===t.libraryCode&&(e+="&e="+encodeURIComponent(this.recordid))}catch(e){console.error("***ETH*** EthMapongoController.getMapongoImageSrc:"),console.error(e.message)}return e}},{key:"getMapongoUrl",value:function(){var e="";try{var t=this.parentCtrl.loc.location,e=this.ethMapongoLibrariesService.getBaseUrl(t.libraryCode)+"/viewer?project_id=1&search_key="+encodeURIComponent(this.callnumber)+"&language="+this.lang+"&e="+encodeURIComponent(this.recordid);"E51"!==t.libraryCode&&"UPHZH"!==t.libraryCode||(e+="&search_context2="+encodeURIComponent(this.sublocation)),""!=this.barcode&&(e+="&bcd="+this.barcode)}catch(e){console.error("***ETH*** EthMapongoController.getMapongoUrl:"),console.error(e.message)}return e}},{key:"getMapongoQRC",value:function(){var e="";try{var t=this.parentCtrl.loc.location,e=this.ethMapongoLibrariesService.getBaseUrl(t.libraryCode)+"/static_images/projects/1/search_qrcode.png?project_id=1&search_key="+encodeURIComponent(this.callnumber)+"&language="+this.lang+"&e="+encodeURIComponent(this.recordid);"E51"!==t.libraryCode&&"UPHZH"!==t.libraryCode||(e+="&search_context2="+encodeURIComponent(this.sublocation)),""!=this.barcode&&(e+="&bcd="+this.barcode)}catch(e){console.error("***ETH*** EthMapongoController.getMapongoQRC:"),console.error(e.message)}return e}}]),o)).$inject=["ethMapongoLibrariesService","ethConfigService","ethMapongoConfig"]},{}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethMapongoModule=void 0;var n=e("./eth-config.service"),o=e("./eth-mapongo.config"),l=e("./eth-mapongo-libraries.service"),e=e("./eth-mapongo.controller");r.ethMapongoModule=angular.module("ethMapongoModule",[]).factory("ethConfigService",n.ethConfigService).factory("ethMapongoConfig",o.ethMapongoConfig).factory("ethMapongoLibrariesService",l.ethMapongoLibrariesService).controller("ethMapongoController",e.ethMapongoController).component("ethMapongo",{bindings:{afterCtrl:"<",recordid:"@",callnumber:"@",barcode:"@",sublocation:"@"},controller:"ethMapongoController",template:'<div class="eth-mapongo" layout="row" layout-sm="column" layout-xs="column">\n    <div class="eth-mapongo-qrc">\n        <img alt="QR Code" src="{{$ctrl.getMapongoQRC()}}"/>\n        <div>{{::$ctrl.ethConfigService.getLabel($ctrl.config, \'qrc\')}}</div>\n    </div>\n    <div class="eth-mapongo-link">\n        <a target="_blank" href="{{$ctrl.getMapongoUrl()}}">\n            <img alt="Mapongo" src="{{$ctrl.getMapongoImageSrc()}}"/>\n        </a>\n    </div>\n</div>\n'})},{"./eth-config.service":14,"./eth-mapongo-libraries.service":17,"./eth-mapongo.config":18,"./eth-mapongo.controller":19}],21:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o)}Object.defineProperty(r,"__esModule",{value:!0}),(r.slspIButtonController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$doCheck",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.getLibrary=function(){return this.parentCtrl.currLoc.location.librarycodeTranslation},this.getLibraryCode=function(){return this.parentCtrl.currLoc.location.libraryCode},this.getLanguage=function(){return this.parentCtrl.userSessionManagerService.$location.$$search.lang},this.biblinkText="Library",this.biblinkBase="https://registration.slsp.ch/libraries/?library="}catch(e){console.error("***SLSP*** an error occured: slspIButtonController\n\n"),console.error(e.message)}}}]),o)).$inject=[]},{}],22:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspIButtonModule=void 0;e=e("./slsp-i-button.controller"),r.slspIButtonModule=angular.module("slspIButtonModule",[]).controller("slspIButtonController",e.slspIButtonController).component("slspIButtonComponent",{bindings:{afterCtrl:"<"},controller:"slspIButtonController",template:'<div layout="row" class="LibInfo" layout-align="start center">\r\n    <span class="md-subhead">\r\n    <a ng-href="{{ $ctrl.biblinkBase }}{{ $ctrl.getLibraryCode() }}&lang={{ $ctrl.getLanguage() }}" target="_blank">\r\n        <img width="35px" ng-src="/discovery/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/img/information.png" />{{ $ctrl.getLibrary() }}</a>\r\n        </span>\r\n</div>'})},{"./slsp-i-button.controller":21}],23:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethLocationsAfterModule=void 0;var n=e("./eth-locations-filter/eth-locations-filter.module"),e=e("./slsp-icon-label-locations/slsp-icon-label-locations.module"),r=r.ethLocationsAfterModule=angular.module("ethLocationsAfterModule",[]).component("prmLocationsAfter",{bindings:{parentCtrl:"<"},template:'<eth-locations-filter-component after-ctrl="$ctrl"></eth-locations-filter-component><slsp-icon-label-locations-component after-ctrl="$ctrl"></slsp-icon-label-locations-component><slsp-locations-after parent-ctrl="$parent.$ctrl"></slsp-locations-after>'});r.requires.push(n.ethLocationsFilterModule.name),r.requires.push(e.slspIconLabelLocationsModule.name)},{"./eth-locations-filter/eth-locations-filter.module":25,"./slsp-icon-label-locations/slsp-icon-label-locations.module":27}],24:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.$timeout=e,this.$scope=t}Object.defineProperty(r,"__esModule",{value:!0}),(r.ethLocationsFilterController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$onInit",value:function(){var n=this;try{this.parentCtrl=this.afterCtrl.parentCtrl,this.$scope.$watch("this.$ctrl.parentCtrl.locations[0].location.librarycodeTranslation",function(e,t,r){!r.$ctrl.parentCtrl.isLocationsFilterVisible&&e&&""!=e&&n.$timeout(function(){r.$ctrl.parentCtrl.isLocationsFilterVisible=!0},0)},!0)}catch(e){console.error("***ETH*** an error occured: ethLocationsFilterController\n\n"),console.error(e.message)}}}]),o)).$inject=["$timeout","$scope"]},{}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethLocationsFilterModule=void 0;e=e("./eth-locations-filter.controller"),r.ethLocationsFilterModule=angular.module("ethLocationsFilterModule",[]).controller("ethLocationsFilterController",e.ethLocationsFilterController).component("ethLocationsFilterComponent",{bindings:{afterCtrl:"<"},controller:"ethLocationsFilterController"})},{"./eth-locations-filter.controller":24}],26:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.$scope=e,this.$compile=t,this.$timeout=r}Object.defineProperty(r,"__esModule",{value:!0}),(r.slspIconLabelLocationsController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$onInit",value:function(){var t=this;try{this.$timeout(function(){var e;t.parentCtrl=t.afterCtrl.parentCtrl,"getit_link1_0"===t.parentCtrl.serviceScrollId&&(t.iconLabelLocations=void 0,e=document.querySelectorAll('prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if="!$ctrl.enableLibraryLevelList"] > md-list:nth-child(1)'),angular.element(e).prepend(t.$compile('<div class="icnWrp"><div class="iconDiv"><svg xmlns="http://www.w3.org/2000/svg" id="Ebene_2" width="100%" height="100%" viewBox="0 0 185 185"><g id="System_icons"><g><rect width="185" height="185" fill="none" opacity=".2"/><g><g><circle cx="130" cy="130" r="10.57" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><path d="M145.26,152.31c-4.34,2.98-9.6,4.69-15.26,4.69-14.91,0-27-12.09-27-27s12.09-27,27-27,27,12.09,27,27v2.35c0,4.54-3.68,8.21-8.21,8.21s-8.22-3.68-8.22-8.21v-2.35" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g><g><path d="M88.91,130H37c-4.97,0-9-4.03-9-9V55c0-4.96,4.03-9,9-9h108c4.97,0,9,4.04,9,9v42.32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/><polyline points="151 49 91 97 31 49" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="6"/></g></g></g></g></svg></div><div class="iconLabel">Locations</div></div>')(t.$scope)).addClass("icnLblLocations"))},1e3)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),o)).$inject=["$scope","$compile","$timeout"]},{}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspIconLabelLocationsModule=void 0;e=e("./slsp-icon-label-locations.controller"),r.slspIconLabelLocationsModule=angular.module("slspIconLabelLocationsModule",[]).controller("slspIconLabelLocationsController",e.slspIconLabelLocationsController).component("slspIconLabelLocationsComponent",{bindings:{afterCtrl:"<"},controller:"slspIconLabelLocationsController",template:"\r\n"})},{"./slsp-icon-label-locations.controller":26}],28:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.$scope=e,this.$element=t}Object.defineProperty(r,"__esModule",{value:!0}),(r.slspEditPersonalDetailsController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$doCheck",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl;var e="en",t=this.$scope.$root.$$childHead.$ctrl.userSessionManagerService;t&&(e=t.getInterfaceLanguage()),this.detailsBaseEdu="https://eduid.ch/web/change-account-data/2/?lang="+e,this.detailsBaseReg="https://registration.slsp.ch/library-card/?lang="+e,this.exclude=["STAFF","11","12","13","14","15","16","91","92","99"],this.grpA=["11","91","92"],this.grpB=["12","13","14","15","16"],this.getPatronGrp=function(){if(void 0===this.parentCtrl.personalInfoService.personalInfo)return!1;var e=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;return!this.exclude.includes(e)},this.grpLabelA=function(){if(void 0===this.parentCtrl.personalInfoService.personalInfo)return!1;var e=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;return!!this.grpA.includes(e)},this.grpLabelB=function(){if(void 0===this.parentCtrl.personalInfoService.personalInfo)return!1;var e=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;return!!this.grpB.includes(e)},this.buttonMove=function(){var e=angular.element(document.querySelector("prm-personal-info > div.layout-wrap.layout-align-center-start.layout-row > md-card:nth-child(2)")),t=angular.element(document.querySelector("#SLSPeditPersonalDetails"));e.append(t)}}catch(e){console.error("***SLSP*** an error occured: EditPersonalDetailsController\n\n"),console.error(e.message)}}}]),o)).$inject=["$scope"]},{}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspEditPersonalDetailsModule=void 0;e=e("./slsp-edit-personal-details.controller"),r.slspEditPersonalDetailsModule=angular.module("slspEditPersonalDetailsModule",[]).controller("slspEditPersonalDetailsController",e.slspEditPersonalDetailsController).component("slspEditPersonalDetailsComponent",{bindings:{afterCtrl:"<"},controller:"slspEditPersonalDetailsController",template:'<span>{{ $ctrl.buttonMove() }}</span>\r\n<md-card ng-if="$ctrl.grpLabelA()" translate="customized.libraries.details" flex="100"\r\n    class="bar alert-bar courier-info">\r\n</md-card>\r\n<md-card ng-if="$ctrl.grpLabelB()" translate="customized.slsp.details" flex="100" class="bar alert-bar courier-info">\r\n</md-card>\r\n\r\n<div  layout="column">\r\n    <md-button ng-if="$ctrl.getPatronGrp()" href="{{ $ctrl.detailsBaseEdu }}" target="_blank" layout="row"\r\n        class="courier-info bar alert-bar layout-align-left-center layout-row" layout-align="left center">\r\n        <span class="md-subhead">\r\n            <prm-icon class="rotate-20 margin-right-small" icon-type="svg" svg-icon-set="primo-ui"\r\n                icon-definition="pencil">\r\n            </prm-icon>\r\n            <span class="md-subhead" translate="customized.personal.details">\r\n            </span>\r\n    </md-button>\r\n\r\n    <br />\r\n\r\n    <md-button ng-if="$ctrl.getPatronGrp()" href="{{ $ctrl.detailsBaseReg }}" target="_blank" layout="row"\r\n        class="courier-info bar alert-bar layout-align-left-center layout-row" layout-align="left center">\r\n        <prm-icon class="rotate-20 margin-right-small" icon-type="svg" svg-icon-set="primo-ui"\r\n            icon-definition="account-card-details">\r\n        </prm-icon><span class="md-subhead" translate="customized.libcard.number">\r\n\r\n        </span>\r\n    </md-button>\r\n</div>\r\n'})},{"./slsp-edit-personal-details.controller":28}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspPersonalInfoAfterModule=void 0;e=e("./slsp-edit-personal-details/slsp-edit-personal-details.module");(r.slspPersonalInfoAfterModule=angular.module("slspPersonalInfoAfterModule",[]).component("prmPersonalInfoAfter",{bindings:{parentCtrl:"<"},template:'<slsp-edit-personal-details-component after-ctrl="$ctrl" id="SLSPeditPersonalDetails"></slsp-edit-personal-details-component><slsp-personal-info-after parent-ctrl="$parent.$ctrl"></slsp-personal-info-after>'})).requires.push(e.slspEditPersonalDetailsModule.name)},{"./slsp-edit-personal-details/slsp-edit-personal-details.module":29}],31:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.$element=e[0],this.form=this.$element.parentElement.parentElement,this.display=!1}Object.defineProperty(r,"__esModule",{value:!0}),(r.bcuFeesLinkController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$doCheck",value:function(){var e,t=!1;console.log("old-module"),void 0!==this.form.children[0].children[1]&&void 0!==this.form.children[0].children[1].children[0]?t=this.form.children[0].children[1].children[0]:void 0!==this.form.children[0].children[0]&&void 0!==this.form.children[0].children[0].children[0]&&(t=this.form.children[0].children[0].children[0]),t&&2<=t.children.length&&!1===this.display&&(this.display=!0,(e=document.createElement("DIV")).className="courier-info bar alert-bar",e.innerHTML="<h4>"+this.afterCtrl.parentCtrl.$translate.instant("customize.fullview.feesTitle")+"</h4>\n\t\t<p>"+this.afterCtrl.parentCtrl.$translate.instant("customize.fullview.feesInfo")+'</p>\n\t\t<p><a href="'+this.afterCtrl.parentCtrl.$translate.instant("customize.fullview.feesUrl")+'"\n\t\ttarget="_blank">'+this.afterCtrl.parentCtrl.$translate.instant("customize.fullview.feesLinkText")+"</a></p>",t.insertBefore(e,t.children[t.children.length-1]))}}]),o)).$inject=["$element"]},{}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bcuFeesLinkModule=void 0;e=e("./bcu-fees-link.controller"),r.bcuFeesLinkModule=angular.module("bcuFeesLinkModule",[]).controller("bcuFeesLinkController",e.bcuFeesLinkController).component("bcuFeesLinkComponent",{bindings:{afterCtrl:"<"},controller:"bcuFeesLinkController"})},{"./bcu-fees-link.controller":31}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspRequestAfterModule=void 0;var n=e("./bcu-fees-link/bcu-fees-link.module"),e=e("./slsp-request-cancel-button/slsp-request-cancel-button.module"),r=r.slspRequestAfterModule=angular.module("slspRequestAfterModule",[]).component("slspRequestAfter",{bindings:{parentCtrl:"<"},template:'<bcu-fees-link-component after-ctrl="$ctrl"></bcu-fees-link-component><slsp-request-cancel-button-component after-ctrl="$ctrl"></slsp-request-cancel-button-component>'});r.requires.push(n.bcuFeesLinkModule.name),r.requires.push(e.slspRequestCancelButtonModule.name)},{"./bcu-fees-link/bcu-fees-link.module":32,"./slsp-request-cancel-button/slsp-request-cancel-button.module":35}],34:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.$scope=e}Object.defineProperty(r,"__esModule",{value:!0}),(r.slspRequestCancelButtonController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$onInit",value:function(){try{this.scope.$watch("$parent.$ctrl.requestsDisplay",function(e){angular.isArray(e)&&0<e.length&&angular.forEach(e,function(e){"ill"===e.requestType&&("DELIVERED"===e.statusCode||"LOST_COMMUNICATED"===e.statusCode||"RECALLED_BOR"===e.statusCode||"RECEIVED_DIGITALLY"===e.statusCode||"RECEIVED_NOT_FOR_LOAN"===e.statusCode||"RECEIVED_PHYSICALLY"===e.statusCode||"RENEWED"===e.statusCode||"RENEW_NOT_ACCEPTED"===e.statusCode||"RENEW_REQUESTED"===e.statusCode||"REQUEST_COMPLETED"===e.statusCode||"SHIPPED_DIGITALLY"===e.statusCode||"SHIPPED_PHYSICALLY"===e.statusCode?e.isCancelable=!1:e.isCancelable=!0)})})}catch(e){console.error("***SLSP*** an error occured: RequestCancelButton \n\n"),console.error(e.message)}}}]),o)).$inject=["$scope"]},{}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspRequestCancelButtonModule=void 0;e=e("./slsp-request-cancel-button.controller"),r.slspRequestCancelButtonModule=angular.module("slspRequestCancelButtonModule",[]).controller("slspRequestCancelButtonController",e.slspRequestCancelButtonController).component("slspRequestCancelButtonComponent",{bindings:{afterCtrl:"<"},controller:"slspRequestCancelButtonController"})},{"./slsp-request-cancel-button.controller":34}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bcuSearchBarAfterModule=void 0;e=e("./bcu-search-slots/bcu-search-slots.module");(r.bcuSearchBarAfterModule=angular.module("bcuSearchBarAfterModule",[]).component("prmSearchBarAfter",{bindings:{parentCtrl:"<"},template:'<bcu-search-slots-component after-ctrl="$ctrl"></bcu-search-slots-component>'})).requires.push(e.bcuSearchSlotsModule.name)},{"./bcu-search-slots/bcu-search-slots.module":38}],37:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(r,"__esModule",{value:!0});r.bcuSearchSlotsController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$onInit",value:function(){this.parentCtrl=this.afterCtrl.parentCtrl,this.parentCtrl.showTabsAndScopes=!0}}]),o);function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o)}},{}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bcuSearchSlotsModule=void 0;e=e("./bcu-search-slots.controller"),r.bcuSearchSlotsModule=angular.module("bcuSearchSlotsModule",[]).controller("bcuSearchSlotsController",e.bcuSearchSlotsController).component("bcuSearchSlotsComponent",{bindings:{afterCtrl:"<"},controller:"bcuSearchSlotsController"})},{"./bcu-search-slots.controller":37}],39:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmServiceButtonAfterModule=void 0;e=e("./slsp-digitization-button-label/slsp-digitization-button-label.module");(r.prmServiceButtonAfterModule=angular.module("prmServiceButtonAfterModule",[]).component("prmServiceButtonAfter",{bindings:{parentCtrl:"<"},template:'<slsp-digitization-button-label-component after-ctrl="$ctrl"></slsp-digitization-button-label><slsp-service-button-after parent-ctrl="$parent.$ctrl"></slsp-service-button-after>'})).requires.push(e.slspDigitizationButtonLabelModule.name)},{"./slsp-digitization-button-label/slsp-digitization-button-label.module":41}],40:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.$scope=e,this.$compile=t,this.$timeout=r}Object.defineProperty(r,"__esModule",{value:!0}),(r.slspDigitizationButtonLabelController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$onInit",value:function(){var t=this;try{this.$timeout(function(){t.parentCtrl=t.afterCtrl.parentCtrl,t.digiButtonLabel=void 0;var e=document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate="AlmaDigitization"]');angular.element(e).after(t.$compile('<div class="DigiButtonLabel">CHF</div>')(t.$scope)).addClass("digiButton")},0)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),o)).$inject=["$scope","$compile","$timeout"]},{}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspDigitizationButtonLabelModule=void 0;e=e("./slsp-digitization-button-label.controller"),r.slspDigitizationButtonLabelModule=angular.module("slspDigitizationButtonLabelModule",[]).controller("slspDigitizationButtonLabelController",e.slspDigitizationButtonLabelController).component("slspDigitizationButtonLabelComponent",{bindings:{afterCtrl:"<"},controller:"slspDigitizationButtonLabelController",template:"\r\n"})},{"./slsp-digitization-button-label.controller":40}],42:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmServiceNgrsAfterModule=void 0;e=e("./slsp-rapido-fees-link/slsp-rapido-fees-link.module");(r.prmServiceNgrsAfterModule=angular.module("prmServiceNgrsAfterModule",[]).component("prmServiceNgrsAfter",{bindings:{parentCtrl:"<"},template:'<slsp-rapido-fees-link-component after-ctrl="$ctrl"></slsp-rapido-fees-link-component><slsp-service-ngrs-after parent-ctrl="$parent.$ctrl"></<slsp-service-ngrs-after>'})).requires.push(e.slspRapidoFeesLinkModule.name)},{"./slsp-rapido-fees-link/slsp-rapido-fees-link.module":44}],43:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.$scope=e,this.$compile=t}Object.defineProperty(r,"__esModule",{value:!0}),(r.slspRapidoFeesLinkController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.rapidoFeesLink=void 0;var e=document.querySelector("#rapidoOffer div.full-view-section-content prm-full-view-service-container div.section-head h4");angular.element(e).after(this.$compile('<div class="rapidoFeesLink neutralized-button arrow-link-button md-button md-primoExplore-theme md-ink-ripple"><a href="https://slsp.ch/de/fees" target="_blank"><span translate="customized.rapido.fees">see fees details via link</span><prm-icon link-arrow="" icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right" [display-mode]="::$ctrl.displayMode">\x3c!----\x3e<md-icon ng-if="::($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())" md-svg-icon="primo-ui:chevron-right" role="presentation" class="md-primoExplore-theme"><svg id="chevron-right_cache76" width="100%" height="100%" viewBox="0 0 24 24" y="384" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false">\n                <path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"></path>\n            </svg></md-icon>\x3c!----\x3e\x3c!----\x3e<prm-icon-after parent-ctrl="$ctrl"></prm-icon-after></prm-icon></a></div>')(this.$scope))}catch(e){console.error("***SLSP*** an error occured: Rapido Fees Link\n\n"),console.error(e.message)}}}]),o)).$inject=["$scope","$compile"]},{}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspRapidoFeesLinkModule=void 0;e=e("./slsp-rapido-fees-link.controller"),r.slspRapidoFeesLinkModule=angular.module("slspRapidoFeesLinkModule",[]).controller("slspRapidoFeesLinkController",e.slspRapidoFeesLinkController).component("slspRapidoFeesLinkComponent",{bindings:{afterCtrl:"<"},controller:"slspRapidoFeesLinkController",template:""})},{"./slsp-rapido-fees-link.controller":43}],45:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prmServicePhysicalBestOfferAfterModule=void 0;e=e("./slsp-rapido-digital-offer/slsp-rapido-digital-offer.module");(r.prmServicePhysicalBestOfferAfterModule=angular.module("prmServicePhysicalBestOfferAfterModule",[]).component("prmServicePhysicalBestOfferAfter",{bindings:{parentCtrl:"<"},template:'<slsp-rapido-digital-offer-component after-ctrl="$ctrl"></slsp-rapido-digital-offer-component>'})).requires.push(e.slspRapidoDigitalOfferModule.name)},{"./slsp-rapido-digital-offer/slsp-rapido-digital-offer.module":47}],46:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.$scope=e,this.$compile=t,this.$timeout=r}Object.defineProperty(r,"__esModule",{value:!0}),(r.slspRapidoDigitalOfferController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$onInit",value:function(){var n=this;try{this.$timeout(function(){var e,t,r;n.parentCtrl=n.afterCtrl.parentCtrl,!0===n.parentCtrl.isdigitaloffer&&(n.rapidoCosts=void 0,e=document.querySelectorAll('div[ng-if="$ctrl.digitalTileVisible"] .patron_cost.last_line'),angular.element(e).after(n.$compile('<div class="rapidoCosts" translate="customized.rapido.digi"></div>')(n.$scope))),null==n.parentCtrl.bestoffer&&!0===n.parentCtrl.isdigitaloffer&&(n.reservation=void 0,t=document.querySelectorAll("prm-service-physical-best-offer .get_it_btn_physical > span"),angular.element(t).after(n.$compile('<div class="reservationButton" translate="customized.rapido.reservation"></div>')(n.$scope)).addClass("noOffer")),!0!==n.parentCtrl.isdigitaloffer&&void 0!==n.parentCtrl.bestoffer&&"377067383680000041"==n.parentCtrl.bestoffer.podId&&(n.readingRoomPod=void 0,t=document.querySelectorAll('div[ng-if="$ctrl.physicalTileVisible"] prm-service-physical-best-offer .keep_for span'),angular.element(t).after(n.$compile('<span class="reading-Room-Pod" translate="customized.rapido.readingroom"></span>')(n.$scope)).addClass("pod")),!0===n.parentCtrl.isdigitaloffer&&(n.iconLabel=void 0,r=document.querySelectorAll('#item-ngrs > div > div > div[ng-if="$ctrl.digitalTileVisible"] > prm-service-physical-best-offer > div > div.icon-wrapper > prm-icon > md-icon'),angular.element(r).after(n.$compile('<div class="iconLabel">digi</div>')(n.$scope)).addClass("icnLbl")),!0!==n.parentCtrl.isdigitaloffer&&(n.iconLabel2=void 0,r=document.querySelectorAll('#item-ngrs > div > div > div[ng-if="$ctrl.physicalTileVisible"] > prm-service-physical-best-offer > div > div.icon-wrapper > prm-icon > md-icon'),angular.element(r).after(n.$compile('<div class="iconLabel">courier</div>')(n.$scope)).addClass("icnLbl2"))},2500)}catch(e){console.error("***SLSP*** an error occured: Rapido \n\n"),console.error(e.message)}}}]),o)).$inject=["$scope","$compile","$timeout"]},{}],47:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspRapidoDigitalOfferModule=void 0;e=e("./slsp-rapido-digital-offer.controller"),r.slspRapidoDigitalOfferModule=angular.module("slspRapidoDigitalOfferModule",[]).controller("slspRapidoDigitalOfferController",e.slspRapidoDigitalOfferController).component("slspRapidoDigitalOfferComponent",{bindings:{afterCtrl:"<"},controller:"slspRapidoDigitalOfferController"})},{"./slsp-rapido-digital-offer.controller":46}],48:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(r,"__esModule",{value:!0});r.bcuScopesSelectorController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$onInit",value:function(){this.check=!0}},{key:"$doCheck",value:function(){if(this.check){var e=document.querySelectorAll('[id^="select_option_"]');if(e.length){console.log("added"),this.check=!1;for(var t=0;t<e.length;t++)e[t].onclick=function(){setTimeout(function(){document.getElementsByClassName("zero-margin button-confirm md-button md-primoExplore-theme")[0].click()},0)}}}}}]),o);function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o)}},{}],49:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bcuScopesSelectorModule=void 0;e=e("./bcu-scopes-selector.controller"),r.bcuScopesSelectorModule=angular.module("bcuScopesSelectorModule",[]).controller("bcuScopesSelectorController",e.bcuScopesSelectorController).component("bcuScopesSelector",{bindings:{parentCtrl:"<"},controller:"bcuScopesSelectorController"})},{"./bcu-scopes-selector.controller":48}],50:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bcuTabsAndScopesSelectorAfterModule=void 0;e=e("./bcu-scopes-selector/bcu-scopes-selector.module");(r.bcuTabsAndScopesSelectorAfterModule=angular.module("bcuTabsAndScopesSelectorAfterModule",[]).component("prmTabsAndScopesSelectorAfter",{template:'<bcu-scopes-selector after-ctrl="$ctrl"></bcu-scopes-selector>'})).requires.push(e.bcuScopesSelectorModule.name)},{"./bcu-scopes-selector/bcu-scopes-selector.module":49}],51:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.$parent=e.parent().parent()[0],this.parentCtrl=this.afterCtrl.parentCtrl,this.$window=t}Object.defineProperty(r,"__esModule",{value:!0}),(r.bcuLangSwitchController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$onInit",value:function(){try{this.languages=["de","fr","it","en"],this.languages.includes(this.parentCtrl.lang)||this.changeLanguage("en")}catch(e){console.error("***BCUFR*** bcuLangSwitchControler $onInit"),console.error(e.message)}}},{key:"changeLanguage",value:function(e){this.parentCtrl.changeLangService.addLangParamToUrl(e);var t=this.parentCtrl;this.parentCtrl.i18nService.setLanguage(e).then(function(){t.$timeout(function(){return t.$state.go(t.$state.current,{lang:e},{reload:!0})})})}}]),o)).$inject=["$element"]},{}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bcuLangSwitchModule=void 0;e=e("./bcu-lang-switch.controller"),r.bcuLangSwitchModule=angular.module("bcuLangSwitchModule",[]).controller("bcuLangSwitchController",e.bcuLangSwitchController).component("bcuLangSwitchComponent",{bindings:{afterCtrl:"<"},controller:"bcuLangSwitchController",template:'<button class="md-button md-lang-button" ng-repeat="lang in $ctrl.languages" ng-class="{active: $ctrl.afterCtrl.parentCtrl.lang == lang}" ng-click="$ctrl.changeLanguage(lang)">{{lang}}</button>'})},{"./bcu-lang-switch.controller":51}],53:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.slspIllSigninOrderLoggedOutService=e,this.$scope=t}Object.defineProperty(r,"__esModule",{value:!0}),(r.slspIllSigninOrderLoggedOutController=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(o,[{key:"$doCheck",value:function(){try{return this.parentCtrl=this.afterCtrl.parentCtrl,this.$scope.usrNme=this.slspIllSigninOrderLoggedOutService.isGuest(),1!=this.$scope.usrNme?angular.element(document.querySelector("primo-explore")).removeClass("logged-out"):angular.element(document.querySelector("primo-explore")).addClass("logged-out")}catch(e){console.error("***SLSP*** an error occured: slspIllSigninOrderLoggedOutController\n\n"),console.error(e.message)}}}]),o)).$inject=["slspIllSigninOrderLoggedOutService","$scope"]},{}],54:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspIllSigninOrderLoggedOutModule=void 0;var n=e("./slsp-ill-signin-order-logged-out.controller"),e=e("./slsp-ill-signin-order-logged-out.service");r.slspIllSigninOrderLoggedOutModule=angular.module("slspIllSigninOrderLoggedOutModule",[]).factory("slspIllSigninOrderLoggedOutService",e.slspIllSigninOrderLoggedOutService).controller("slspIllSigninOrderLoggedOutController",n.slspIllSigninOrderLoggedOutController).component("slspIllSigninOrderLoggedOutComponent",{bindings:{afterCtrl:"<"},controller:"slspIllSigninOrderLoggedOutController"})},{"./slsp-ill-signin-order-logged-out.controller":53,"./slsp-ill-signin-order-logged-out.service":55}],55:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.slspIllSigninOrderLoggedOutService=["jwtHelper",function(t){function r(){try{if(!sessionStorage)return console.error("***SLSP*** no session storage"),null;var e=sessionStorage.getItem("primoExploreJwt");return e?t.decodeToken(e):null}catch(e){console.error("**SLSP*** an error occured: userService.getDecodedToken:"),console.error(e.message)}}return{isGuest:function(){try{var e=r();return e?!("GUEST"!==e.userGroup?e.userName:""):null}catch(e){console.error("***SLSP*** an error occured: userService.isGuest:"),console.error(e.message)}},getDecodedToken:r}}]},{}],56:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspUserAreaExpandableAfterModule=void 0;var n=e("./bcu-lang-switch/bcu-lang-switch.module"),e=e("./slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module"),r=r.slspUserAreaExpandableAfterModule=angular.module("slspUserAreaExpandableAfterModule",[]).component("prmUserAreaExpandableAfter",{bindings:{parentCtrl:"<"},template:'<bcu-lang-switch-component after-ctrl="$ctrl"></bcu-lang-switch-component><slsp-ill-signin-order-logged-out-component after-ctrl="$ctrl"></slsp-ill-signin-order-logged-out-component><slsp-user-area-expandable-after parent-ctrl="$parent.$ctrl"></slsp-user-area-expandable-after>'});r.requires.push(n.bcuLangSwitchModule.name),r.requires.push(e.slspIllSigninOrderLoggedOutModule.name)},{"./bcu-lang-switch/bcu-lang-switch.module":52,"./slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module":54}],57:[function(e,t,r){"use strict";e("./js/slsp-archives-htgi.module.js"),t.exports="slspArchivesHtgi"},{"./js/slsp-archives-htgi.module.js":58}],58:[function(e,t,r){"use strict";angular.module("slspArchivesHtgi",[]).controller("ArchivesHtgiController",[function(){this.$onInit=function(){try{if(!this.parentCtrl.item.pnx.display.source||0===this.parentCtrl.item.pnx.display.source.length)return;var e,t;this.source=this.parentCtrl.item.pnx.display.source[0],"ETH_MaxFrischArchiv"!==this.source&&"ETH_ThomasMannArchiv"!==this.source||(document.getElementById("full-view-container").classList.add("slsp-archives-hide"),t=(e=this.parentCtrl.item.pnx.control.originalsourceid[0]).substring(e.lastIndexOf(":")+1),"ETH_ThomasMannArchiv"===this.source?this.url="http://www.online.tma.ethz.ch/home/#/content/"+t:"ETH_MaxFrischArchiv"===this.source&&(this.url="http://maxfrischarchiv-online.ethz.ch/home/#/content/"+t))}catch(e){console.error("***SLSP*** an error occured: ArchivesHtgiController\n\n"),console.error(e.message)}}}]).component("almaHtgiSvcAfter",{bindings:{parentCtrl:"<"},controller:"ArchivesHtgiController",template:'\n        <div class="slsp-archives" ng-if="$ctrl.url">\n            <md-list layout="column" class="separate-list-items md-primoExplore-theme layout-column" role="list">\n                <md-list-item role="listitem" ng-href="{{$ctrl.url}}" target="_blank">\n                      <span>{{(\'customized.archives.\' + $ctrl.source + \'.linktext\' | translate)}}</span>\n                    <span>{{$ctrl.label}}</span>\n                    <div class="md-secondary">\n                        <prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new" class="layout-margin"/>\n                    </div>\n                </md-list-item>\n            </md-list>\n            <div ng-if="$ctrl.source === \'ETH_ThomasMannArchiv\'" class="slsp-archives-additional-hint">\n                <div>\n                    <span translate="customized.archives.ETH_ThomasMannArchiv.text1">No request possible. The digitized item can be consulted in the Thomas Mann Archives reading room upon advance registration (</span>\n                    <a target="_blank" rel="noopener" ng-href="https://tma.ethz.ch/utils/kontakt.html">\n                        <span translate="customized.archives.ETH_ThomasMannArchiv.linktext2">Contact</span>\n                        <prm-icon external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon>\n                    </a>\n                    <span translate="customized.archives.ETH_ThomasMannArchiv.text2">).</span>\n                </div>\n            </div>\n            <div ng-if="$ctrl.source === \'ETH_MaxFrischArchiv\'" class="slsp-archives-additional-hint">\n                <div>\n                    <span translate="customized.archives.ETH_MaxFrischArchiv.text1">Informationen zu Bestellung und Benutzung siehe</span>\n                    <a target="_blank" rel="noopener" ng-href="http://maxfrischarchiv-online.ethz.ch/home/#/manual">\n                        <span translate="customized.archives.ETH_MaxFrischArchiv.linktext2">Bedienungshinweise</span>\n                        <prm-icon external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon>\n                    </a>\n                    <span translate="customized.archives.ETH_MaxFrischArchiv.text2">.</span>\n                </div>\n            </div>\n        </div><slsp-htgi-svc-after parent-ctrl="$parent.$ctrl"></slsp-htgi-svc-after>\n        '})},{}],59:[function(e,t,r){"use strict";e("./js/slsp-archives-viewit.module.js"),t.exports="slspArchivesViewit"},{"./js/slsp-archives-viewit.module.js":60}],60:[function(e,t,r){"use strict";angular.module("slspArchivesViewit",[]).component("prmSearchResultAvailabilityLineAfter",{bindings:{parentCtrl:"<"},controller:"ArchivesAvailabilityLineController",template:'<slsp-search-result-availability-line-after parent-ctrl="$parent.$ctrl"></slsp-search-result-availability-line-after>'}).component("prmAlmaViewitAfter",{bindings:{parentCtrl:"<"},controller:"ArchivesViewitController",template:'\n        <div class="slsp-archives" ng-if="$ctrl.url">\n            <md-list layout="column" class="separate-list-items md-primoExplore-theme layout-column" role="list">\n                <md-list-item role="listitem" ng-href="{{$ctrl.url}}" target="_blank">\n                    <span>{{(\'customized.archives.\' + $ctrl.source + \'.linktext\' | translate)}}</span>\n                    <span>{{$ctrl.label}}</span>\n                    <div class="md-secondary">\n                        <prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new" class="layout-margin"/>\n                    </div>\n                </md-list-item>\n            </md-list>\n            <div ng-if="$ctrl.source === \'ETH_Hochschularchiv\'" class="slsp-archives-additional-hint">\n                <div>\n                    <span translate="customized.archives.ETH_Hochschularchiv.text1">Informationen zu Bestellung und Benutzung siehe</span>\n                    <a target="_blank" rel="noopener" ng-href="http://archivdatenbank-online.ethz.ch/hsa/#/manual">\n                        <span translate="customized.archives.ETH_Hochschularchiv.linktext2">Bedienungshinweise</span>\n                        <prm-icon external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon>\n                    </a>\n                    <span translate="customized.archives.ETH_Hochschularchiv.text2">.</span>\n                </div>\n            </div>\n        </div><slsp-alma-viewit-after parent-ctrl="$parent.$ctrl"></slsp-alma-viewit-after>\n        '}).controller("ArchivesViewitController",["$translate",function(r){this.$onInit=function(){try{if(!this.parentCtrl.item.pnx.display.source||0===this.parentCtrl.item.pnx.display.source.length)return;if(this.source=this.parentCtrl.item.pnx.display.source[0],"ETH_Hochschularchiv"===this.source){if(this.parentCtrl.item.delivery.GetIt1&&0<this.parentCtrl.item.delivery.GetIt1.length&&this.parentCtrl.item.delivery.GetIt1[0].links&&0<this.parentCtrl.item.delivery.GetIt1[0].links.length){if(0<this.parentCtrl.item.delivery.GetIt1[0].links.filter(function(e){return!(!e.isLinktoOnline||""===e.link)}).length)return;r("nui.getit.service_howtogetit").then(function(e){var t=document.getElementById("fullView");angular.element(t.querySelector("h4[translate='nui.getit.service_viewit']")).text(e),angular.element(t.querySelector("#services-index span[translate='nui.getit.service_viewit']")).text(e)})}document.getElementById("full-view-container").classList.add("slsp-archives-hide");var e=this.parentCtrl.item.pnx.control.originalsourceid[0],t=e.substring(e.lastIndexOf(":")+1);"ETH_Hochschularchiv"===this.source&&(this.url="http://archivdatenbank-online.ethz.ch/hsa/#/content/"+t)}}catch(e){console.error("***SLSP*** an error occured: ArchivesViewitController\n\n"),console.error(e.message)}}}]).controller("ArchivesAvailabilityLineController",["$translate",function(r){this.$onInit=function(){var e,t=this;try{if(this.changeButton=!1,!this.parentCtrl.result.pnx.display.source||0===this.parentCtrl.result.pnx.display.source.length)return;if(this.source=this.parentCtrl.result.pnx.display.source[0],"ETH_Hochschularchiv"!==this.source)return;if(!this.parentCtrl.result.delivery.GetIt1||0==this.parentCtrl.result.delivery.GetIt1.length||!this.parentCtrl.result.delivery.GetIt1[0].links||0==this.parentCtrl.result.delivery.GetIt1[0].links.length)return;0===this.parentCtrl.result.delivery.GetIt1[0].links.filter(function(e){return!(!e.isLinktoOnline||""===e.link)}).length&&(r("delivery.code.no_inventory").then(function(e){t.changeButton=!0,t.changeButtonText=e}),(e=this.parentCtrl.$element[0])&&e.classList.add("slsp-hsa-no-online"))}catch(e){console.error("***SLSP*** an error occured: ArchivesAvailabilityLineController\n\n"),console.error(e.message)}},this.$doCheck=function(){try{var e;this.changeButton&&(e=this.parentCtrl.$element[0].querySelector(".availability-status"),angular.element(e)&&0<angular.element(e).length&&(angular.element(e).html(this.changeButtonText),this.changeButton=!1,this.changeButtonText=""))}catch(e){console.error("***ETH*** an error occured: ArchivesAvailabilityLineController $doCheck\n\n"),console.error(e.message)}}}])},{}],61:[function(e,t,r){"use strict";e("./js/slsp-courier-info.module.js"),t.exports="slspCourierInfo"},{"./js/slsp-courier-info.module.js":62}],62:[function(e,t,r){"use strict";angular.module("slspCourierInfo",[]).controller("CourierInfoController",["$element",function(e){this.form=e[0].parentElement,this.$doCheck=function(){var e,t=!1,r=2;void 0!==this.form.children[0].children[1]&&void 0!==this.form.children[0].children[1].children[0]?t=this.form.children[0].children[1].children[0]:void 0!==this.form.children[0].children[0]&&void 0!==this.form.children[0].children[0].children[0]&&(t=this.form.children[0].children[0].children[0],r=3),t&&t.children.length==r&&((e=document.createElement("DIV")).className="courier-info bar alert-bar",e.innerHTML="<h4>"+this.parentCtrl.$translate.instant("customize.fullview.feesTitle")+"</h4>\n\t\t<p>"+this.parentCtrl.$translate.instant("customize.fullview.feesInfo")+'</p>\n\t\t<p><a href="'+this.parentCtrl.$translate.instant("customize.fullview.feesUrl")+'"\n\t\ttarget="_blank">'+this.parentCtrl.$translate.instant("customize.fullview.feesLinkText")+"</a></p>",t.insertBefore(e,t.children[r-1]))}}]).component("prmRequestAfter",{bindings:{parentCtrl:"<"},controller:"CourierInfoController"})},{}],63:[function(e,t,r){"use strict";e("./js/slsp-http-intercept-pickup-information.module.js"),t.exports="slspHttpInterceptPickupInformation"},{"./js/slsp-http-intercept-pickup-information.module.js":64}],64:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.slspHttpInterceptPickupInformation=angular.module("slspHttpInterceptPickupInformation",["ng"]).config(["$httpProvider",function(e){e.interceptors.push(["$q",function(t){return{request:function(e){return e},requestError:function(e){return t.reject(e)},responseError:function(e){return t.reject(e)},response:function(e){try{var t;/primaws\/rest\/pub\/ngrs\/ngrsPickupInformationUrl/.test(e.config.url)&&(t=angular.element(document.querySelector("primo-explore")).controller("primo-explore").userSessionManagerService.jwtUtilService.getDecodedToken().userGroup,["91","92"].includes(t)&&(e.data.personalDelivery="None"))}catch(e){console.log(e)}return e}}}])}])},{}],65:[function(e,t,r){"use strict";e("./js/slsp-http-intercept-requests.module.js"),t.exports="slspHttpInterceptRequests"},{"./js/slsp-http-intercept-requests.module.js":66}],66:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.slspHttpInterceptRequests=angular.module("slspHttpInterceptRequests",["ng"]).config(["$httpProvider",function(e){e.interceptors.push(["$q",function(t){return{request:function(e){return e},requestError:function(e){return t.reject(e)},responseError:function(e){return t.reject(e)},response:function(e){try{if(/primaws\/rest\/priv\/myaccount\/requests/.test(e.config.url)&&200==e.status&&"ok"==e.data.status){var t=angular.element(document.querySelector("primo-explore")).injector().get("$rootScope").$$childHead.$ctrl.userSessionManagerService.getUserLanguage()||window.appConfig["primo-view"]["attributes-map"].interfaceLanguage,r={en:["in transit","in process","on hold shelf"],de:["transfer","in bearbeitung","bereitgestellt"],fr:["en cours de transfert","en cours","sur le rayon des réservations"],it:["in transito","in processo","scaffale prenotazioni"]},n={en:["in transit","in process"],de:["transfer","in bearbeitung"],fr:["en cours de transfert","en cours"],it:["in transito","in processo"]};if(!Object.keys(r).includes(t))throw"No mapping found for holds: "+t;var o=RegExp(r[t].map(function(e){return e.toLowerCase()}).join("|"));if(e.data.data.holds.hold.map(function(e){o.test(e.holdstatus.toLowerCase())&&(e.cancel="N")}),!Object.keys(n).includes(t))throw"No mapping found for photocopies: "+t;var l=RegExp(n[t].map(function(e){return e.toLowerCase()}).join("|"));e.data.data.photocopies.photocopy.map(function(e){l.test(e.requeststatus.toLowerCase())&&(e.cancel="N")})}}catch(e){console.error(e)}return e}}}])}])},{}],67:[function(e,t,r){"use strict";e("./js/slsp-ill-signin-order-alert.module.js"),t.exports="slspIllSigninOrderAlert"},{"./js/slsp-ill-signin-order-alert.module.js":68}],68:[function(e,t,r){"use strict";angular.module("slspIllSigninOrderAlert",[]).controller("AlertMsgController",["$scope",function(e){var r=this;r.getAlert=function(){var e=r.parentCtrl.almaHowToGetitService.reqAlert._htmlMsg,t=angular.element(document.querySelector("primo-explore"));return 0<e.length?t.addClass("alert"):t.removeClass("alert")}}]).component("almaHowovpAfter",{bindings:{parentCtrl:"<"},controller:"AlertMsgController",template:'<div style="display:none">{{$ctrl.getAlert()}}</div><slsp-howovp-after parent-ctrl="$parent.$ctrl"></slsp-howovp-after>'})},{}]},{},[1]);
//# sourceMappingURL=custom.js.map
